[debug] [2020-12-17T09:52:49.893Z] ----------------------------------------------------------------------
[debug] [2020-12-17T09:52:49.895Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\joset\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start --import=./firestore_export --export-on-exit
[debug] [2020-12-17T09:52:49.896Z] CLI Version:   9.0.0
[debug] [2020-12-17T09:52:49.896Z] Platform:      win32
[debug] [2020-12-17T09:52:49.896Z] Node Version:  v14.4.0
[debug] [2020-12-17T09:52:49.903Z] Time:          Thu Dec 17 2020 09:52:49 GMT+0000 (Greenwich Mean Time)
[debug] [2020-12-17T09:52:49.903Z] ----------------------------------------------------------------------
[debug] [2020-12-17T09:52:49.904Z] 
[debug] [2020-12-17T09:52:49.915Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-12-17T09:52:49.916Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: auth, functions, firestore, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore, hosting"}}
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project pedacinhos-de-amor. This may result in unexpected behavior. 
[debug] [2020-12-17T09:52:52.021Z] [hub] writing locator at C:\Users\joset\AppData\Local\Temp\hub-pedacinhos-de-amor.json
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: database, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mdatabase, pubsub\u001b[22m"}}
[warn] !  Your requested "node" version "10" doesn't match your global version "14" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"10\" doesn't match your global version \"14\""}}
[debug] [2020-12-17T09:52:54.102Z] defaultcredentials: writing to file C:\Users\joset\AppData\Roaming\firebase\trindade_jose77_gmail.com_application_default_credentials.json
[debug] [2020-12-17T09:52:54.105Z] Setting GAC to C:\Users\joset\AppData\Roaming\firebase\trindade_jose77_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\joset\\AppData\\Roaming\\firebase\\trindade_jose77_gmail.com_application_default_credentials.json"}}
[info] i  firestore: Importing data from C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\firestore_export\firestore_export\firestore_export.overall_export_metadata {"metadata":{"emulator":{"name":"firestore"},"message":"Importing data from C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\firestore_export\\firestore_export\\firestore_export.overall_export_metadata"}}
[debug] [2020-12-17T09:52:56.176Z] Ignoring unsupported arg: projectId {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: projectId"}}
[debug] [2020-12-17T09:52:56.176Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2020-12-17T09:52:56.176Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","C:\\Users\\joset\\.cache\\firebase\\emulators\\cloud-firestore-emulator-v1.11.11.jar","--host","localhost","--port",8080,"--seed_from_export","C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\firestore_export\\firestore_export\\firestore_export.overall_export_metadata","--rules","C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\firestore.rules","--functions_emulator","localhost:5001"],"optionalArgs":["port","webchannel_port","host","rules","functions_emulator","seed_from_export"],"joinArgs":false} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"C:\\\\Users\\\\joset\\\\.cache\\\\firebase\\\\emulators\\\\cloud-firestore-emulator-v1.11.11.jar\",\"--host\",\"localhost\",\"--port\",8080,\"--seed_from_export\",\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\firestore_export\\\\firestore_export\\\\firestore_export.overall_export_metadata\",\"--rules\",\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\firestore.rules\",\"--functions_emulator\",\"localhost:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"functions_emulator\",\"seed_from_export\"],\"joinArgs\":false}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[debug] [2020-12-17T09:52:58.929Z] API endpoint: http://localhost {"metadata":{"emulator":{"name":"firestore"},"message":"API endpoint: http://localhost"}}
[debug] [2020-12-17T09:52:58.930Z] :8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=localhost:8080

Dev App Server is now running.

 {"metadata":{"emulator":{"name":"firestore"},"message":":8080\nIf you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:\r\n\n   export FIRESTORE_EMULATOR_HOST=localhost:8080\n\nDev App Server is now running.\n\r\n"}}
[debug] [2020-12-17T09:53:07.120Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/pedacinhos-de-amor/webApps/-/config  
 
[debug] [2020-12-17T09:53:09.157Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 17 Dec 2020 10:52:09 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  hosting[pedacinhos-de-amor]: Serving hosting files from: dist/pedacinhos-de-amor {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mdist/pedacinhos-de-amor\u001b[22m"}}
[info] +  hosting[pedacinhos-de-amor]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2020-12-17T09:53:13.288Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2020-12-17T09:53:13.288Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2020-12-17T09:53:13.289Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\joset\\.cache\\firebase\\emulators\\ui-v1.4.0\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\joset\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.4.0\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2020-12-17T09:53:13.460Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\" for Cloud Functions..."}}
[debug] [2020-12-17T09:53:13.830Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-17T09:53:13.831Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-17T09:53:13.831Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-17T09:53:13.833Z] [worker-~diagnostic~-f4444a9b-eba5-4e38-9317-743bf0935220]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\4232 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f4444a9b-eba5-4e38-9317-743bf0935220]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\4232"}}
[debug] [2020-12-17T09:53:13.833Z] [worker-~diagnostic~-f4444a9b-eba5-4e38-9317-743bf0935220]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f4444a9b-eba5-4e38-9317-743bf0935220]: BUSY"}}
[debug] [2020-12-17T09:53:14.116Z] [runtime-status] [4232] Functions runtime initialized. {"cwd":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2020-12-17T09:53:14.116Z] [runtime-status] [4232] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] Disabled runtime features: undefined"}}
[debug] [2020-12-17T09:53:14.122Z] [runtime-status] [4232] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:14.126Z] [runtime-status] [4232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:14.128Z] [runtime-status] [4232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:14.129Z] [runtime-status] [4232] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-17T09:53:14.130Z] [runtime-status] [4232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:14.257Z] [runtime-status] [4232] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-17T09:53:14.258Z] [runtime-status] [4232] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T09:53:14.258Z] [runtime-status] [4232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:14.258Z] [runtime-status] [4232] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:14.258Z] [runtime-status] [4232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:14.258Z] [runtime-status] [4232] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T09:53:14.259Z] [runtime-status] [4232] initializeApp(DEFAULT) {"databaseURL":"https://pedacinhos-de-amor.firebaseio.com","storageBucket":"pedacinhos-de-amor.appspot.com","projectId":"pedacinhos-de-amor"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] initializeApp(DEFAULT) {\"databaseURL\":\"https://pedacinhos-de-amor.firebaseio.com\",\"storageBucket\":\"pedacinhos-de-amor.appspot.com\",\"projectId\":\"pedacinhos-de-amor\"}"}}
[debug] [2020-12-17T09:53:14.270Z] File C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2020-12-17T09:53:14.380Z] [runtime-status] [4232] auth.setJwtVerificationEnabled(false) {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [4232] auth.setJwtVerificationEnabled(false)"}}
[debug] [2020-12-17T09:53:14.381Z] addFirestoreTrigger "{\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2020-12-17T09:53:14.381Z] >>> HTTP REQUEST PUT http://localhost:8080/emulator/v1/projects/pedacinhos-de-amor/triggers/countBasketTotals-0  
 {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"}}
[debug] [2020-12-17T09:53:14.382Z] [worker-~diagnostic~-f4444a9b-eba5-4e38-9317-743bf0935220]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f4444a9b-eba5-4e38-9317-743bf0935220]: IDLE"}}
[debug] [2020-12-17T09:53:14.441Z] Dec 17, 2020 9:53:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:53:14.643Z] Dec 17, 2020 9:53:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:53:15.273Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-17T09:53:15.274Z] [worker-~diagnostic~-f4444a9b-eba5-4e38-9317-743bf0935220]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f4444a9b-eba5-4e38-9317-743bf0935220]: FINISHING"}}
[debug] [2020-12-17T09:53:15.280Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-17T09:53:15.280Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-17T09:53:15.280Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-17T09:53:15.280Z] [worker-~diagnostic~-7411e8d9-212d-44e4-90e6-3a348a15c603]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\12168 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7411e8d9-212d-44e4-90e6-3a348a15c603]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\12168"}}
[debug] [2020-12-17T09:53:15.280Z] [worker-~diagnostic~-7411e8d9-212d-44e4-90e6-3a348a15c603]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7411e8d9-212d-44e4-90e6-3a348a15c603]: BUSY"}}
[debug] [2020-12-17T09:53:15.287Z] [worker-~diagnostic~-f4444a9b-eba5-4e38-9317-743bf0935220]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f4444a9b-eba5-4e38-9317-743bf0935220]: exited"}}
[debug] [2020-12-17T09:53:15.288Z] [worker-~diagnostic~-f4444a9b-eba5-4e38-9317-743bf0935220]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f4444a9b-eba5-4e38-9317-743bf0935220]: FINISHED"}}
[debug] [2020-12-17T09:53:15.505Z] <<< HTTP RESPONSE 200 {"content-type":"application/json","content-length":"4"}
[info] +  functions[countBasketTotals]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬─────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI             │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Authentication │ localhost:9099 │ http://localhost:4000/auth      │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Functions      │ localhost:5001 │ http://localhost:4000/functions │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Firestore      │ localhost:8080 │ http://localhost:4000/firestore │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Hosting        │ localhost:5000 │ n/a                             │
└────────────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2020-12-17T09:53:15.712Z] [runtime-status] [12168] Functions runtime initialized. {"cwd":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2020-12-17T09:53:15.714Z] [runtime-status] [12168] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] Disabled runtime features: undefined"}}
[debug] [2020-12-17T09:53:15.720Z] [runtime-status] [12168] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:15.722Z] [runtime-status] [12168] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:15.724Z] [runtime-status] [12168] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:15.725Z] [runtime-status] [12168] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-17T09:53:15.726Z] [runtime-status] [12168] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:15.781Z] [runtime-status] [12168] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-17T09:53:15.781Z] [runtime-status] [12168] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T09:53:15.782Z] [runtime-status] [12168] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:15.783Z] [runtime-status] [12168] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:15.783Z] [runtime-status] [12168] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:53:15.784Z] [runtime-status] [12168] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T09:53:15.787Z] [runtime-status] [12168] initializeApp(DEFAULT) {"databaseURL":"https://pedacinhos-de-amor.firebaseio.com","storageBucket":"pedacinhos-de-amor.appspot.com","projectId":"pedacinhos-de-amor"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] initializeApp(DEFAULT) {\"databaseURL\":\"https://pedacinhos-de-amor.firebaseio.com\",\"storageBucket\":\"pedacinhos-de-amor.appspot.com\",\"projectId\":\"pedacinhos-de-amor\"}"}}
[debug] [2020-12-17T09:53:15.840Z] [runtime-status] [12168] auth.setJwtVerificationEnabled(false) {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12168] auth.setJwtVerificationEnabled(false)"}}
[debug] [2020-12-17T09:53:15.843Z] [worker-~diagnostic~-7411e8d9-212d-44e4-90e6-3a348a15c603]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7411e8d9-212d-44e4-90e6-3a348a15c603]: IDLE"}}
[debug] [2020-12-17T09:54:03.785Z] Dec 17, 2020 9:54:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:04.362Z] Dec 17, 2020 9:54:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:04.775Z] Dec 17, 2020 9:54:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:05.281Z] Dec 17, 2020 9:54:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:10.040Z] Dec 17, 2020 9:54:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:10.525Z] Dec 17, 2020 9:54:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:11.342Z] Dec 17, 2020 9:54:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:12.463Z] Dec 17, 2020 9:54:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:14.167Z] Dec 17, 2020 9:54:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:15.064Z] Dec 17, 2020 9:54:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:18.384Z] Dec 17, 2020 9:54:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:22.374Z] Dec 17, 2020 9:54:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:22.716Z] Dec 17, 2020 9:54:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:23.046Z] Dec 17, 2020 9:54:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:23.221Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:54:23.222Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:54:23.222Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:54:23.223Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-17T09:54:23.229Z] [worker-pool] addWorker(countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(countBasketTotals)"}}
[debug] [2020-12-17T09:54:23.230Z] [worker-pool] Adding worker with key countBasketTotals, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key countBasketTotals, total=1"}}
[debug] [2020-12-17T09:54:23.230Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:54:23.230Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T09:54:23.230Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T09:54:23.718Z] Dec 17, 2020 9:54:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:23.862Z] [runtime-status] [6200] Functions runtime initialized. {"cwd":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2020-12-17T09:54:23.864Z] [runtime-status] [6200] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Disabled runtime features: undefined"}}
[debug] [2020-12-17T09:54:23.870Z] [runtime-status] [6200] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:54:23.873Z] [runtime-status] [6200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:54:23.875Z] [runtime-status] [6200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:54:23.879Z] [runtime-status] [6200] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-17T09:54:23.879Z] [runtime-status] [6200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:54:23.932Z] Dec 17, 2020 9:54:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:23.985Z] [runtime-status] [6200] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-17T09:54:23.986Z] [runtime-status] [6200] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T09:54:23.986Z] [runtime-status] [6200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:54:23.988Z] [runtime-status] [6200] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:54:23.989Z] [runtime-status] [6200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:54:23.990Z] [runtime-status] [6200] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T09:54:23.994Z] [runtime-status] [6200] initializeApp(DEFAULT) {"databaseURL":"https://pedacinhos-de-amor.firebaseio.com","storageBucket":"pedacinhos-de-amor.appspot.com","projectId":"pedacinhos-de-amor"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] initializeApp(DEFAULT) {\"databaseURL\":\"https://pedacinhos-de-amor.firebaseio.com\",\"storageBucket\":\"pedacinhos-de-amor.appspot.com\",\"projectId\":\"pedacinhos-de-amor\"}"}}
[debug] [2020-12-17T09:54:24.052Z] [runtime-status] [6200] auth.setJwtVerificationEnabled(false) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] auth.setJwtVerificationEnabled(false)"}}
[debug] [2020-12-17T09:54:24.055Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:54:24.056Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:54:24.056Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:54:24.057Z] [runtime-status] [6200] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3Y1laeZe7QHtsHYq70HY","fields":{"product":{"mapValue":{"fields":{"color":{"stringValue":"#ffa1a1b2"},"description":{"stringValue":"63 20 13 70"},"discount":{"doubleValue":19012.30637392516},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}},"averageReview":{"doubleValue":2.829682472317514},"totalComments":{"doubleValue":206.14123511298925},"price":{"doubleValue":75976.47257955893},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:56.144Z"},"name":{"stringValue":"68 12"},"id":{"stringValue":"3Y1laeZe7QHtsHYq70HY"},"category":{"stringValue":"products"}}}},"quantity":{"integerValue":"1"},"lastUpdate":{"timestampValue":"2020-12-17T08:02:17.921Z"},"details":{"stringValue":""}},"createTime":"2020-12-17T09:53:15.444Z","updateTime":"2020-12-17T09:53:15.444Z"},"updateMask":{}},"context":{"eventId":"15b12a8c-0f34-4166-ae4a-b0dcaa4f22e1","timestamp":"2020-12-17T09:54:23.094Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3Y1laeZe7QHtsHYq70HY","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3Y1laeZe7QHtsHYq70HY\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"description\":{\"stringValue\":\"63 20 13 70\"},\"discount\":{\"doubleValue\":19012.30637392516},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}},\"averageReview\":{\"doubleValue\":2.829682472317514},\"totalComments\":{\"doubleValue\":206.14123511298925},\"price\":{\"doubleValue\":75976.47257955893},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:56.144Z\"},\"name\":{\"stringValue\":\"68 12\"},\"id\":{\"stringValue\":\"3Y1laeZe7QHtsHYq70HY\"},\"category\":{\"stringValue\":\"products\"}}}},\"quantity\":{\"integerValue\":\"1\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:02:17.921Z\"},\"details\":{\"stringValue\":\"\"}},\"createTime\":\"2020-12-17T09:53:15.444Z\",\"updateTime\":\"2020-12-17T09:53:15.444Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"15b12a8c-0f34-4166-ae4a-b0dcaa4f22e1\",\"timestamp\":\"2020-12-17T09:54:23.094Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3Y1laeZe7QHtsHYq70HY\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:54:24.057Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3Y1laeZe7QHtsHYq70HY","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3Y1laeZe7QHtsHYq70HY\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:54:24.058Z] [runtime-status] [6200] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3Y1laeZe7QHtsHYq70HY","fields":{"product":{"mapValue":{"fields":{"color":{"stringValue":"#ffa1a1b2"},"description":{"stringValue":"63 20 13 70"},"discount":{"doubleValue":19012.30637392516},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}},"averageReview":{"doubleValue":2.829682472317514},"totalComments":{"doubleValue":206.14123511298925},"price":{"doubleValue":75976.47257955893},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:56.144Z"},"name":{"stringValue":"68 12"},"id":{"stringValue":"3Y1laeZe7QHtsHYq70HY"},"category":{"stringValue":"products"}}}},"quantity":{"integerValue":"1"},"lastUpdate":{"timestampValue":"2020-12-17T08:02:17.921Z"},"details":{"stringValue":""}},"createTime":"2020-12-17T09:53:15.444Z","updateTime":"2020-12-17T09:53:15.444Z"},"updateMask":{}},"context":{"eventId":"15b12a8c-0f34-4166-ae4a-b0dcaa4f22e1","timestamp":"2020-12-17T09:54:23.094Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3Y1laeZe7QHtsHYq70HY"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3Y1laeZe7QHtsHYq70HY\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"description\":{\"stringValue\":\"63 20 13 70\"},\"discount\":{\"doubleValue\":19012.30637392516},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}},\"averageReview\":{\"doubleValue\":2.829682472317514},\"totalComments\":{\"doubleValue\":206.14123511298925},\"price\":{\"doubleValue\":75976.47257955893},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:56.144Z\"},\"name\":{\"stringValue\":\"68 12\"},\"id\":{\"stringValue\":\"3Y1laeZe7QHtsHYq70HY\"},\"category\":{\"stringValue\":\"products\"}}}},\"quantity\":{\"integerValue\":\"1\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:02:17.921Z\"},\"details\":{\"stringValue\":\"\"}},\"createTime\":\"2020-12-17T09:53:15.444Z\",\"updateTime\":\"2020-12-17T09:53:15.444Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"15b12a8c-0f34-4166-ae4a-b0dcaa4f22e1\",\"timestamp\":\"2020-12-17T09:54:23.094Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3Y1laeZe7QHtsHYq70HY\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[debug] [2020-12-17T09:54:25.136Z] Dec 17, 2020 9:54:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected HTTP/2 connection.\r\n"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -1 } { currentBasket: { totalQuantity: -1, totalPrice: 0 } } {"user":" { quantityIncrement: -1 } { currentBasket: { totalQuantity: -1, totalPrice: 0 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -1 } { currentBasket: { totalQuantity: -1, totalPrice: 0 } }"}}
[debug] [2020-12-17T09:54:25.212Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:54:25.214Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T09:54:25.214Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:54:28.193Z] Dec 17, 2020 9:54:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:28.209Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:54:28.209Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:54:28.209Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:54:28.209Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:54:28.209Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T09:54:28.209Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T09:54:28.213Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:54:28.214Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:54:28.214Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:54:28.215Z] [runtime-status] [6200] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"color":{"stringValue":"#ff6e6eb2"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}},"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"}}}},"quantity":{"integerValue":"1"},"lastUpdate":{"timestampValue":"2020-12-17T08:09:08.645Z"},"details":{"stringValue":""}},"createTime":"2020-12-17T09:53:15.444Z","updateTime":"2020-12-17T09:53:15.444Z"},"updateMask":{}},"context":{"eventId":"0bb37616-fac2-474c-bf2d-d367474e5fab","timestamp":"2020-12-17T09:54:28.197Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}},\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"}}}},\"quantity\":{\"integerValue\":\"1\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:09:08.645Z\"},\"details\":{\"stringValue\":\"\"}},\"createTime\":\"2020-12-17T09:53:15.444Z\",\"updateTime\":\"2020-12-17T09:53:15.444Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0bb37616-fac2-474c-bf2d-d367474e5fab\",\"timestamp\":\"2020-12-17T09:54:28.197Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:54:28.215Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:54:28.216Z] [runtime-status] [6200] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"color":{"stringValue":"#ff6e6eb2"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}},"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"}}}},"quantity":{"integerValue":"1"},"lastUpdate":{"timestampValue":"2020-12-17T08:09:08.645Z"},"details":{"stringValue":""}},"createTime":"2020-12-17T09:53:15.444Z","updateTime":"2020-12-17T09:53:15.444Z"},"updateMask":{}},"context":{"eventId":"0bb37616-fac2-474c-bf2d-d367474e5fab","timestamp":"2020-12-17T09:54:28.197Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}},\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"}}}},\"quantity\":{\"integerValue\":\"1\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:09:08.645Z\"},\"details\":{\"stringValue\":\"\"}},\"createTime\":\"2020-12-17T09:53:15.444Z\",\"updateTime\":\"2020-12-17T09:53:15.444Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0bb37616-fac2-474c-bf2d-d367474e5fab\",\"timestamp\":\"2020-12-17T09:54:28.197Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -1 } { currentBasket: { totalQuantity: -2, totalPrice: 0 } } {"user":" { quantityIncrement: -1 } { currentBasket: { totalQuantity: -2, totalPrice: 0 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -1 } { currentBasket: { totalQuantity: -2, totalPrice: 0 } }"}}
[debug] [2020-12-17T09:54:28.245Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:54:28.247Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T09:54:28.248Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:54:33.747Z] Dec 17, 2020 9:54:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:55:04.094Z] Dec 17, 2020 9:55:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:55:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:55:34.095Z] Dec 17, 2020 9:55:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:55:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:55:34.908Z] Dec 17, 2020 9:55:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:55:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:55:34.956Z] Dec 17, 2020 9:55:34 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:55:34 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T09:56:04.893Z] Dec 17, 2020 9:56:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:56:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:57:05.249Z] Dec 17, 2020 9:57:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:57:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:05.583Z] Dec 17, 2020 9:58:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:15.334Z] Dec 17, 2020 9:58:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 9:58:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 9:58:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 9:58:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 9:58:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:15.335Z] Dec 17, 2020 9:58:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:15.335Z] Dec 17, 2020 9:58:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:15.336Z] Dec 17, 2020 9:58:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:25.363Z] Dec 17, 2020 9:58:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:27.830Z] Dec 17, 2020 9:58:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:30.499Z] Dec 17, 2020 9:58:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:30.853Z] Dec 17, 2020 9:58:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:31.248Z] Dec 17, 2020 9:58:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:35.135Z] Dec 17, 2020 9:58:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:35.463Z] Dec 17, 2020 9:58:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:35.795Z] Dec 17, 2020 9:58:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:35.884Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:58:35.885Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:58:35.885Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:58:35.885Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:58:35.885Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T09:58:35.886Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T09:58:35.893Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:58:35.899Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:58:35.899Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:58:35.900Z] [runtime-status] [6200] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"color":{"stringValue":"#ff6e6eb2"},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T09:58:35.822Z"}},"createTime":"2020-12-17T09:58:35.871Z","updateTime":"2020-12-17T09:58:35.871Z"},"updateMask":{}},"context":{"eventId":"ff239691-e71d-4f66-a3b3-1213537f0658","timestamp":"2020-12-17T09:58:35.871Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T09:58:35.822Z\"}},\"createTime\":\"2020-12-17T09:58:35.871Z\",\"updateTime\":\"2020-12-17T09:58:35.871Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"ff239691-e71d-4f66-a3b3-1213537f0658\",\"timestamp\":\"2020-12-17T09:58:35.871Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:58:35.901Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:58:35.901Z] [runtime-status] [6200] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"color":{"stringValue":"#ff6e6eb2"},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T09:58:35.822Z"}},"createTime":"2020-12-17T09:58:35.871Z","updateTime":"2020-12-17T09:58:35.871Z"},"updateMask":{}},"context":{"eventId":"ff239691-e71d-4f66-a3b3-1213537f0658","timestamp":"2020-12-17T09:58:35.871Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T09:58:35.822Z\"}},\"createTime\":\"2020-12-17T09:58:35.871Z\",\"updateTime\":\"2020-12-17T09:58:35.871Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"ff239691-e71d-4f66-a3b3-1213537f0658\",\"timestamp\":\"2020-12-17T09:58:35.871Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 0.4291941099849672, {"user":"    averageReview: 0.4291941099849672,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 0.4291941099849672,"}}
[info] >      totalComments: 329.2614257125503, {"user":"    totalComments: 329.2614257125503,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 329.2614257125503,"}}
[info] >      color: '#ff6e6eb2', {"user":"    color: '#ff6e6eb2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ff6e6eb2',"}}
[info] >      price: 49232.7344053908, {"user":"    price: 49232.7344053908,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 49232.7344053908,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608192115, _nanoseconds: 871000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608192115, _nanoseconds: 871000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608192115, _nanoseconds: 871000000 },"}}
[info] >      name: '42 30 37', {"user":"    name: '42 30 37',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: '42 30 37',"}}
[info] >      description: '48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33', {"user":"    description: '48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: '48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33',"}}
[info] >      discount: 17164.178137648887, {"user":"    discount: 17164.178137648887,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 17164.178137648887,"}}
[info] >      id: 'R5dl3cjnnW2ZfUY5CzxE', {"user":"    id: 'R5dl3cjnnW2ZfUY5CzxE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'R5dl3cjnnW2ZfUY5CzxE',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608199115, _nanoseconds: 822000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608199115, _nanoseconds: 822000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608199115, _nanoseconds: 822000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T09:58:35.934Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:58:35.935Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T09:58:35.936Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } }"}}
[debug] [2020-12-17T09:58:36.231Z] Dec 17, 2020 9:58:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:36.261Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:58:36.261Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:58:36.261Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:58:36.262Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:58:36.262Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T09:58:36.262Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T09:58:36.266Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:58:36.267Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:58:36.268Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:58:36.269Z] [runtime-status] [6200] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.7979932889597183},"totalComments":{"doubleValue":110.98744830893618},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":43735.2207277715},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:56.118Z"},"name":{"stringValue":""},"description":{"stringValue":"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1"},"discount":{"doubleValue":49116.46900102898},"id":{"stringValue":"chBx1K6phOc8vEE38LZz"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T09:58:36.236Z"}},"createTime":"2020-12-17T09:58:36.244Z","updateTime":"2020-12-17T09:58:36.244Z"},"updateMask":{}},"context":{"eventId":"6cc3bb70-1ed0-47b6-bd39-e4a52a0ec270","timestamp":"2020-12-17T09:58:36.244Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.7979932889597183},\"totalComments\":{\"doubleValue\":110.98744830893618},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":43735.2207277715},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:56.118Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1\"},\"discount\":{\"doubleValue\":49116.46900102898},\"id\":{\"stringValue\":\"chBx1K6phOc8vEE38LZz\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T09:58:36.236Z\"}},\"createTime\":\"2020-12-17T09:58:36.244Z\",\"updateTime\":\"2020-12-17T09:58:36.244Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"6cc3bb70-1ed0-47b6-bd39-e4a52a0ec270\",\"timestamp\":\"2020-12-17T09:58:36.244Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:58:36.269Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:58:36.270Z] [runtime-status] [6200] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.7979932889597183},"totalComments":{"doubleValue":110.98744830893618},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":43735.2207277715},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:56.118Z"},"name":{"stringValue":""},"description":{"stringValue":"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1"},"discount":{"doubleValue":49116.46900102898},"id":{"stringValue":"chBx1K6phOc8vEE38LZz"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T09:58:36.236Z"}},"createTime":"2020-12-17T09:58:36.244Z","updateTime":"2020-12-17T09:58:36.244Z"},"updateMask":{}},"context":{"eventId":"6cc3bb70-1ed0-47b6-bd39-e4a52a0ec270","timestamp":"2020-12-17T09:58:36.244Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.7979932889597183},\"totalComments\":{\"doubleValue\":110.98744830893618},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":43735.2207277715},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:56.118Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1\"},\"discount\":{\"doubleValue\":49116.46900102898},\"id\":{\"stringValue\":\"chBx1K6phOc8vEE38LZz\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T09:58:36.236Z\"}},\"createTime\":\"2020-12-17T09:58:36.244Z\",\"updateTime\":\"2020-12-17T09:58:36.244Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"6cc3bb70-1ed0-47b6-bd39-e4a52a0ec270\",\"timestamp\":\"2020-12-17T09:58:36.244Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.7979932889597183, {"user":"    averageReview: 1.7979932889597183,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.7979932889597183,"}}
[info] >      totalComments: 110.98744830893618, {"user":"    totalComments: 110.98744830893618,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 110.98744830893618,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 43735.2207277715, {"user":"    price: 43735.2207277715,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 43735.2207277715,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608192116, _nanoseconds: 118000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608192116, _nanoseconds: 118000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608192116, _nanoseconds: 118000000 },"}}
[info] >      name: '', {"user":"    name: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: '',"}}
[info] >      description: '58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1', {"user":"    description: '58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: '58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1',"}}
[info] >      discount: 49116.46900102898, {"user":"    discount: 49116.46900102898,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 49116.46900102898,"}}
[info] >      id: 'chBx1K6phOc8vEE38LZz', {"user":"    id: 'chBx1K6phOc8vEE38LZz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'chBx1K6phOc8vEE38LZz',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608199116, _nanoseconds: 236000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608199116, _nanoseconds: 236000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608199116, _nanoseconds: 236000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T09:58:36.306Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:58:36.311Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T09:58:36.312Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }"}}
[debug] [2020-12-17T09:58:39.577Z] Dec 17, 2020 9:58:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:59:06.655Z] Dec 17, 2020 9:59:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:59:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:59:27.014Z] Dec 17, 2020 9:59:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:59:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:59:27.101Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:59:27.103Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:59:27.103Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:59:27.104Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:59:27.105Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T09:59:27.105Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T09:59:27.108Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:59:27.113Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:59:27.113Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:59:27.114Z] [runtime-status] [6200] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.7979932889597183},"totalComments":{"doubleValue":110.98744830893618},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":43735.2207277715},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:56.118Z"},"name":{"stringValue":""},"description":{"stringValue":"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1"},"discount":{"doubleValue":49116.46900102898},"id":{"stringValue":"chBx1K6phOc8vEE38LZz"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"chBx1K6phOc8vEE38LZz"},"lastUpdate":{"timestampValue":"2020-12-17T09:59:27.034Z"}},"createTime":"2020-12-17T09:58:36.244Z","updateTime":"2020-12-17T09:59:27.046Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.7979932889597183},"totalComments":{"doubleValue":110.98744830893618},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":43735.2207277715},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:56.118Z"},"name":{"stringValue":""},"description":{"stringValue":"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1"},"discount":{"doubleValue":49116.46900102898},"id":{"stringValue":"chBx1K6phOc8vEE38LZz"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T09:58:36.236Z"}},"createTime":"2020-12-17T09:58:36.244Z","updateTime":"2020-12-17T09:58:36.244Z"},"updateMask":{}},"context":{"eventId":"52a3bed5-2cbf-41b6-8abc-3d00cc189c87","timestamp":"2020-12-17T09:59:27.046Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.7979932889597183},\"totalComments\":{\"doubleValue\":110.98744830893618},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":43735.2207277715},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:56.118Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1\"},\"discount\":{\"doubleValue\":49116.46900102898},\"id\":{\"stringValue\":\"chBx1K6phOc8vEE38LZz\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"chBx1K6phOc8vEE38LZz\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T09:59:27.034Z\"}},\"createTime\":\"2020-12-17T09:58:36.244Z\",\"updateTime\":\"2020-12-17T09:59:27.046Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.7979932889597183},\"totalComments\":{\"doubleValue\":110.98744830893618},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":43735.2207277715},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:56.118Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1\"},\"discount\":{\"doubleValue\":49116.46900102898},\"id\":{\"stringValue\":\"chBx1K6phOc8vEE38LZz\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T09:58:36.236Z\"}},\"createTime\":\"2020-12-17T09:58:36.244Z\",\"updateTime\":\"2020-12-17T09:58:36.244Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"52a3bed5-2cbf-41b6-8abc-3d00cc189c87\",\"timestamp\":\"2020-12-17T09:59:27.046Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:59:27.115Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:59:27.115Z] [runtime-status] [6200] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.7979932889597183},"totalComments":{"doubleValue":110.98744830893618},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":43735.2207277715},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:56.118Z"},"name":{"stringValue":""},"description":{"stringValue":"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1"},"discount":{"doubleValue":49116.46900102898},"id":{"stringValue":"chBx1K6phOc8vEE38LZz"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"chBx1K6phOc8vEE38LZz"},"lastUpdate":{"timestampValue":"2020-12-17T09:59:27.034Z"}},"createTime":"2020-12-17T09:58:36.244Z","updateTime":"2020-12-17T09:59:27.046Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.7979932889597183},"totalComments":{"doubleValue":110.98744830893618},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":43735.2207277715},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:56.118Z"},"name":{"stringValue":""},"description":{"stringValue":"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1"},"discount":{"doubleValue":49116.46900102898},"id":{"stringValue":"chBx1K6phOc8vEE38LZz"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T09:58:36.236Z"}},"createTime":"2020-12-17T09:58:36.244Z","updateTime":"2020-12-17T09:58:36.244Z"},"updateMask":{}},"context":{"eventId":"52a3bed5-2cbf-41b6-8abc-3d00cc189c87","timestamp":"2020-12-17T09:59:27.046Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.7979932889597183},\"totalComments\":{\"doubleValue\":110.98744830893618},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":43735.2207277715},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:56.118Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1\"},\"discount\":{\"doubleValue\":49116.46900102898},\"id\":{\"stringValue\":\"chBx1K6phOc8vEE38LZz\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"chBx1K6phOc8vEE38LZz\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T09:59:27.034Z\"}},\"createTime\":\"2020-12-17T09:58:36.244Z\",\"updateTime\":\"2020-12-17T09:59:27.046Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.7979932889597183},\"totalComments\":{\"doubleValue\":110.98744830893618},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":43735.2207277715},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:56.118Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1\"},\"discount\":{\"doubleValue\":49116.46900102898},\"id\":{\"stringValue\":\"chBx1K6phOc8vEE38LZz\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T09:58:36.236Z\"}},\"createTime\":\"2020-12-17T09:58:36.244Z\",\"updateTime\":\"2020-12-17T09:58:36.244Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"52a3bed5-2cbf-41b6-8abc-3d00cc189c87\",\"timestamp\":\"2020-12-17T09:59:27.046Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.7979932889597183, {"user":"    averageReview: 1.7979932889597183,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.7979932889597183,"}}
[info] >      totalComments: 110.98744830893618, {"user":"    totalComments: 110.98744830893618,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 110.98744830893618,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 43735.2207277715, {"user":"    price: 43735.2207277715,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 43735.2207277715,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608192116, _nanoseconds: 118000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608192116, _nanoseconds: 118000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608192116, _nanoseconds: 118000000 },"}}
[info] >      name: '', {"user":"    name: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: '',"}}
[info] >      description: '58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1', {"user":"    description: '58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: '58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1',"}}
[info] >      discount: 49116.46900102898, {"user":"    discount: 49116.46900102898,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 49116.46900102898,"}}
[info] >      id: 'chBx1K6phOc8vEE38LZz', {"user":"    id: 'chBx1K6phOc8vEE38LZz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'chBx1K6phOc8vEE38LZz',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 4, {"user":"  quantity: 4,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 4,"}}
[info] >    id: 'chBx1K6phOc8vEE38LZz', {"user":"  id: 'chBx1K6phOc8vEE38LZz',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: 'chBx1K6phOc8vEE38LZz',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608199167, _nanoseconds: 34000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608199167, _nanoseconds: 34000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608199167, _nanoseconds: 34000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T09:59:27.174Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:59:27.182Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T09:59:27.183Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalQuantity: 5 } } {"user":" { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalQuantity: 5 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalQuantity: 5 } }"}}
[debug] [2020-12-17T09:59:27.408Z] Dec 17, 2020 9:59:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:59:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:59:27.414Z] Dec 17, 2020 9:59:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:59:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:59:57.210Z] Dec 17, 2020 9:59:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:59:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:00:03.780Z] Dec 17, 2020 10:00:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:00:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:00:27.800Z] Dec 17, 2020 10:00:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:00:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:00:27.800Z] Dec 17, 2020 10:00:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:00:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:00:27.808Z] Dec 17, 2020 10:00:27 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:00:27 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:01:03.900Z] Dec 17, 2020 10:01:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:01:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:01:28.173Z] Dec 17, 2020 10:01:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:01:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:02:04.237Z] Dec 17, 2020 10:02:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:02:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:02:13.912Z] Dec 17, 2020 10:02:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:02:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:03:04.563Z] Dec 17, 2020 10:03:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:03:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:03:14.290Z] Dec 17, 2020 10:03:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:03:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:04:14.689Z] Dec 17, 2020 10:04:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:04:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:04:20.907Z] Dec 17, 2020 10:04:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:04:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:05:15.087Z] Dec 17, 2020 10:05:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:05:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:05:21.250Z] Dec 17, 2020 10:05:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:05:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:06:21.592Z] Dec 17, 2020 10:06:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:06:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:06:30.931Z] Dec 17, 2020 10:06:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:06:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:21.932Z] Dec 17, 2020 10:07:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:24.315Z] Dec 17, 2020 10:07:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:24.754Z] Dec 17, 2020 10:07:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:24.770Z] Dec 17, 2020 10:07:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:30.321Z] Dec 17, 2020 10:07:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:30.673Z] Dec 17, 2020 10:07:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:30.997Z] Dec 17, 2020 10:07:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:31.026Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:07:31.026Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:07:31.026Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:07:31.026Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:07:31.026Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T10:07:31.027Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T10:07:31.030Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:07:31.034Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:07:31.034Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:07:31.035Z] [runtime-status] [6200] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"color":{"stringValue":"#ff6e6eb2"},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"lastUpdate":{"timestampValue":"2020-12-17T10:07:31.003Z"}},"createTime":"2020-12-17T09:58:35.871Z","updateTime":"2020-12-17T10:07:31.008Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"color":{"stringValue":"#ff6e6eb2"},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T09:58:35.822Z"}},"createTime":"2020-12-17T09:58:35.871Z","updateTime":"2020-12-17T09:58:35.871Z"},"updateMask":{}},"context":{"eventId":"ca97b4e6-9204-42f2-a838-332d0068bbf3","timestamp":"2020-12-17T10:07:31.008Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:07:31.003Z\"}},\"createTime\":\"2020-12-17T09:58:35.871Z\",\"updateTime\":\"2020-12-17T10:07:31.008Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T09:58:35.822Z\"}},\"createTime\":\"2020-12-17T09:58:35.871Z\",\"updateTime\":\"2020-12-17T09:58:35.871Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"ca97b4e6-9204-42f2-a838-332d0068bbf3\",\"timestamp\":\"2020-12-17T10:07:31.008Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:07:31.035Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:07:31.036Z] [runtime-status] [6200] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"color":{"stringValue":"#ff6e6eb2"},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"lastUpdate":{"timestampValue":"2020-12-17T10:07:31.003Z"}},"createTime":"2020-12-17T09:58:35.871Z","updateTime":"2020-12-17T10:07:31.008Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"color":{"stringValue":"#ff6e6eb2"},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T09:58:35.822Z"}},"createTime":"2020-12-17T09:58:35.871Z","updateTime":"2020-12-17T09:58:35.871Z"},"updateMask":{}},"context":{"eventId":"ca97b4e6-9204-42f2-a838-332d0068bbf3","timestamp":"2020-12-17T10:07:31.008Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:07:31.003Z\"}},\"createTime\":\"2020-12-17T09:58:35.871Z\",\"updateTime\":\"2020-12-17T10:07:31.008Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T09:58:35.822Z\"}},\"createTime\":\"2020-12-17T09:58:35.871Z\",\"updateTime\":\"2020-12-17T09:58:35.871Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"ca97b4e6-9204-42f2-a838-332d0068bbf3\",\"timestamp\":\"2020-12-17T10:07:31.008Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 0.4291941099849672, {"user":"    averageReview: 0.4291941099849672,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 0.4291941099849672,"}}
[info] >      totalComments: 329.2614257125503, {"user":"    totalComments: 329.2614257125503,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 329.2614257125503,"}}
[info] >      color: '#ff6e6eb2', {"user":"    color: '#ff6e6eb2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ff6e6eb2',"}}
[info] >      price: 49232.7344053908, {"user":"    price: 49232.7344053908,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 49232.7344053908,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608192115, _nanoseconds: 871000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608192115, _nanoseconds: 871000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608192115, _nanoseconds: 871000000 },"}}
[info] >      name: '42 30 37', {"user":"    name: '42 30 37',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: '42 30 37',"}}
[info] >      description: '48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33', {"user":"    description: '48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: '48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33',"}}
[info] >      discount: 17164.178137648887, {"user":"    discount: 17164.178137648887,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 17164.178137648887,"}}
[info] >      id: 'R5dl3cjnnW2ZfUY5CzxE', {"user":"    id: 'R5dl3cjnnW2ZfUY5CzxE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'R5dl3cjnnW2ZfUY5CzxE',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 3, {"user":"  quantity: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 3,"}}
[info] >    id: 'R5dl3cjnnW2ZfUY5CzxE', {"user":"  id: 'R5dl3cjnnW2ZfUY5CzxE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: 'R5dl3cjnnW2ZfUY5CzxE',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608199651, _nanoseconds: 3000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608199651, _nanoseconds: 3000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608199651, _nanoseconds: 3000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalQuantity: 7 } } {"user":" { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalQuantity: 7 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalQuantity: 7 } }"}}
[debug] [2020-12-17T10:07:31.062Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:07:31.063Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T10:07:31.064Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:07:40.144Z] Dec 17, 2020 10:07:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:07:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:07:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:40.146Z] Dec 17, 2020 10:07:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:07:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:07:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:40.146Z] Dec 17, 2020 10:07:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:07:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:07:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:45.049Z] Dec 17, 2020 10:07:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:48.574Z] Dec 17, 2020 10:07:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:08:05.114Z] Dec 17, 2020 10:08:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:08:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:08:05.115Z] Dec 17, 2020 10:08:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:08:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:08:05.115Z] Dec 17, 2020 10:08:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:08:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:08:05.118Z] Dec 17, 2020 10:08:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:08:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:08:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:08:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:08:31.394Z] Dec 17, 2020 10:08:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:08:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:08:31.395Z] Dec 17, 2020 10:08:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:08:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:08:31.395Z] Dec 17, 2020 10:08:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:08:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:08:31.892Z] Dec 17, 2020 10:08:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:08:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:08:31.897Z] Dec 17, 2020 10:08:31 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:08:31 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:09:31.720Z] Dec 17, 2020 10:09:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:09:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:09:31.725Z] Dec 17, 2020 10:09:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:09:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:10:26.271Z] Dec 17, 2020 10:10:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:10:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:10:26.274Z] Dec 17, 2020 10:10:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:10:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:10:26.280Z] Dec 17, 2020 10:10:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:10:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:10:26.285Z] Dec 17, 2020 10:10:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:10:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:10:26.286Z] Dec 17, 2020 10:10:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:10:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:10:31.757Z] Dec 17, 2020 10:10:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:10:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:10:32.103Z] Dec 17, 2020 10:10:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:10:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:11:32.088Z] Dec 17, 2020 10:11:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:11:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:11:32.478Z] Dec 17, 2020 10:11:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:11:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:12:32.414Z] Dec 17, 2020 10:12:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:12:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:12:32.850Z] Dec 17, 2020 10:12:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:12:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:13:32.742Z] Dec 17, 2020 10:13:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:13:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:13:33.213Z] Dec 17, 2020 10:13:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:13:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:14:33.077Z] Dec 17, 2020 10:14:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:14:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:14:33.833Z] Dec 17, 2020 10:14:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:14:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:15:33.412Z] Dec 17, 2020 10:15:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:15:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:15:34.189Z] Dec 17, 2020 10:15:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:15:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:33.745Z] Dec 17, 2020 10:16:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:34.543Z] Dec 17, 2020 10:16:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:17:34.080Z] Dec 17, 2020 10:17:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:17:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:17:34.907Z] Dec 17, 2020 10:17:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:17:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:06.567Z] Dec 17, 2020 10:18:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:06.892Z] Dec 17, 2020 10:18:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:07.235Z] Dec 17, 2020 10:18:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:07.278Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:18:07.278Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:18:07.278Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:18:07.279Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:18:07.279Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T10:18:07.279Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T10:18:07.282Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:18:07.286Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:18:07.286Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:18:07.287Z] [runtime-status] [6200] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"color":{"stringValue":"#ff6e6eb2"},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"lastUpdate":{"timestampValue":"2020-12-17T10:18:07.241Z"}},"createTime":"2020-12-17T09:58:35.871Z","updateTime":"2020-12-17T10:18:07.251Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"color":{"stringValue":"#ff6e6eb2"},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"lastUpdate":{"timestampValue":"2020-12-17T10:07:31.003Z"}},"createTime":"2020-12-17T09:58:35.871Z","updateTime":"2020-12-17T10:07:31.008Z"},"updateMask":{}},"context":{"eventId":"54605f43-44cf-4542-bb00-aa378427dffd","timestamp":"2020-12-17T10:18:07.251Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:18:07.241Z\"}},\"createTime\":\"2020-12-17T09:58:35.871Z\",\"updateTime\":\"2020-12-17T10:18:07.251Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:07:31.003Z\"}},\"createTime\":\"2020-12-17T09:58:35.871Z\",\"updateTime\":\"2020-12-17T10:07:31.008Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"54605f43-44cf-4542-bb00-aa378427dffd\",\"timestamp\":\"2020-12-17T10:18:07.251Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:18:07.287Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:18:07.288Z] [runtime-status] [6200] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"color":{"stringValue":"#ff6e6eb2"},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"lastUpdate":{"timestampValue":"2020-12-17T10:18:07.241Z"}},"createTime":"2020-12-17T09:58:35.871Z","updateTime":"2020-12-17T10:18:07.251Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"color":{"stringValue":"#ff6e6eb2"},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"lastUpdate":{"timestampValue":"2020-12-17T10:07:31.003Z"}},"createTime":"2020-12-17T09:58:35.871Z","updateTime":"2020-12-17T10:07:31.008Z"},"updateMask":{}},"context":{"eventId":"54605f43-44cf-4542-bb00-aa378427dffd","timestamp":"2020-12-17T10:18:07.251Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:18:07.241Z\"}},\"createTime\":\"2020-12-17T09:58:35.871Z\",\"updateTime\":\"2020-12-17T10:18:07.251Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:07:31.003Z\"}},\"createTime\":\"2020-12-17T09:58:35.871Z\",\"updateTime\":\"2020-12-17T10:07:31.008Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"54605f43-44cf-4542-bb00-aa378427dffd\",\"timestamp\":\"2020-12-17T10:18:07.251Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 0.4291941099849672, {"user":"    averageReview: 0.4291941099849672,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 0.4291941099849672,"}}
[info] >      totalComments: 329.2614257125503, {"user":"    totalComments: 329.2614257125503,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 329.2614257125503,"}}
[info] >      color: '#ff6e6eb2', {"user":"    color: '#ff6e6eb2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ff6e6eb2',"}}
[info] >      price: 49232.7344053908, {"user":"    price: 49232.7344053908,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 49232.7344053908,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608192115, _nanoseconds: 871000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608192115, _nanoseconds: 871000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608192115, _nanoseconds: 871000000 },"}}
[info] >      name: '42 30 37', {"user":"    name: '42 30 37',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: '42 30 37',"}}
[info] >      description: '48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33', {"user":"    description: '48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: '48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33',"}}
[info] >      discount: 17164.178137648887, {"user":"    discount: 17164.178137648887,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 17164.178137648887,"}}
[info] >      id: 'R5dl3cjnnW2ZfUY5CzxE', {"user":"    id: 'R5dl3cjnnW2ZfUY5CzxE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'R5dl3cjnnW2ZfUY5CzxE',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 3, {"user":"  quantity: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 3,"}}
[info] >    id: 'R5dl3cjnnW2ZfUY5CzxE', {"user":"  id: 'R5dl3cjnnW2ZfUY5CzxE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: 'R5dl3cjnnW2ZfUY5CzxE',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608200287, _nanoseconds: 241000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608200287, _nanoseconds: 241000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608200287, _nanoseconds: 241000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalQuantity: 7 } } {"user":" { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalQuantity: 7 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalQuantity: 7 } }"}}
[debug] [2020-12-17T10:18:07.319Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:18:07.320Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T10:18:07.321Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:18:37.642Z] Dec 17, 2020 10:18:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:37.642Z] Dec 17, 2020 10:18:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:07.680Z] Dec 17, 2020 10:19:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:07.700Z] Dec 17, 2020 10:19:07 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:07 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:19:37.773Z] Dec 17, 2020 10:19:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:38.173Z] Dec 17, 2020 10:19:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:24.339Z] Dec 17, 2020 10:20:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:20:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:20:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:24.342Z] Dec 17, 2020 10:20:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:20:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:20:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:24.343Z] Dec 17, 2020 10:20:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:20:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:20:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:28.973Z] Dec 17, 2020 10:20:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:29.587Z] Dec 17, 2020 10:20:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:31.666Z] Dec 17, 2020 10:20:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:32.043Z] Dec 17, 2020 10:20:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:32.044Z] Dec 17, 2020 10:20:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:32.896Z] Dec 17, 2020 10:20:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:32.897Z] Dec 17, 2020 10:20:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:32.897Z] Dec 17, 2020 10:20:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:38.133Z] Dec 17, 2020 10:20:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:39.335Z] Dec 17, 2020 10:20:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:39.555Z] Dec 17, 2020 10:20:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:39.615Z] Dec 17, 2020 10:20:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:39.987Z] Dec 17, 2020 10:20:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:40.306Z] Dec 17, 2020 10:20:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:40.350Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:20:40.351Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:20:40.351Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:20:40.351Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:20:40.351Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T10:20:40.351Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T10:20:40.389Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:20:40.398Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:20:40.398Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:20:40.398Z] [runtime-status] [6200] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"color":{"stringValue":"#ff6e6eb2"},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"lastUpdate":{"timestampValue":"2020-12-17T10:18:07.241Z"}},"createTime":"2020-12-17T09:58:35.871Z","updateTime":"2020-12-17T10:18:07.251Z"},"updateMask":{}},"context":{"eventId":"e28816a2-03e6-4b03-8a33-b7e0f4797cd0","timestamp":"2020-12-17T10:20:40.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:18:07.241Z\"}},\"createTime\":\"2020-12-17T09:58:35.871Z\",\"updateTime\":\"2020-12-17T10:18:07.251Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"e28816a2-03e6-4b03-8a33-b7e0f4797cd0\",\"timestamp\":\"2020-12-17T10:20:40.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:20:40.399Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:20:40.399Z] [runtime-status] [6200] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":0.4291941099849672},"totalComments":{"doubleValue":329.2614257125503},"color":{"stringValue":"#ff6e6eb2"},"price":{"doubleValue":49232.7344053908},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:55.871Z"},"name":{"stringValue":"42 30 37"},"description":{"stringValue":"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33"},"discount":{"doubleValue":17164.178137648887},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"R5dl3cjnnW2ZfUY5CzxE"},"lastUpdate":{"timestampValue":"2020-12-17T10:18:07.241Z"}},"createTime":"2020-12-17T09:58:35.871Z","updateTime":"2020-12-17T10:18:07.251Z"},"updateMask":{}},"context":{"eventId":"e28816a2-03e6-4b03-8a33-b7e0f4797cd0","timestamp":"2020-12-17T10:20:40.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":0.4291941099849672},\"totalComments\":{\"doubleValue\":329.2614257125503},\"color\":{\"stringValue\":\"#ff6e6eb2\"},\"price\":{\"doubleValue\":49232.7344053908},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:55.871Z\"},\"name\":{\"stringValue\":\"42 30 37\"},\"description\":{\"stringValue\":\"48 3 60 74 79 3 65 40 64 29 26 16 33 65 0 12 48 2 40 75 40 40 59 40 78 62 21 34 70 78 44 5 65 65 39 12 81 56 34 38 24 14 62 33\"},\"discount\":{\"doubleValue\":17164.178137648887},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"R5dl3cjnnW2ZfUY5CzxE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:18:07.241Z\"}},\"createTime\":\"2020-12-17T09:58:35.871Z\",\"updateTime\":\"2020-12-17T10:18:07.251Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"e28816a2-03e6-4b03-8a33-b7e0f4797cd0\",\"timestamp\":\"2020-12-17T10:20:40.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/R5dl3cjnnW2ZfUY5CzxE\"}}"}}
[debug] [2020-12-17T10:20:40.400Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:20:40.401Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T10:20:40.402Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -3 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } } {"user":" { quantityIncrement: -3 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -3 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } }"}}
[debug] [2020-12-17T10:20:43.299Z] Dec 17, 2020 10:20:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:43.300Z] Dec 17, 2020 10:20:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:45.665Z] Dec 17, 2020 10:20:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:45.681Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:20:45.682Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:20:45.682Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:20:45.682Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:20:45.682Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T10:20:45.682Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T10:20:45.686Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:20:45.688Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:20:45.688Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:20:45.688Z] [runtime-status] [6200] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.7979932889597183},"totalComments":{"doubleValue":110.98744830893618},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":43735.2207277715},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:56.118Z"},"name":{"stringValue":""},"description":{"stringValue":"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1"},"discount":{"doubleValue":49116.46900102898},"id":{"stringValue":"chBx1K6phOc8vEE38LZz"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"chBx1K6phOc8vEE38LZz"},"lastUpdate":{"timestampValue":"2020-12-17T09:59:27.034Z"}},"createTime":"2020-12-17T09:58:36.244Z","updateTime":"2020-12-17T09:59:27.046Z"},"updateMask":{}},"context":{"eventId":"eba86c56-08ad-4ed2-b661-1162942c9c6c","timestamp":"2020-12-17T10:20:45.670Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.7979932889597183},\"totalComments\":{\"doubleValue\":110.98744830893618},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":43735.2207277715},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:56.118Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1\"},\"discount\":{\"doubleValue\":49116.46900102898},\"id\":{\"stringValue\":\"chBx1K6phOc8vEE38LZz\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"chBx1K6phOc8vEE38LZz\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T09:59:27.034Z\"}},\"createTime\":\"2020-12-17T09:58:36.244Z\",\"updateTime\":\"2020-12-17T09:59:27.046Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"eba86c56-08ad-4ed2-b661-1162942c9c6c\",\"timestamp\":\"2020-12-17T10:20:45.670Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:20:45.691Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:20:45.691Z] [runtime-status] [6200] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.7979932889597183},"totalComments":{"doubleValue":110.98744830893618},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":43735.2207277715},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T08:01:56.118Z"},"name":{"stringValue":""},"description":{"stringValue":"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1"},"discount":{"doubleValue":49116.46900102898},"id":{"stringValue":"chBx1K6phOc8vEE38LZz"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"chBx1K6phOc8vEE38LZz"},"lastUpdate":{"timestampValue":"2020-12-17T09:59:27.034Z"}},"createTime":"2020-12-17T09:58:36.244Z","updateTime":"2020-12-17T09:59:27.046Z"},"updateMask":{}},"context":{"eventId":"eba86c56-08ad-4ed2-b661-1162942c9c6c","timestamp":"2020-12-17T10:20:45.670Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.7979932889597183},\"totalComments\":{\"doubleValue\":110.98744830893618},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":43735.2207277715},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T08:01:56.118Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"58 23 11 69 24 63 78 31 69 56 74 42 60 75 57 59 26 39 81 14 39 44 22 82 12 66 75 55 18 64 67 74 4 4 80 46 28 43 0 50 31 8 6 67 23 39 21 64 70 14 75 25 18 16 76 54 38 45 66 59 37 8 80 23 22 18 82 73 38 36 19 9 54 22 74 33 7 9 38 31 46 29 56 65 60 68 50 67 31 22 1\"},\"discount\":{\"doubleValue\":49116.46900102898},\"id\":{\"stringValue\":\"chBx1K6phOc8vEE38LZz\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"chBx1K6phOc8vEE38LZz\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T09:59:27.034Z\"}},\"createTime\":\"2020-12-17T09:58:36.244Z\",\"updateTime\":\"2020-12-17T09:59:27.046Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"eba86c56-08ad-4ed2-b661-1162942c9c6c\",\"timestamp\":\"2020-12-17T10:20:45.670Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/chBx1K6phOc8vEE38LZz\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -4 } { currentBasket: { totalPrice: 0, totalQuantity: 0 } } {"user":" { quantityIncrement: -4 } { currentBasket: { totalPrice: 0, totalQuantity: 0 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -4 } { currentBasket: { totalPrice: 0, totalQuantity: 0 } }"}}
[debug] [2020-12-17T10:20:45.714Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:20:45.716Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T10:20:45.716Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:20:47.395Z] Dec 17, 2020 10:20:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:47.723Z] Dec 17, 2020 10:20:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:53.633Z] Dec 17, 2020 10:20:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:53.634Z] Dec 17, 2020 10:20:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:53.642Z] Dec 17, 2020 10:20:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:03.966Z] Dec 17, 2020 10:21:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:14.298Z] Dec 17, 2020 10:21:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:18.087Z] Dec 17, 2020 10:21:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:24.635Z] Dec 17, 2020 10:21:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:28.606Z] Dec 17, 2020 10:21:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:28.932Z] Dec 17, 2020 10:21:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:28.933Z] Dec 17, 2020 10:21:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:29.542Z] Dec 17, 2020 10:21:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:32.322Z] Dec 17, 2020 10:21:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:32.867Z] Dec 17, 2020 10:21:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:32.867Z] Dec 17, 2020 10:21:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:35.309Z] Dec 17, 2020 10:21:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:35.981Z] Dec 17, 2020 10:21:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:38.978Z] Dec 17, 2020 10:21:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:39.761Z] Dec 17, 2020 10:21:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:42.809Z] Dec 17, 2020 10:21:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:50.926Z] Dec 17, 2020 10:21:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:51.256Z] Dec 17, 2020 10:21:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:51.583Z] Dec 17, 2020 10:21:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:10.560Z] Dec 17, 2020 10:22:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:10.891Z] Dec 17, 2020 10:22:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:10.911Z] Dec 17, 2020 10:22:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:11.255Z] Dec 17, 2020 10:22:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:21.953Z] Dec 17, 2020 10:22:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:24.216Z] Dec 17, 2020 10:22:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:24.239Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:22:24.239Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:22:24.239Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:22:24.239Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:22:24.239Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T10:22:24.239Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T10:22:24.243Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:22:24.244Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:22:24.244Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:22:24.245Z] [runtime-status] [6200] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:22:24.221Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:22:24.225Z"},"updateMask":{}},"context":{"eventId":"2b7025b9-490d-4714-a623-a7e38306b1fd","timestamp":"2020-12-17T10:22:24.225Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:24.221Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:22:24.225Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"2b7025b9-490d-4714-a623-a7e38306b1fd\",\"timestamp\":\"2020-12-17T10:22:24.225Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:22:24.246Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:22:24.247Z] [runtime-status] [6200] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:22:24.221Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:22:24.225Z"},"updateMask":{}},"context":{"eventId":"2b7025b9-490d-4714-a623-a7e38306b1fd","timestamp":"2020-12-17T10:22:24.225Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:24.221Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:22:24.225Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"2b7025b9-490d-4714-a623-a7e38306b1fd\",\"timestamp\":\"2020-12-17T10:22:24.225Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608200544, _nanoseconds: 221000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608200544, _nanoseconds: 221000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608200544, _nanoseconds: 221000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:22:24.274Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:22:24.276Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T10:22:24.277Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } }"}}
[debug] [2020-12-17T10:22:28.895Z] Dec 17, 2020 10:22:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:35.235Z] Dec 17, 2020 10:22:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:35.256Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:22:35.256Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:22:35.256Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:22:35.256Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:22:35.257Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T10:22:35.258Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T10:22:35.263Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:22:35.267Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:22:35.268Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:22:35.269Z] [runtime-status] [6200] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:22:35.239Z"}},"createTime":"2020-12-17T10:22:35.247Z","updateTime":"2020-12-17T10:22:35.247Z"},"updateMask":{}},"context":{"eventId":"9ef41024-10e8-4043-b97d-c4d092fee285","timestamp":"2020-12-17T10:22:35.247Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:35.239Z\"}},\"createTime\":\"2020-12-17T10:22:35.247Z\",\"updateTime\":\"2020-12-17T10:22:35.247Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"9ef41024-10e8-4043-b97d-c4d092fee285\",\"timestamp\":\"2020-12-17T10:22:35.247Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:22:35.269Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:22:35.269Z] [runtime-status] [6200] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:22:35.239Z"}},"createTime":"2020-12-17T10:22:35.247Z","updateTime":"2020-12-17T10:22:35.247Z"},"updateMask":{}},"context":{"eventId":"9ef41024-10e8-4043-b97d-c4d092fee285","timestamp":"2020-12-17T10:22:35.247Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:35.239Z\"}},\"createTime\":\"2020-12-17T10:22:35.247Z\",\"updateTime\":\"2020-12-17T10:22:35.247Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"9ef41024-10e8-4043-b97d-c4d092fee285\",\"timestamp\":\"2020-12-17T10:22:35.247Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.331411451519492, {"user":"    averageReview: 1.331411451519492,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.331411451519492,"}}
[info] >      totalComments: 31.115676382190905, {"user":"    totalComments: 31.115676382190905,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 31.115676382190905,"}}
[info] >      color: '#176ba3', {"user":"    color: '#176ba3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#176ba3',"}}
[info] >      price: 28482.09476404109, {"user":"    price: 28482.09476404109,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 28482.09476404109,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 },"}}
[info] >      name: 'non proident ,', {"user":"    name: 'non proident ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'non proident ,',"}}
[info] >      description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud', {"user":"    description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud',"}}
[info] >      discount: 88289.66225962341, {"user":"    discount: 88289.66225962341,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 88289.66225962341,"}}
[info] >      id: '4HdGBrTO9w9jZ3Y6gS4Y', {"user":"    id: '4HdGBrTO9w9jZ3Y6gS4Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '4HdGBrTO9w9jZ3Y6gS4Y',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608200555, _nanoseconds: 239000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608200555, _nanoseconds: 239000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608200555, _nanoseconds: 239000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:22:35.301Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:22:35.302Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T10:22:35.302Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }"}}
[debug] [2020-12-17T10:22:43.927Z] Dec 17, 2020 10:22:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:43.969Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:22:43.969Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:22:43.970Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:22:43.970Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:22:43.970Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T10:22:43.971Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T10:22:43.977Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:22:43.982Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:22:43.982Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:22:43.983Z] [runtime-status] [6200] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:22:43.945Z"}},"createTime":"2020-12-17T10:22:35.247Z","updateTime":"2020-12-17T10:22:43.958Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:22:35.239Z"}},"createTime":"2020-12-17T10:22:35.247Z","updateTime":"2020-12-17T10:22:35.247Z"},"updateMask":{}},"context":{"eventId":"144155bc-39b4-4b91-aa2c-f6972a91ad71","timestamp":"2020-12-17T10:22:43.958Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:43.945Z\"}},\"createTime\":\"2020-12-17T10:22:35.247Z\",\"updateTime\":\"2020-12-17T10:22:43.958Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:35.239Z\"}},\"createTime\":\"2020-12-17T10:22:35.247Z\",\"updateTime\":\"2020-12-17T10:22:35.247Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"144155bc-39b4-4b91-aa2c-f6972a91ad71\",\"timestamp\":\"2020-12-17T10:22:43.958Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:22:43.983Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:22:43.984Z] [runtime-status] [6200] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:22:43.945Z"}},"createTime":"2020-12-17T10:22:35.247Z","updateTime":"2020-12-17T10:22:43.958Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:22:35.239Z"}},"createTime":"2020-12-17T10:22:35.247Z","updateTime":"2020-12-17T10:22:35.247Z"},"updateMask":{}},"context":{"eventId":"144155bc-39b4-4b91-aa2c-f6972a91ad71","timestamp":"2020-12-17T10:22:43.958Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:43.945Z\"}},\"createTime\":\"2020-12-17T10:22:35.247Z\",\"updateTime\":\"2020-12-17T10:22:43.958Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:35.239Z\"}},\"createTime\":\"2020-12-17T10:22:35.247Z\",\"updateTime\":\"2020-12-17T10:22:35.247Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"144155bc-39b4-4b91-aa2c-f6972a91ad71\",\"timestamp\":\"2020-12-17T10:22:43.958Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.331411451519492, {"user":"    averageReview: 1.331411451519492,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.331411451519492,"}}
[info] >      totalComments: 31.115676382190905, {"user":"    totalComments: 31.115676382190905,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 31.115676382190905,"}}
[info] >      color: '#176ba3', {"user":"    color: '#176ba3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#176ba3',"}}
[info] >      price: 28482.09476404109, {"user":"    price: 28482.09476404109,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 28482.09476404109,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 },"}}
[info] >      name: 'non proident ,', {"user":"    name: 'non proident ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'non proident ,',"}}
[info] >      description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud', {"user":"    description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud',"}}
[info] >      discount: 88289.66225962341, {"user":"    discount: 88289.66225962341,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 88289.66225962341,"}}
[info] >      id: '4HdGBrTO9w9jZ3Y6gS4Y', {"user":"    id: '4HdGBrTO9w9jZ3Y6gS4Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '4HdGBrTO9w9jZ3Y6gS4Y',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608200563, _nanoseconds: 945000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608200563, _nanoseconds: 945000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608200563, _nanoseconds: 945000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:22:44.068Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:22:44.069Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T10:22:44.070Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } } {"user":" { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }"}}
[debug] [2020-12-17T10:22:44.178Z] Dec 17, 2020 10:22:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:44.348Z] Dec 17, 2020 10:22:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:44.363Z] Dec 17, 2020 10:22:44 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:44 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:22:47.119Z] Dec 17, 2020 10:22:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:51.454Z] Dec 17, 2020 10:22:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:51.495Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:22:51.495Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:22:51.495Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:22:51.496Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:22:51.496Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T10:22:51.496Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T10:22:51.499Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:22:51.510Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:22:51.510Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:22:51.510Z] [runtime-status] [6200] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"5"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:22:51.458Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:22:51.464Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:22:24.221Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:22:24.225Z"},"updateMask":{}},"context":{"eventId":"0abdb598-6e37-4acd-a7cd-9f3064f872e0","timestamp":"2020-12-17T10:22:51.464Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"5\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:51.458Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:22:51.464Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:24.221Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:22:24.225Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0abdb598-6e37-4acd-a7cd-9f3064f872e0\",\"timestamp\":\"2020-12-17T10:22:51.464Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:22:51.510Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:22:51.511Z] [runtime-status] [6200] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"5"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:22:51.458Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:22:51.464Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:22:24.221Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:22:24.225Z"},"updateMask":{}},"context":{"eventId":"0abdb598-6e37-4acd-a7cd-9f3064f872e0","timestamp":"2020-12-17T10:22:51.464Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"5\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:51.458Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:22:51.464Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:24.221Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:22:24.225Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0abdb598-6e37-4acd-a7cd-9f3064f872e0\",\"timestamp\":\"2020-12-17T10:22:51.464Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 5, {"user":"  quantity: 5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 5,"}}
[info] >    id: '3lDPbgPVglBzGBLdgutC', {"user":"  id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608200571, _nanoseconds: 458000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608200571, _nanoseconds: 458000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608200571, _nanoseconds: 458000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:22:51.548Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:22:51.554Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T10:22:51.555Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 4 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } } {"user":" { quantityIncrement: 4 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 4 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } }"}}
[debug] [2020-12-17T10:22:57.065Z] Dec 17, 2020 10:22:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:57.677Z] Dec 17, 2020 10:22:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:22.397Z] Dec 17, 2020 10:23:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:44.582Z] Dec 17, 2020 10:23:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:45.478Z] Dec 17, 2020 10:23:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:49.965Z] Dec 17, 2020 10:23:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:58.055Z] Dec 17, 2020 10:23:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:24:16.429Z] Dec 17, 2020 10:24:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:24:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:24:16.752Z] Dec 17, 2020 10:24:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:24:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:24:26.951Z] Dec 17, 2020 10:24:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:24:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:24:51.509Z] Dec 17, 2020 10:24:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:24:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:24:58.423Z] Dec 17, 2020 10:24:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:24:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:25:21.838Z] Dec 17, 2020 10:25:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:25:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:25:58.788Z] Dec 17, 2020 10:25:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:25:58 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:26:16.977Z] Dec 17, 2020 10:26:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:26:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:26:17.306Z] Dec 17, 2020 10:26:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:26:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:26:22.177Z] Dec 17, 2020 10:26:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:26:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:26:47.669Z] Dec 17, 2020 10:26:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:26:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:27:00.613Z] Dec 17, 2020 10:27:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:27:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:27:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:27:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:27:00.613Z] Dec 17, 2020 10:27:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:27:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:27:00.613Z] Dec 17, 2020 10:27:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:27:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:27:00.614Z] Dec 17, 2020 10:27:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:27:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:27:22.501Z] Dec 17, 2020 10:27:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:27:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:27:48.044Z] Dec 17, 2020 10:27:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:27:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:28:22.826Z] Dec 17, 2020 10:28:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:28:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:28:48.418Z] Dec 17, 2020 10:28:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:28:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:29:09.835Z] Dec 17, 2020 10:29:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:29:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:29:10.192Z] Dec 17, 2020 10:29:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:29:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:29:23.173Z] Dec 17, 2020 10:29:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:29:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:29:40.561Z] Dec 17, 2020 10:29:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:29:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:30:23.509Z] Dec 17, 2020 10:30:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:30:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:30:40.937Z] Dec 17, 2020 10:30:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:30:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:31:23.836Z] Dec 17, 2020 10:31:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:31:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:31:41.291Z] Dec 17, 2020 10:31:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:31:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:24.174Z] Dec 17, 2020 10:32:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:41.660Z] Dec 17, 2020 10:32:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:33:24.703Z] Dec 17, 2020 10:33:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:33:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:33:29.819Z] Dec 17, 2020 10:33:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:33:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:33:30.148Z] Dec 17, 2020 10:33:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:33:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:33:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:33:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:10.201Z] Dec 17, 2020 10:34:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:10.958Z] Dec 17, 2020 10:34:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:17.481Z] Dec 17, 2020 10:34:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:17.808Z] Dec 17, 2020 10:34:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:18.135Z] Dec 17, 2020 10:34:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:18.173Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:34:18.173Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:34:18.174Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:34:18.174Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:34:18.174Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T10:34:18.174Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T10:34:18.178Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:34:18.180Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:34:18.180Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:34:18.181Z] [runtime-status] [6200] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"quantity":{"integerValue":"8"},"lastUpdate":{"timestampValue":"2020-12-17T10:34:18.140Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:34:18.145Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"5"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:22:51.458Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:22:51.464Z"},"updateMask":{}},"context":{"eventId":"f7476b8f-d6c9-4b25-b21c-111a03ad269b","timestamp":"2020-12-17T10:34:18.145Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"quantity\":{\"integerValue\":\"8\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:34:18.140Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:34:18.145Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"5\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:51.458Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:22:51.464Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"f7476b8f-d6c9-4b25-b21c-111a03ad269b\",\"timestamp\":\"2020-12-17T10:34:18.145Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:34:18.182Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:34:18.182Z] [runtime-status] [6200] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"quantity":{"integerValue":"8"},"lastUpdate":{"timestampValue":"2020-12-17T10:34:18.140Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:34:18.145Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"5"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:22:51.458Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:22:51.464Z"},"updateMask":{}},"context":{"eventId":"f7476b8f-d6c9-4b25-b21c-111a03ad269b","timestamp":"2020-12-17T10:34:18.145Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"quantity\":{\"integerValue\":\"8\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:34:18.140Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:34:18.145Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"5\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:51.458Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:22:51.464Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"f7476b8f-d6c9-4b25-b21c-111a03ad269b\",\"timestamp\":\"2020-12-17T10:34:18.145Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    id: '3lDPbgPVglBzGBLdgutC', {"user":"  id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >    quantity: 8, {"user":"  quantity: 8,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 8,"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201258, _nanoseconds: 140000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201258, _nanoseconds: 140000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201258, _nanoseconds: 140000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalQuantity: 9 } } {"user":" { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalQuantity: 9 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalQuantity: 9 } }"}}
[debug] [2020-12-17T10:34:18.203Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:34:18.204Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T10:34:18.204Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:34:18.477Z] Dec 17, 2020 10:34:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:35:18.535Z] Dec 17, 2020 10:35:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:35:18.535Z] Dec 17, 2020 10:35:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:35:18.815Z] Dec 17, 2020 10:35:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:35:18.895Z] Dec 17, 2020 10:35:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:35:18.901Z] Dec 17, 2020 10:35:18 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:18 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:35:54.739Z] Dec 17, 2020 10:35:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:35:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:35:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:35:54.739Z] Dec 17, 2020 10:35:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:35:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:35:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:35:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:35:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:18.922Z] Dec 17, 2020 10:36:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:19.157Z] Dec 17, 2020 10:36:19 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:19 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:38.419Z] Dec 17, 2020 10:36:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:38.757Z] Dec 17, 2020 10:36:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:39.093Z] Dec 17, 2020 10:36:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:39.135Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:36:39.135Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:36:39.135Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:36:39.135Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:36:39.136Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\6200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\6200"}}
[debug] [2020-12-17T10:36:39.136Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: BUSY"}}
[debug] [2020-12-17T10:36:39.139Z] [runtime-status] [6200] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:36:39.142Z] [runtime-status] [6200] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:36:39.143Z] [runtime-status] [6200] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:36:39.143Z] [runtime-status] [6200] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"quantity":{"integerValue":"9"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:39.100Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:36:39.105Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"quantity":{"integerValue":"8"},"lastUpdate":{"timestampValue":"2020-12-17T10:34:18.140Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:34:18.145Z"},"updateMask":{}},"context":{"eventId":"088a72d3-0e30-4dfc-9f3e-4f1b928a8e87","timestamp":"2020-12-17T10:36:39.105Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"quantity\":{\"integerValue\":\"9\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:39.100Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:36:39.105Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"quantity\":{\"integerValue\":\"8\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:34:18.140Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:34:18.145Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"088a72d3-0e30-4dfc-9f3e-4f1b928a8e87\",\"timestamp\":\"2020-12-17T10:36:39.105Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:36:39.144Z] [runtime-status] [6200] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:36:39.144Z] [runtime-status] [6200] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"quantity":{"integerValue":"9"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:39.100Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:36:39.105Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"quantity":{"integerValue":"8"},"lastUpdate":{"timestampValue":"2020-12-17T10:34:18.140Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:34:18.145Z"},"updateMask":{}},"context":{"eventId":"088a72d3-0e30-4dfc-9f3e-4f1b928a8e87","timestamp":"2020-12-17T10:36:39.105Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"quantity\":{\"integerValue\":\"9\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:39.100Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:36:39.105Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"quantity\":{\"integerValue\":\"8\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:34:18.140Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:34:18.145Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"088a72d3-0e30-4dfc-9f3e-4f1b928a8e87\",\"timestamp\":\"2020-12-17T10:36:39.105Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    id: '3lDPbgPVglBzGBLdgutC', {"user":"  id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >    quantity: 9, {"user":"  quantity: 9,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 9,"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201399, _nanoseconds: 100000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201399, _nanoseconds: 100000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201399, _nanoseconds: 100000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 10 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 10 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 10 } }"}}
[debug] [2020-12-17T10:36:39.177Z] [runtime-status] [6200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [6200] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:36:39.178Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: IDLE"}}
[debug] [2020-12-17T10:36:39.178Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:37:09.477Z] Dec 17, 2020 10:37:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:09.484Z] Dec 17, 2020 10:37:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:39.175Z] Dec 17, 2020 10:37:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:39.886Z] Dec 17, 2020 10:37:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:39.892Z] Dec 17, 2020 10:37:39 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:39 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:38:09.826Z] Dec 17, 2020 10:38:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:09.857Z] Dec 17, 2020 10:38:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:09.861Z] Dec 17, 2020 10:39:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:10.201Z] Dec 17, 2020 10:39:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:10.203Z] Dec 17, 2020 10:40:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:10.578Z] Dec 17, 2020 10:40:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:42:03.609Z] File C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\package-lock.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\package-lock.json changed, reloading triggers"}}
[debug] [2020-12-17T09:42:03.609Z] File C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2020-12-17T09:42:03.612Z] File C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\tsconfig.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\tsconfig.json changed, reloading triggers"}}
[debug] [2020-12-17T09:42:04.646Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-17T09:42:04.647Z] [worker-~diagnostic~-7411e8d9-212d-44e4-90e6-3a348a15c603]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7411e8d9-212d-44e4-90e6-3a348a15c603]: FINISHING"}}
[debug] [2020-12-17T09:42:04.647Z] [worker-pool] Shutting down IDLE worker (countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (countBasketTotals)"}}
[debug] [2020-12-17T09:42:04.647Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: FINISHING"}}
[debug] [2020-12-17T09:42:04.658Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-17T09:42:04.658Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-17T09:42:04.658Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-17T09:42:04.658Z] [worker-~diagnostic~-c0c4aeb3-5253-497e-aaa1-a0ca73193e27]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8060 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c0c4aeb3-5253-497e-aaa1-a0ca73193e27]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8060"}}
[debug] [2020-12-17T09:42:04.659Z] [worker-~diagnostic~-c0c4aeb3-5253-497e-aaa1-a0ca73193e27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c0c4aeb3-5253-497e-aaa1-a0ca73193e27]: BUSY"}}
[debug] [2020-12-17T09:42:04.694Z] [worker-~diagnostic~-7411e8d9-212d-44e4-90e6-3a348a15c603]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7411e8d9-212d-44e4-90e6-3a348a15c603]: exited"}}
[debug] [2020-12-17T09:42:04.694Z] [worker-~diagnostic~-7411e8d9-212d-44e4-90e6-3a348a15c603]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7411e8d9-212d-44e4-90e6-3a348a15c603]: FINISHED"}}
[debug] [2020-12-17T09:42:04.702Z] Dec 17, 2020 9:42:04 AM io.netty.channel.DefaultChannelPipeline onUnhandledInboundException
WARNING: An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.io.IOException: An existing connection was forcibly closed by the remote host
	at sun.nio.ch.SocketDispatcher.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(Unknown Source)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(Unknown Source)
	at sun.nio.ch.IOUtil.read(Unknown Source)
	at sun.nio.ch.SocketChannelImpl.read(Unknown Source)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Unknown Source)

 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:42:04 AM io.netty.channel.DefaultChannelPipeline onUnhandledInboundException\r\nWARNING: An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.\r\njava.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n\tat sun.nio.ch.SocketDispatcher.read(Unknown Source)\r\n\tat sun.nio.ch.IOUtil.readIntoNativeBuffer(Unknown Source)\r\n\tat sun.nio.ch.IOUtil.read(Unknown Source)\r\n\tat sun.nio.ch.SocketChannelImpl.read(Unknown Source)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\n"}}
[debug] [2020-12-17T09:42:04.726Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: exited"}}
[debug] [2020-12-17T09:42:04.727Z] [worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-8ebd1d6a-0802-4e19-9d11-e9ee0bbf7c55]: FINISHED"}}
[debug] [2020-12-17T09:42:05.383Z] [runtime-status] [8060] Functions runtime initialized. {"cwd":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2020-12-17T09:42:05.386Z] [runtime-status] [8060] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] Disabled runtime features: undefined"}}
[debug] [2020-12-17T09:42:05.391Z] File C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\package.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\package.json changed, reloading triggers"}}
[debug] [2020-12-17T09:42:05.409Z] [runtime-status] [8060] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:05.414Z] [runtime-status] [8060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:05.418Z] [runtime-status] [8060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:05.422Z] [runtime-status] [8060] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-17T09:42:05.429Z] [runtime-status] [8060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:05.639Z] [runtime-status] [8060] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-17T09:42:05.640Z] [runtime-status] [8060] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T09:42:05.640Z] [runtime-status] [8060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:05.640Z] [runtime-status] [8060] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:05.640Z] [runtime-status] [8060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:05.641Z] [runtime-status] [8060] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T09:42:05.641Z] [runtime-status] [8060] initializeApp(DEFAULT) {"databaseURL":"https://pedacinhos-de-amor.firebaseio.com","storageBucket":"pedacinhos-de-amor.appspot.com","projectId":"pedacinhos-de-amor"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] initializeApp(DEFAULT) {\"databaseURL\":\"https://pedacinhos-de-amor.firebaseio.com\",\"storageBucket\":\"pedacinhos-de-amor.appspot.com\",\"projectId\":\"pedacinhos-de-amor\"}"}}
[debug] [2020-12-17T09:42:05.646Z] File C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2020-12-17T09:42:05.900Z] [runtime-status] [8060] auth.setJwtVerificationEnabled(false) {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8060] auth.setJwtVerificationEnabled(false)"}}
[debug] [2020-12-17T09:42:05.900Z] [worker-~diagnostic~-c0c4aeb3-5253-497e-aaa1-a0ca73193e27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c0c4aeb3-5253-497e-aaa1-a0ca73193e27]: IDLE"}}
[debug] [2020-12-17T09:42:06.656Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-17T09:42:06.657Z] [worker-~diagnostic~-c0c4aeb3-5253-497e-aaa1-a0ca73193e27]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c0c4aeb3-5253-497e-aaa1-a0ca73193e27]: FINISHING"}}
[debug] [2020-12-17T09:42:06.657Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-17T09:42:06.657Z] [worker-pool] Cleaned up workers for countBasketTotals: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for countBasketTotals: 1 --> 0"}}
[debug] [2020-12-17T09:42:06.664Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-17T09:42:06.668Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-17T09:42:06.668Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-17T09:42:06.668Z] [worker-~diagnostic~-48295ff6-795e-45d3-ad6f-b80ccfd2e1c1]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\10256 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-48295ff6-795e-45d3-ad6f-b80ccfd2e1c1]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\10256"}}
[debug] [2020-12-17T09:42:06.668Z] [worker-~diagnostic~-48295ff6-795e-45d3-ad6f-b80ccfd2e1c1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-48295ff6-795e-45d3-ad6f-b80ccfd2e1c1]: BUSY"}}
[debug] [2020-12-17T09:42:06.688Z] [worker-~diagnostic~-c0c4aeb3-5253-497e-aaa1-a0ca73193e27]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c0c4aeb3-5253-497e-aaa1-a0ca73193e27]: exited"}}
[debug] [2020-12-17T09:42:06.688Z] [worker-~diagnostic~-c0c4aeb3-5253-497e-aaa1-a0ca73193e27]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c0c4aeb3-5253-497e-aaa1-a0ca73193e27]: FINISHED"}}
[debug] [2020-12-17T09:42:07.539Z] [runtime-status] [10256] Functions runtime initialized. {"cwd":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2020-12-17T09:42:07.543Z] [runtime-status] [10256] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] Disabled runtime features: undefined"}}
[debug] [2020-12-17T09:42:07.557Z] [runtime-status] [10256] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:07.573Z] [runtime-status] [10256] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:07.577Z] [runtime-status] [10256] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:07.580Z] [runtime-status] [10256] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-17T09:42:07.582Z] [runtime-status] [10256] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:07.857Z] [runtime-status] [10256] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-17T09:42:07.857Z] [runtime-status] [10256] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T09:42:07.904Z] [runtime-status] [10256] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:07.919Z] [runtime-status] [10256] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:07.920Z] [runtime-status] [10256] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T09:42:07.921Z] [runtime-status] [10256] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T09:42:07.927Z] [runtime-status] [10256] initializeApp(DEFAULT) {"databaseURL":"https://pedacinhos-de-amor.firebaseio.com","storageBucket":"pedacinhos-de-amor.appspot.com","projectId":"pedacinhos-de-amor"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] initializeApp(DEFAULT) {\"databaseURL\":\"https://pedacinhos-de-amor.firebaseio.com\",\"storageBucket\":\"pedacinhos-de-amor.appspot.com\",\"projectId\":\"pedacinhos-de-amor\"}"}}
[debug] [2020-12-17T09:42:08.460Z] [runtime-status] [10256] auth.setJwtVerificationEnabled(false) {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10256] auth.setJwtVerificationEnabled(false)"}}
[debug] [2020-12-17T09:42:08.609Z] [worker-~diagnostic~-48295ff6-795e-45d3-ad6f-b80ccfd2e1c1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-48295ff6-795e-45d3-ad6f-b80ccfd2e1c1]: IDLE"}}
[debug] [2020-12-17T09:42:26.741Z] Dec 17, 2020 9:42:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:42:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:42:27.626Z] Dec 17, 2020 9:42:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:42:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:43:28.103Z] Dec 17, 2020 9:43:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:43:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:43:40.047Z] Dec 17, 2020 9:43:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:43:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:43:40.907Z] Dec 17, 2020 9:43:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:43:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:44:28.443Z] Dec 17, 2020 9:44:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:44:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:44:41.269Z] Dec 17, 2020 9:44:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:44:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:45:28.764Z] Dec 17, 2020 9:45:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:45:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:45:41.637Z] Dec 17, 2020 9:45:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:45:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:29.095Z] Dec 17, 2020 9:46:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:42.016Z] Dec 17, 2020 9:46:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:47:29.426Z] Dec 17, 2020 9:47:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:47:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:47:42.356Z] Dec 17, 2020 9:47:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:47:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:29.764Z] Dec 17, 2020 9:48:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:42.695Z] Dec 17, 2020 9:48:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:49:30.092Z] Dec 17, 2020 9:49:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:49:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:49:43.062Z] Dec 17, 2020 9:49:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:49:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:50:30.417Z] Dec 17, 2020 9:50:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:50:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:50:43.425Z] Dec 17, 2020 9:50:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:50:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:30.747Z] Dec 17, 2020 9:51:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:43.785Z] Dec 17, 2020 9:51:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:31.088Z] Dec 17, 2020 9:52:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:44.150Z] Dec 17, 2020 9:52:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:53:31.429Z] Dec 17, 2020 9:53:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:53:59.896Z] Dec 17, 2020 9:53:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:31.768Z] Dec 17, 2020 9:54:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:55:00.264Z] Dec 17, 2020 9:55:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:55:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:55:32.100Z] Dec 17, 2020 9:55:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:55:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:56:00.621Z] Dec 17, 2020 9:56:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:56:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:56:32.438Z] Dec 17, 2020 9:56:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:56:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:57:00.986Z] Dec 17, 2020 9:57:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:57:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:57:32.770Z] Dec 17, 2020 9:57:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:57:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:01.358Z] Dec 17, 2020 9:58:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:58:33.097Z] Dec 17, 2020 9:58:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:58:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:59:01.734Z] Dec 17, 2020 9:59:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:59:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:59:33.427Z] Dec 17, 2020 9:59:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:59:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:00:02.094Z] Dec 17, 2020 10:00:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:00:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:00:33.760Z] Dec 17, 2020 10:00:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:00:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:01:02.454Z] Dec 17, 2020 10:01:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:01:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:01:34.103Z] Dec 17, 2020 10:01:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:01:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:02:02.811Z] Dec 17, 2020 10:02:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:02:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:02:34.443Z] Dec 17, 2020 10:02:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:02:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:03:03.173Z] Dec 17, 2020 10:03:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:03:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:03:34.778Z] Dec 17, 2020 10:03:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:03:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:04:03.529Z] Dec 17, 2020 10:04:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:04:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:04:35.109Z] Dec 17, 2020 10:04:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:04:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:05:03.906Z] Dec 17, 2020 10:05:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:05:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:05:35.440Z] Dec 17, 2020 10:05:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:05:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:06:04.277Z] Dec 17, 2020 10:06:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:06:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:06:35.767Z] Dec 17, 2020 10:06:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:06:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:04.637Z] Dec 17, 2020 10:07:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:07:36.096Z] Dec 17, 2020 10:07:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:07:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:08:04.994Z] Dec 17, 2020 10:08:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:08:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:08:36.426Z] Dec 17, 2020 10:08:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:08:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:09:05.367Z] Dec 17, 2020 10:09:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:09:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:09:36.767Z] Dec 17, 2020 10:09:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:09:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:10:05.718Z] Dec 17, 2020 10:10:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:10:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:10:37.107Z] Dec 17, 2020 10:10:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:10:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:11:06.084Z] Dec 17, 2020 10:11:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:11:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:11:37.438Z] Dec 17, 2020 10:11:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:11:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:12:06.444Z] Dec 17, 2020 10:12:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:12:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:12:38.048Z] Dec 17, 2020 10:12:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:12:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:13:06.802Z] Dec 17, 2020 10:13:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:13:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:13:28.903Z] Dec 17, 2020 10:13:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:13:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:13:29.928Z] Dec 17, 2020 10:13:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:13:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:13:38.388Z] Dec 17, 2020 10:13:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:13:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:13:56.799Z] Dec 17, 2020 10:13:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:13:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:13:57.063Z] Dec 17, 2020 10:13:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:13:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:14:14.929Z] Dec 17, 2020 10:14:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:14:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:14:15.314Z] Dec 17, 2020 10:14:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:14:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:14:30.293Z] Dec 17, 2020 10:14:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:14:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:14:38.731Z] Dec 17, 2020 10:14:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:14:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:14:48.224Z] Dec 17, 2020 10:14:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:14:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:14:48.567Z] Dec 17, 2020 10:14:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:14:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:14:48.924Z] Dec 17, 2020 10:14:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:14:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:15:11.248Z] Dec 17, 2020 10:15:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:15:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:15:11.574Z] Dec 17, 2020 10:15:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:15:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:15:11.899Z] Dec 17, 2020 10:15:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:15:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:15:11.998Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:15:11.999Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:15:11.999Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:15:11.999Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-17T10:15:12.007Z] [worker-pool] addWorker(countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(countBasketTotals)"}}
[debug] [2020-12-17T10:15:12.008Z] [worker-pool] Adding worker with key countBasketTotals, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key countBasketTotals, total=1"}}
[debug] [2020-12-17T10:15:12.008Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:15:12.008Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:15:12.008Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:15:12.289Z] Dec 17, 2020 10:15:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:15:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:15:12.461Z] [runtime-status] [8076] Functions runtime initialized. {"cwd":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2020-12-17T10:15:12.464Z] [runtime-status] [8076] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Disabled runtime features: undefined"}}
[debug] [2020-12-17T10:15:12.471Z] [runtime-status] [8076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:15:12.474Z] [runtime-status] [8076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:15:12.477Z] [runtime-status] [8076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:15:12.480Z] [runtime-status] [8076] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-17T10:15:12.481Z] [runtime-status] [8076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:15:12.618Z] [runtime-status] [8076] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-17T10:15:12.618Z] [runtime-status] [8076] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T10:15:12.619Z] [runtime-status] [8076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:15:12.621Z] [runtime-status] [8076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:15:12.622Z] [runtime-status] [8076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:15:12.623Z] [runtime-status] [8076] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T10:15:12.626Z] [runtime-status] [8076] initializeApp(DEFAULT) {"databaseURL":"https://pedacinhos-de-amor.firebaseio.com","storageBucket":"pedacinhos-de-amor.appspot.com","projectId":"pedacinhos-de-amor"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] initializeApp(DEFAULT) {\"databaseURL\":\"https://pedacinhos-de-amor.firebaseio.com\",\"storageBucket\":\"pedacinhos-de-amor.appspot.com\",\"projectId\":\"pedacinhos-de-amor\"}"}}
[debug] [2020-12-17T10:15:12.712Z] [runtime-status] [8076] auth.setJwtVerificationEnabled(false) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] auth.setJwtVerificationEnabled(false)"}}
[debug] [2020-12-17T10:15:12.716Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:15:12.717Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:15:12.717Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:15:12.718Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"quantity":{"integerValue":"1"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:36:49.318052Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"quantity":{"integerValue":"9"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:39.100Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:36:39.105Z"},"updateMask":{}},"context":{"eventId":"4269fa4e-be01-40fa-a565-1a5921c7fa29","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"quantity\":{\"integerValue\":\"1\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:36:49.318052Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"quantity\":{\"integerValue\":\"9\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:39.100Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:36:39.105Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"4269fa4e-be01-40fa-a565-1a5921c7fa29\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:15:12.718Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:15:12.719Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"quantity":{"integerValue":"1"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:36:49.318052Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"quantity":{"integerValue":"9"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:39.100Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:36:39.105Z"},"updateMask":{}},"context":{"eventId":"4269fa4e-be01-40fa-a565-1a5921c7fa29","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"quantity\":{\"integerValue\":\"1\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:36:49.318052Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"quantity\":{\"integerValue\":\"9\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:39.100Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:36:39.105Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"4269fa4e-be01-40fa-a565-1a5921c7fa29\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    id: '3lDPbgPVglBzGBLdgutC', {"user":"  id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:15:13.361Z] Dec 17, 2020 10:15:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:15:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected HTTP/2 connection.\r\n"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -8 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } } {"user":" { quantityIncrement: -8 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -8 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }"}}
[debug] [2020-12-17T10:15:13.409Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:15:13.410Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:15:13.410Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:15:20.482Z] Dec 17, 2020 10:15:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:15:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:15:20.580Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:15:20.580Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:15:20.580Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:15:20.580Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:15:20.580Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:15:20.580Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:15:20.584Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:15:20.585Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:15:20.586Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:15:20.586Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"}},"createTime":"2020-12-17T10:36:49.318138Z","updateTime":"2020-12-17T10:36:49.318138Z"},"updateMask":{}},"context":{"eventId":"b3df81fa-4270-4328-8db1-b897579ca643","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"}},\"createTime\":\"2020-12-17T10:36:49.318138Z\",\"updateTime\":\"2020-12-17T10:36:49.318138Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"b3df81fa-4270-4328-8db1-b897579ca643\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:15:20.587Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:15:20.587Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"}},"createTime":"2020-12-17T10:36:49.318138Z","updateTime":"2020-12-17T10:36:49.318138Z"},"updateMask":{}},"context":{"eventId":"b3df81fa-4270-4328-8db1-b897579ca643","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"}},\"createTime\":\"2020-12-17T10:36:49.318138Z\",\"updateTime\":\"2020-12-17T10:36:49.318138Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"b3df81fa-4270-4328-8db1-b897579ca643\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.1828492776300625, {"user":"    averageReview: 1.1828492776300625,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.1828492776300625,"}}
[info] >      totalComments: 92.97544818144453, {"user":"    totalComments: 92.97544818144453,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 92.97544818144453,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 23139.343024570146, {"user":"    price: 23139.343024570146,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 23139.343024570146,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 623000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 623000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 623000000 },"}}
[info] >      name: 'est , consectetur', {"user":"    name: 'est , consectetur',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'est , consectetur',"}}
[info] >      description: 'velit elit non Ad , Lorem proident deserunt', {"user":"    description: 'velit elit non Ad , Lorem proident deserunt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'velit elit non Ad , Lorem proident deserunt',"}}
[info] >      discount: 38486.753409351295, {"user":"    discount: 38486.753409351295,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 38486.753409351295,"}}
[info] >      id: 'A8x6uPcL7MFUUgdfoPH4', {"user":"    id: 'A8x6uPcL7MFUUgdfoPH4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'A8x6uPcL7MFUUgdfoPH4',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }"}}
[debug] [2020-12-17T10:15:20.630Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:15:20.631Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:15:20.631Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:15:20.963Z] Dec 17, 2020 10:15:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:15:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:15:30.296Z] Dec 17, 2020 10:15:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:15:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:15:30.368Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:15:30.369Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:15:30.369Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:15:30.369Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:15:30.369Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:15:30.369Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:15:30.372Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:15:30.376Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:15:30.377Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:15:30.377Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318224Z"},"updateMask":{}},"context":{"eventId":"d78a8e4f-3080-42ed-8031-d08de6a48cf9","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318224Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"d78a8e4f-3080-42ed-8031-d08de6a48cf9\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:15:30.377Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:15:30.378Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318224Z"},"updateMask":{}},"context":{"eventId":"d78a8e4f-3080-42ed-8031-d08de6a48cf9","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318224Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"d78a8e4f-3080-42ed-8031-d08de6a48cf9\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } }"}}
[debug] [2020-12-17T10:15:30.415Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:15:30.416Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:15:30.416Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:15:30.659Z] Dec 17, 2020 10:15:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:15:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:00.725Z] Dec 17, 2020 10:16:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:00.725Z] Dec 17, 2020 10:16:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:00.756Z] Dec 17, 2020 10:16:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:30.724Z] Dec 17, 2020 10:16:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:30.759Z] Dec 17, 2020 10:16:30 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:30 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:16:30.773Z] Dec 17, 2020 10:16:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:31.166Z] Dec 17, 2020 10:16:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:35.523Z] Dec 17, 2020 10:16:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:35.741Z] Dec 17, 2020 10:16:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:35.902Z] Dec 17, 2020 10:16:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:36.388Z] Dec 17, 2020 10:16:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:36.388Z] Dec 17, 2020 10:16:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:39.850Z] Dec 17, 2020 10:16:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:40.461Z] Dec 17, 2020 10:16:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:42.996Z] Dec 17, 2020 10:16:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:43.340Z] Dec 17, 2020 10:16:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:43.666Z] Dec 17, 2020 10:16:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:43.712Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:16:43.712Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:16:43.712Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:16:43.713Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:16:43.713Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:16:43.713Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:16:43.716Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:16:43.717Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:16:43.717Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:16:43.717Z] [runtime-status] [8076] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"quantity":{"integerValue":"1"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:36:49.318052Z"},"updateMask":{}},"context":{"eventId":"f55a1f51-afb8-4cbb-900d-1114fb4ef374","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"quantity\":{\"integerValue\":\"1\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:36:49.318052Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"f55a1f51-afb8-4cbb-900d-1114fb4ef374\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:16:43.717Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:16:43.718Z] [runtime-status] [8076] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"quantity":{"integerValue":"1"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"}},"createTime":"2020-12-17T10:22:24.225Z","updateTime":"2020-12-17T10:36:49.318052Z"},"updateMask":{}},"context":{"eventId":"f55a1f51-afb8-4cbb-900d-1114fb4ef374","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"quantity\":{\"integerValue\":\"1\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"}},\"createTime\":\"2020-12-17T10:22:24.225Z\",\"updateTime\":\"2020-12-17T10:36:49.318052Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"f55a1f51-afb8-4cbb-900d-1114fb4ef374\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } } {"user":" { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }"}}
[debug] [2020-12-17T10:16:43.752Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:16:43.754Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:16:43.754Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:16:44.073Z] Dec 17, 2020 10:16:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:16:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:16:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:44.474Z] Dec 17, 2020 10:16:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:44.538Z] Dec 17, 2020 10:16:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:47.749Z] Dec 17, 2020 10:16:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:47.825Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:16:47.825Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:16:47.825Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:16:47.826Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:16:47.826Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:16:47.826Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:16:47.828Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:16:47.830Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:16:47.830Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:16:47.831Z] [runtime-status] [8076] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:22:43.945Z"}},"createTime":"2020-12-17T10:22:35.247Z","updateTime":"2020-12-17T10:22:43.958Z"},"updateMask":{}},"context":{"eventId":"0ebd9318-d835-4e69-af8b-dd09ec55c9d1","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:43.945Z\"}},\"createTime\":\"2020-12-17T10:22:35.247Z\",\"updateTime\":\"2020-12-17T10:22:43.958Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0ebd9318-d835-4e69-af8b-dd09ec55c9d1\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:16:47.831Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:16:47.831Z] [runtime-status] [8076] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:22:43.945Z"}},"createTime":"2020-12-17T10:22:35.247Z","updateTime":"2020-12-17T10:22:43.958Z"},"updateMask":{}},"context":{"eventId":"0ebd9318-d835-4e69-af8b-dd09ec55c9d1","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:22:43.945Z\"}},\"createTime\":\"2020-12-17T10:22:35.247Z\",\"updateTime\":\"2020-12-17T10:22:43.958Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0ebd9318-d835-4e69-af8b-dd09ec55c9d1\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } } {"user":" { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }"}}
[debug] [2020-12-17T10:16:47.879Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:16:47.880Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:16:47.881Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:16:48.152Z] Dec 17, 2020 10:16:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:48.170Z] Dec 17, 2020 10:16:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:48.175Z] Dec 17, 2020 10:16:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:48.202Z] Dec 17, 2020 10:16:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:48.541Z] Dec 17, 2020 10:16:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:48.547Z] Dec 17, 2020 10:16:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:57.010Z] Dec 17, 2020 10:16:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:16:57.390Z] Dec 17, 2020 10:16:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:16:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:17:07.501Z] Dec 17, 2020 10:17:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:17:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:17:07.829Z] Dec 17, 2020 10:17:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:17:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:17:08.142Z] Dec 17, 2020 10:17:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:17:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:17:08.266Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:17:08.266Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:17:08.266Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:17:08.267Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:17:08.267Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:17:08.267Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:17:08.270Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:17:08.272Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:17:08.273Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:17:08.273Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"},"quantity":{"integerValue":"2"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318540Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318224Z"},"updateMask":{}},"context":{"eventId":"221b4db4-2902-4db2-ba0d-b29fede28430","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"},\"quantity\":{\"integerValue\":\"2\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318540Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318224Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"221b4db4-2902-4db2-ba0d-b29fede28430\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:17:08.274Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:17:08.274Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"},"quantity":{"integerValue":"2"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318540Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318224Z"},"updateMask":{}},"context":{"eventId":"221b4db4-2902-4db2-ba0d-b29fede28430","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"},\"quantity\":{\"integerValue\":\"2\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318540Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318224Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"221b4db4-2902-4db2-ba0d-b29fede28430\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 }, {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 },"}}
[info] >    quantity: 2, {"user":"  quantity: 2,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 2,"}}
[info] >    id: '2urzBawDSOxMX5xRYm0H' {"user":"  id: '2urzBawDSOxMX5xRYm0H'","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '2urzBawDSOxMX5xRYm0H'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:17:08.322Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:17:08.323Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:17:08.324Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }"}}
[debug] [2020-12-17T10:17:38.611Z] Dec 17, 2020 10:17:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:17:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:17:38.642Z] Dec 17, 2020 10:17:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:17:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:17:38.642Z] Dec 17, 2020 10:17:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:17:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:08.658Z] Dec 17, 2020 10:18:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:08.669Z] Dec 17, 2020 10:18:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:08.675Z] Dec 17, 2020 10:18:08 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:08 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:18:14.382Z] Dec 17, 2020 10:18:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:15.621Z] Dec 17, 2020 10:18:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:15.636Z] Dec 17, 2020 10:18:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:16.039Z] Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:16.061Z] Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:16.645Z] Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:16.645Z] Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:16.645Z] Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:16.674Z] Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:20.025Z] Dec 17, 2020 10:18:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:20.666Z] Dec 17, 2020 10:18:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:29.843Z] Dec 17, 2020 10:18:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:30.557Z] Dec 17, 2020 10:18:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:35.318Z] Dec 17, 2020 10:18:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:35.653Z] Dec 17, 2020 10:18:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:35.970Z] Dec 17, 2020 10:18:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:36.069Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:18:36.070Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:18:36.070Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:18:36.070Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:18:36.070Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:18:36.070Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:18:36.073Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:18:36.074Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:18:36.075Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:18:36.075Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"3"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318673Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"},"quantity":{"integerValue":"2"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318540Z"},"updateMask":{}},"context":{"eventId":"07f9395a-50fa-48ed-9022-5a9e8f43cc76","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"3\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318673Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"},\"quantity\":{\"integerValue\":\"2\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318540Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"07f9395a-50fa-48ed-9022-5a9e8f43cc76\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:18:36.076Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:18:36.077Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"3"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318673Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"},"quantity":{"integerValue":"2"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318540Z"},"updateMask":{}},"context":{"eventId":"07f9395a-50fa-48ed-9022-5a9e8f43cc76","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"3\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318673Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"},\"quantity\":{\"integerValue\":\"2\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318540Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"07f9395a-50fa-48ed-9022-5a9e8f43cc76\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 }, {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 },"}}
[info] >    id: '2urzBawDSOxMX5xRYm0H', {"user":"  id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >    quantity: 3 {"user":"  quantity: 3","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 3"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:18:36.121Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:18:36.122Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:18:36.123Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } }"}}
[debug] [2020-12-17T10:18:36.358Z] Dec 17, 2020 10:18:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:36.442Z] Dec 17, 2020 10:18:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:43.157Z] Dec 17, 2020 10:18:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:43.488Z] Dec 17, 2020 10:18:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:43.811Z] Dec 17, 2020 10:18:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:43.887Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:18:43.887Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:18:43.888Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:18:43.888Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:18:43.888Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:18:43.888Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:18:43.899Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:18:43.915Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:18:43.915Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:18:43.916Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"5"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318783Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"3"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318673Z"},"updateMask":{}},"context":{"eventId":"c30e8a44-5b3a-4d8c-889d-2e8e01a176f3","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"5\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318783Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"3\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318673Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"c30e8a44-5b3a-4d8c-889d-2e8e01a176f3\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:18:43.916Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:18:43.917Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"5"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318783Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"3"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318673Z"},"updateMask":{}},"context":{"eventId":"c30e8a44-5b3a-4d8c-889d-2e8e01a176f3","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"5\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318783Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"3\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318673Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"c30e8a44-5b3a-4d8c-889d-2e8e01a176f3\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 }, {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 318000000 },"}}
[info] >    id: '2urzBawDSOxMX5xRYm0H', {"user":"  id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >    quantity: 5 {"user":"  quantity: 5","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 5"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:18:44.003Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:18:44.005Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:18:44.009Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } } {"user":" { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } }"}}
[debug] [2020-12-17T10:18:48.028Z] Dec 17, 2020 10:18:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:48.090Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:18:48.091Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:18:48.091Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:18:48.091Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:18:48.091Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:18:48.091Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:18:48.094Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:18:48.095Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:18:48.095Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:18:48.096Z] [runtime-status] [8076] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"5"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318783Z"},"updateMask":{}},"context":{"eventId":"b4f45189-ad8a-4af0-b1ac-bb055f0e0ff6","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"5\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318783Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"b4f45189-ad8a-4af0-b1ac-bb055f0e0ff6\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:18:48.096Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:18:48.097Z] [runtime-status] [8076] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"5"}},"createTime":"2020-12-17T10:36:49.318224Z","updateTime":"2020-12-17T10:36:49.318783Z"},"updateMask":{}},"context":{"eventId":"b4f45189-ad8a-4af0-b1ac-bb055f0e0ff6","timestamp":"2020-12-17T10:36:49.318Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"5\"}},\"createTime\":\"2020-12-17T10:36:49.318224Z\",\"updateTime\":\"2020-12-17T10:36:49.318783Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"b4f45189-ad8a-4af0-b1ac-bb055f0e0ff6\",\"timestamp\":\"2020-12-17T10:36:49.318Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -5 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } } {"user":" { quantityIncrement: -5 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -5 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } }"}}
[debug] [2020-12-17T10:18:48.143Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:18:48.144Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:18:48.144Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:18:48.476Z] Dec 17, 2020 10:18:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:48.553Z] Dec 17, 2020 10:18:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:48.848Z] Dec 17, 2020 10:18:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:48.875Z] Dec 17, 2020 10:18:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:49.975Z] Dec 17, 2020 10:18:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:50.022Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:18:50.022Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:18:50.022Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:18:50.022Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:18:50.022Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:18:50.022Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:18:50.024Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:18:50.026Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:18:50.026Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:18:50.026Z] [runtime-status] [8076] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"}},"createTime":"2020-12-17T10:36:49.318138Z","updateTime":"2020-12-17T10:36:49.318138Z"},"updateMask":{}},"context":{"eventId":"094d2320-197d-4cc3-847f-22919ee86330","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"}},\"createTime\":\"2020-12-17T10:36:49.318138Z\",\"updateTime\":\"2020-12-17T10:36:49.318138Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"094d2320-197d-4cc3-847f-22919ee86330\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:18:50.026Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:18:50.027Z] [runtime-status] [8076] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.318Z"}},"createTime":"2020-12-17T10:36:49.318138Z","updateTime":"2020-12-17T10:36:49.318138Z"},"updateMask":{}},"context":{"eventId":"094d2320-197d-4cc3-847f-22919ee86330","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.318Z\"}},\"createTime\":\"2020-12-17T10:36:49.318138Z\",\"updateTime\":\"2020-12-17T10:36:49.318138Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"094d2320-197d-4cc3-847f-22919ee86330\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 0 } } {"user":" { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 0 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 0 } }"}}
[debug] [2020-12-17T10:18:50.060Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:18:50.061Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:18:50.062Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:18:50.367Z] Dec 17, 2020 10:18:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:50.375Z] Dec 17, 2020 10:18:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:50.708Z] Dec 17, 2020 10:18:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:50.755Z] Dec 17, 2020 10:18:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:53.555Z] Dec 17, 2020 10:18:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:53.984Z] Dec 17, 2020 10:18:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:54.381Z] Dec 17, 2020 10:18:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:55.362Z] Dec 17, 2020 10:18:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:59.267Z] Dec 17, 2020 10:18:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:18:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:18:59.309Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:18:59.309Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:18:59.309Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:18:59.310Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:18:59.310Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:18:59.310Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:18:59.316Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:18:59.322Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:18:59.322Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:18:59.323Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.319202Z"},"updateMask":{}},"context":{"eventId":"017fcfed-5d71-461f-b80b-5d24eaf7a6d7","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.319202Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"017fcfed-5d71-461f-b80b-5d24eaf7a6d7\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:18:59.323Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:18:59.324Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.319202Z"},"updateMask":{}},"context":{"eventId":"017fcfed-5d71-461f-b80b-5d24eaf7a6d7","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.319202Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"017fcfed-5d71-461f-b80b-5d24eaf7a6d7\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:18:59.380Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:18:59.382Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:18:59.383Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } }"}}
[debug] [2020-12-17T10:19:01.593Z] Dec 17, 2020 10:19:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:01.655Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:19:01.656Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:19:01.656Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:19:01.656Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:19:01.656Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:19:01.656Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:19:01.660Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:19:01.663Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:19:01.663Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:19:01.664Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"}},"createTime":"2020-12-17T10:36:49.319306Z","updateTime":"2020-12-17T10:36:49.319306Z"},"updateMask":{}},"context":{"eventId":"a97a8df2-5eb1-4dc0-b38f-cdfddcccbdfd","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"}},\"createTime\":\"2020-12-17T10:36:49.319306Z\",\"updateTime\":\"2020-12-17T10:36:49.319306Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"a97a8df2-5eb1-4dc0-b38f-cdfddcccbdfd\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:19:01.665Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:19:01.665Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"}},"createTime":"2020-12-17T10:36:49.319306Z","updateTime":"2020-12-17T10:36:49.319306Z"},"updateMask":{}},"context":{"eventId":"a97a8df2-5eb1-4dc0-b38f-cdfddcccbdfd","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"}},\"createTime\":\"2020-12-17T10:36:49.319306Z\",\"updateTime\":\"2020-12-17T10:36:49.319306Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"a97a8df2-5eb1-4dc0-b38f-cdfddcccbdfd\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 3.798561446297073, {"user":"    averageReview: 3.798561446297073,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 3.798561446297073,"}}
[info] >      totalComments: 94.37736414553208, {"user":"    totalComments: 94.37736414553208,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 94.37736414553208,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 6584.2385718533515, {"user":"    price: 6584.2385718533515,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 6584.2385718533515,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },"}}
[info] >      name: 'consectetur', {"user":"    name: 'consectetur',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'consectetur',"}}
[info] >      description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore', {"user":"    description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',"}}
[info] >      discount: 70766.22364740193, {"user":"    discount: 70766.22364740193,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 70766.22364740193,"}}
[info] >      id: '3gj4w3j5HAAonN4GDEXt', {"user":"    id: '3gj4w3j5HAAonN4GDEXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3gj4w3j5HAAonN4GDEXt',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:19:01.740Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:19:01.741Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:19:01.742Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }"}}
[debug] [2020-12-17T10:19:03.815Z] Dec 17, 2020 10:19:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:03.864Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:19:03.865Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:19:03.865Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:19:03.865Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:19:03.866Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:19:03.866Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:19:03.869Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:19:03.870Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:19:03.871Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:19:03.871Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"}},"createTime":"2020-12-17T10:36:49.319410Z","updateTime":"2020-12-17T10:36:49.319410Z"},"updateMask":{}},"context":{"eventId":"1de653cf-6b22-4377-90dc-9d0b3c7fca95","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"}},\"createTime\":\"2020-12-17T10:36:49.319410Z\",\"updateTime\":\"2020-12-17T10:36:49.319410Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"1de653cf-6b22-4377-90dc-9d0b3c7fca95\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:19:03.872Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:19:03.872Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"}},"createTime":"2020-12-17T10:36:49.319410Z","updateTime":"2020-12-17T10:36:49.319410Z"},"updateMask":{}},"context":{"eventId":"1de653cf-6b22-4377-90dc-9d0b3c7fca95","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"}},\"createTime\":\"2020-12-17T10:36:49.319410Z\",\"updateTime\":\"2020-12-17T10:36:49.319410Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"1de653cf-6b22-4377-90dc-9d0b3c7fca95\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }"}}
[debug] [2020-12-17T10:19:03.919Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:19:03.920Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:19:03.921Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:19:05.798Z] Dec 17, 2020 10:19:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:07.580Z] Dec 17, 2020 10:19:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:10.385Z] Dec 17, 2020 10:19:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:16.541Z] Dec 17, 2020 10:19:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:16.635Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:19:16.635Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:19:16.635Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:19:16.635Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:19:16.636Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:19:16.636Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:19:16.639Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:19:16.651Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:19:16.652Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:19:16.652Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"},"quantity":{"integerValue":"4"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.319652Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.319202Z"},"updateMask":{}},"context":{"eventId":"09698285-3182-47a9-a4f6-9ff1eab1f5d8","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.319652Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.319202Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"09698285-3182-47a9-a4f6-9ff1eab1f5d8\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:19:16.652Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:19:16.653Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"},"quantity":{"integerValue":"4"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.319652Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.319202Z"},"updateMask":{}},"context":{"eventId":"09698285-3182-47a9-a4f6-9ff1eab1f5d8","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.319652Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.319202Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"09698285-3182-47a9-a4f6-9ff1eab1f5d8\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 }, {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 },"}}
[info] >    quantity: 4, {"user":"  quantity: 4,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 4,"}}
[info] >    id: '2urzBawDSOxMX5xRYm0H' {"user":"  id: '2urzBawDSOxMX5xRYm0H'","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '2urzBawDSOxMX5xRYm0H'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:19:16.687Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:19:16.689Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:19:16.689Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } } {"user":" { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } }"}}
[debug] [2020-12-17T10:19:17.102Z] Dec 17, 2020 10:19:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:37.275Z] Dec 17, 2020 10:19:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:37.283Z] Dec 17, 2020 10:19:37 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:37 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:19:46.994Z] Dec 17, 2020 10:19:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:46.994Z] Dec 17, 2020 10:19:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:46.999Z] Dec 17, 2020 10:19:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:19:47.004Z] Dec 17, 2020 10:19:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:19:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:04.170Z] Dec 17, 2020 10:20:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:04.366Z] Dec 17, 2020 10:20:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:04.494Z] Dec 17, 2020 10:20:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:04.695Z] Dec 17, 2020 10:20:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:04.866Z] Dec 17, 2020 10:20:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:06.520Z] Dec 17, 2020 10:20:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:06.989Z] Dec 17, 2020 10:20:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:17.336Z] Dec 17, 2020 10:20:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:17.340Z] Dec 17, 2020 10:20:17 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:17 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:20:20.140Z] Dec 17, 2020 10:20:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:20.717Z] Dec 17, 2020 10:20:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:25.096Z] Dec 17, 2020 10:20:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:25.436Z] Dec 17, 2020 10:20:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:25.763Z] Dec 17, 2020 10:20:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:25.865Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:20:25.866Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:20:25.866Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:20:25.866Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:20:25.866Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:20:25.870Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:20:25.873Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:20:25.874Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:20:25.874Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:20:25.874Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"2"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.319792Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"},"quantity":{"integerValue":"4"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.319652Z"},"updateMask":{}},"context":{"eventId":"077238e4-043e-46f5-afff-75add71e205e","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"2\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.319792Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.319652Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"077238e4-043e-46f5-afff-75add71e205e\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:20:25.875Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:20:25.875Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"2"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.319792Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"},"quantity":{"integerValue":"4"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.319652Z"},"updateMask":{}},"context":{"eventId":"077238e4-043e-46f5-afff-75add71e205e","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"2\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.319792Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.319652Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"077238e4-043e-46f5-afff-75add71e205e\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 }, {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 },"}}
[info] >    id: '2urzBawDSOxMX5xRYm0H', {"user":"  id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >    quantity: 2 {"user":"  quantity: 2","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 2"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -2 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } } {"user":" { quantityIncrement: -2 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -2 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } }"}}
[debug] [2020-12-17T10:20:25.914Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:20:25.916Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:20:25.916Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:20:31.841Z] Dec 17, 2020 10:20:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:31.928Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:20:31.928Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:20:31.928Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:20:31.928Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:20:31.929Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:20:31.929Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:20:31.933Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:20:31.942Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:20:31.942Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:20:31.943Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"},"quantity":{"integerValue":"2"},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"}},"createTime":"2020-12-17T10:36:49.319306Z","updateTime":"2020-12-17T10:36:49.319914Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"}},"createTime":"2020-12-17T10:36:49.319306Z","updateTime":"2020-12-17T10:36:49.319306Z"},"updateMask":{}},"context":{"eventId":"e8868d1c-2107-46a0-b49f-a5f773990581","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"},\"quantity\":{\"integerValue\":\"2\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"}},\"createTime\":\"2020-12-17T10:36:49.319306Z\",\"updateTime\":\"2020-12-17T10:36:49.319914Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"}},\"createTime\":\"2020-12-17T10:36:49.319306Z\",\"updateTime\":\"2020-12-17T10:36:49.319306Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"e8868d1c-2107-46a0-b49f-a5f773990581\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:20:31.943Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:20:31.944Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"},"quantity":{"integerValue":"2"},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"}},"createTime":"2020-12-17T10:36:49.319306Z","updateTime":"2020-12-17T10:36:49.319914Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"}},"createTime":"2020-12-17T10:36:49.319306Z","updateTime":"2020-12-17T10:36:49.319306Z"},"updateMask":{}},"context":{"eventId":"e8868d1c-2107-46a0-b49f-a5f773990581","timestamp":"2020-12-17T10:36:49.319Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"},\"quantity\":{\"integerValue\":\"2\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"}},\"createTime\":\"2020-12-17T10:36:49.319306Z\",\"updateTime\":\"2020-12-17T10:36:49.319914Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"}},\"createTime\":\"2020-12-17T10:36:49.319306Z\",\"updateTime\":\"2020-12-17T10:36:49.319306Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"e8868d1c-2107-46a0-b49f-a5f773990581\",\"timestamp\":\"2020-12-17T10:36:49.319Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 3.798561446297073, {"user":"    averageReview: 3.798561446297073,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 3.798561446297073,"}}
[info] >      totalComments: 94.37736414553208, {"user":"    totalComments: 94.37736414553208,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 94.37736414553208,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 6584.2385718533515, {"user":"    price: 6584.2385718533515,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 6584.2385718533515,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },"}}
[info] >      name: 'consectetur', {"user":"    name: 'consectetur',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'consectetur',"}}
[info] >      description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore', {"user":"    description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',"}}
[info] >      discount: 70766.22364740193, {"user":"    discount: 70766.22364740193,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 70766.22364740193,"}}
[info] >      id: '3gj4w3j5HAAonN4GDEXt', {"user":"    id: '3gj4w3j5HAAonN4GDEXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3gj4w3j5HAAonN4GDEXt',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 }, {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 319000000 },"}}
[info] >    quantity: 2, {"user":"  quantity: 2,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 2,"}}
[info] >    id: '3gj4w3j5HAAonN4GDEXt' {"user":"  id: '3gj4w3j5HAAonN4GDEXt'","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '3gj4w3j5HAAonN4GDEXt'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:20:32.011Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:20:32.013Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:20:32.013Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 5 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 5 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 5 } }"}}
[debug] [2020-12-17T10:20:40.648Z] Dec 17, 2020 10:20:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:40.722Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:20:40.722Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:20:40.723Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:20:40.724Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:20:40.724Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:20:40.724Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:20:40.727Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:20:40.728Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:20:40.730Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:20:40.730Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"2"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.319410Z","updateTime":"2020-12-17T10:36:49.320036Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"}},"createTime":"2020-12-17T10:36:49.319410Z","updateTime":"2020-12-17T10:36:49.319410Z"},"updateMask":{}},"context":{"eventId":"020794fd-e8a1-426c-9ae0-c247db399a76","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"2\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.319410Z\",\"updateTime\":\"2020-12-17T10:36:49.320036Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"}},\"createTime\":\"2020-12-17T10:36:49.319410Z\",\"updateTime\":\"2020-12-17T10:36:49.319410Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"020794fd-e8a1-426c-9ae0-c247db399a76\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:20:40.731Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:20:40.731Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"2"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.319410Z","updateTime":"2020-12-17T10:36:49.320036Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"}},"createTime":"2020-12-17T10:36:49.319410Z","updateTime":"2020-12-17T10:36:49.319410Z"},"updateMask":{}},"context":{"eventId":"020794fd-e8a1-426c-9ae0-c247db399a76","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"2\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.319410Z\",\"updateTime\":\"2020-12-17T10:36:49.320036Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"}},\"createTime\":\"2020-12-17T10:36:49.319410Z\",\"updateTime\":\"2020-12-17T10:36:49.319410Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"020794fd-e8a1-426c-9ae0-c247db399a76\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 2, {"user":"  quantity: 2,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 2,"}}
[info] >    id: '3lDPbgPVglBzGBLdgutC', {"user":"  id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:20:40.777Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:20:40.778Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:20:40.782Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } }"}}
[debug] [2020-12-17T10:20:41.055Z] Dec 17, 2020 10:20:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:41.086Z] Dec 17, 2020 10:20:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:41 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:43.627Z] Dec 17, 2020 10:20:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:43.688Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:20:43.688Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:20:43.688Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:20:43.688Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:20:43.689Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:20:43.689Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:20:43.692Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:20:43.695Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:20:43.695Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:20:43.695Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"2"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.320158Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"2"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.319792Z"},"updateMask":{}},"context":{"eventId":"0dfb9f78-f8d1-47c5-bd8f-543513fce848","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"2\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.320158Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"2\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.319792Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0dfb9f78-f8d1-47c5-bd8f-543513fce848\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:20:43.695Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:20:43.696Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"2"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.320158Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"2"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.319792Z"},"updateMask":{}},"context":{"eventId":"0dfb9f78-f8d1-47c5-bd8f-543513fce848","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"2\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.320158Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"2\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.319792Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0dfb9f78-f8d1-47c5-bd8f-543513fce848\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    id: '2urzBawDSOxMX5xRYm0H', {"user":"  id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >    quantity: 2, {"user":"  quantity: 2,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 2,"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } } {"user":" { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalQuantity: 6 } }"}}
[debug] [2020-12-17T10:20:43.734Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:20:43.736Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:20:43.736Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:20:47.337Z] Dec 17, 2020 10:20:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:47.415Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:20:47.416Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:20:47.416Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:20:47.416Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:20:47.417Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:20:47.417Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:20:47.419Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:20:47.424Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:20:47.424Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:20:47.425Z] [runtime-status] [8076] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"2"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.320158Z"},"updateMask":{}},"context":{"eventId":"bdd27957-ec95-42b6-90ca-d328d071096d","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"2\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.320158Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"bdd27957-ec95-42b6-90ca-d328d071096d\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:20:47.425Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:20:47.425Z] [runtime-status] [8076] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"2"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.319202Z","updateTime":"2020-12-17T10:36:49.320158Z"},"updateMask":{}},"context":{"eventId":"bdd27957-ec95-42b6-90ca-d328d071096d","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"2\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.319202Z\",\"updateTime\":\"2020-12-17T10:36:49.320158Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"bdd27957-ec95-42b6-90ca-d328d071096d\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -2 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } } {"user":" { quantityIncrement: -2 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -2 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } }"}}
[debug] [2020-12-17T10:20:47.469Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:20:47.470Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:20:47.471Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:20:47.789Z] Dec 17, 2020 10:20:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:47.883Z] Dec 17, 2020 10:20:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:48.116Z] Dec 17, 2020 10:20:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:20:48.271Z] Dec 17, 2020 10:20:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:20:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:08.010Z] Dec 17, 2020 10:21:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:08.376Z] Dec 17, 2020 10:21:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:08.378Z] Dec 17, 2020 10:21:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:08.848Z] Dec 17, 2020 10:21:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:15.598Z] Dec 17, 2020 10:21:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:15.968Z] Dec 17, 2020 10:21:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:17.758Z] Dec 17, 2020 10:21:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:18.746Z] Dec 17, 2020 10:21:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:21.188Z] Dec 17, 2020 10:21:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:21.242Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:21:21.243Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:21:21.243Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:21:21.243Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:21:21.243Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:21:21.243Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:21:21.246Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:21:21.248Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:21:21.248Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:21:21.249Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"quantity":{"integerValue":"1"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.319306Z","updateTime":"2020-12-17T10:36:49.320418Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"},"quantity":{"integerValue":"2"},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"}},"createTime":"2020-12-17T10:36:49.319306Z","updateTime":"2020-12-17T10:36:49.319914Z"},"updateMask":{}},"context":{"eventId":"b994d95b-17ec-476d-970a-a3eeb51070e6","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"quantity\":{\"integerValue\":\"1\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.319306Z\",\"updateTime\":\"2020-12-17T10:36:49.320418Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"},\"quantity\":{\"integerValue\":\"2\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"}},\"createTime\":\"2020-12-17T10:36:49.319306Z\",\"updateTime\":\"2020-12-17T10:36:49.319914Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"b994d95b-17ec-476d-970a-a3eeb51070e6\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:21:21.249Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:21:21.250Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"quantity":{"integerValue":"1"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.319306Z","updateTime":"2020-12-17T10:36:49.320418Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.319Z"},"quantity":{"integerValue":"2"},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"}},"createTime":"2020-12-17T10:36:49.319306Z","updateTime":"2020-12-17T10:36:49.319914Z"},"updateMask":{}},"context":{"eventId":"b994d95b-17ec-476d-970a-a3eeb51070e6","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"quantity\":{\"integerValue\":\"1\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.319306Z\",\"updateTime\":\"2020-12-17T10:36:49.320418Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.319Z\"},\"quantity\":{\"integerValue\":\"2\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"}},\"createTime\":\"2020-12-17T10:36:49.319306Z\",\"updateTime\":\"2020-12-17T10:36:49.319914Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"b994d95b-17ec-476d-970a-a3eeb51070e6\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 3.798561446297073, {"user":"    averageReview: 3.798561446297073,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 3.798561446297073,"}}
[info] >      totalComments: 94.37736414553208, {"user":"    totalComments: 94.37736414553208,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 94.37736414553208,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 6584.2385718533515, {"user":"    price: 6584.2385718533515,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 6584.2385718533515,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },"}}
[info] >      name: 'consectetur', {"user":"    name: 'consectetur',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'consectetur',"}}
[info] >      description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore', {"user":"    description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',"}}
[info] >      discount: 70766.22364740193, {"user":"    discount: 70766.22364740193,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 70766.22364740193,"}}
[info] >      id: '3gj4w3j5HAAonN4GDEXt', {"user":"    id: '3gj4w3j5HAAonN4GDEXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3gj4w3j5HAAonN4GDEXt',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    id: '3gj4w3j5HAAonN4GDEXt', {"user":"  id: '3gj4w3j5HAAonN4GDEXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '3gj4w3j5HAAonN4GDEXt',"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:21:21.295Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:21:21.305Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:21:21.306Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } } {"user":" { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }"}}
[debug] [2020-12-17T10:21:26.595Z] Dec 17, 2020 10:21:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:26.673Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:21:26.674Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:21:26.674Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:21:26.674Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:21:26.674Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:21:26.674Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:21:26.678Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:21:26.683Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:21:26.684Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:21:26.685Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"},"quantity":{"integerValue":"1"}},"createTime":"2020-12-17T10:36:49.319410Z","updateTime":"2020-12-17T10:36:49.320535Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"2"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.319410Z","updateTime":"2020-12-17T10:36:49.320036Z"},"updateMask":{}},"context":{"eventId":"01d88b3c-0001-432d-b68c-7e004a5f6e60","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"},\"quantity\":{\"integerValue\":\"1\"}},\"createTime\":\"2020-12-17T10:36:49.319410Z\",\"updateTime\":\"2020-12-17T10:36:49.320535Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"2\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.319410Z\",\"updateTime\":\"2020-12-17T10:36:49.320036Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"01d88b3c-0001-432d-b68c-7e004a5f6e60\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:21:26.685Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:21:26.686Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"},"quantity":{"integerValue":"1"}},"createTime":"2020-12-17T10:36:49.319410Z","updateTime":"2020-12-17T10:36:49.320535Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"2"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.319410Z","updateTime":"2020-12-17T10:36:49.320036Z"},"updateMask":{}},"context":{"eventId":"01d88b3c-0001-432d-b68c-7e004a5f6e60","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"},\"quantity\":{\"integerValue\":\"1\"}},\"createTime\":\"2020-12-17T10:36:49.319410Z\",\"updateTime\":\"2020-12-17T10:36:49.320535Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"2\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.319410Z\",\"updateTime\":\"2020-12-17T10:36:49.320036Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"01d88b3c-0001-432d-b68c-7e004a5f6e60\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    id: '3lDPbgPVglBzGBLdgutC', {"user":"  id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 }, {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 },"}}
[info] >    quantity: 1 {"user":"  quantity: 1","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:21:26.727Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:21:26.729Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:21:26.729Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } } {"user":" { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }"}}
[debug] [2020-12-17T10:21:26.977Z] Dec 17, 2020 10:21:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:27.054Z] Dec 17, 2020 10:21:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:28.551Z] Dec 17, 2020 10:21:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:28.630Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:21:28.630Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:21:28.631Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:21:28.631Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:21:28.631Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:21:28.632Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:21:28.634Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:21:28.635Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:21:28.635Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:21:28.637Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.320652Z","updateTime":"2020-12-17T10:36:49.320652Z"},"updateMask":{}},"context":{"eventId":"98f01ae8-1252-4741-8f65-4aeb1f2b8e37","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.320652Z\",\"updateTime\":\"2020-12-17T10:36:49.320652Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"98f01ae8-1252-4741-8f65-4aeb1f2b8e37\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:21:28.637Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:21:28.637Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.320652Z","updateTime":"2020-12-17T10:36:49.320652Z"},"updateMask":{}},"context":{"eventId":"98f01ae8-1252-4741-8f65-4aeb1f2b8e37","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.320652Z\",\"updateTime\":\"2020-12-17T10:36:49.320652Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"98f01ae8-1252-4741-8f65-4aeb1f2b8e37\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.1828492776300625, {"user":"    averageReview: 1.1828492776300625,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.1828492776300625,"}}
[info] >      totalComments: 92.97544818144453, {"user":"    totalComments: 92.97544818144453,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 92.97544818144453,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 23139.343024570146, {"user":"    price: 23139.343024570146,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 23139.343024570146,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 623000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 623000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 623000000 },"}}
[info] >      name: 'est , consectetur', {"user":"    name: 'est , consectetur',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'est , consectetur',"}}
[info] >      description: 'velit elit non Ad , Lorem proident deserunt', {"user":"    description: 'velit elit non Ad , Lorem proident deserunt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'velit elit non Ad , Lorem proident deserunt',"}}
[info] >      discount: 38486.753409351295, {"user":"    discount: 38486.753409351295,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 38486.753409351295,"}}
[info] >      id: 'A8x6uPcL7MFUUgdfoPH4', {"user":"    id: 'A8x6uPcL7MFUUgdfoPH4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'A8x6uPcL7MFUUgdfoPH4',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:21:28.692Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:21:28.696Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:21:28.696Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }"}}
[debug] [2020-12-17T10:21:30.249Z] Dec 17, 2020 10:21:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:21:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:21:30.310Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:21:30.310Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:21:30.310Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:21:30.310Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:21:30.310Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:21:30.310Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:21:30.315Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:21:30.318Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:21:30.318Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:21:30.319Z] [runtime-status] [8076] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.320769Z","updateTime":"2020-12-17T10:36:49.320769Z"},"updateMask":{}},"context":{"eventId":"93d61edd-7b63-4b7f-913c-0acc5fa22bca","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.320769Z\",\"updateTime\":\"2020-12-17T10:36:49.320769Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"93d61edd-7b63-4b7f-913c-0acc5fa22bca\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:21:30.319Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:21:30.319Z] [runtime-status] [8076] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.320769Z","updateTime":"2020-12-17T10:36:49.320769Z"},"updateMask":{}},"context":{"eventId":"93d61edd-7b63-4b7f-913c-0acc5fa22bca","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.320769Z\",\"updateTime\":\"2020-12-17T10:36:49.320769Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"93d61edd-7b63-4b7f-913c-0acc5fa22bca\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 320000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:21:30.343Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:21:30.344Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:21:30.345Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalQuantity: 4 } }"}}
[debug] [2020-12-17T10:22:00.714Z] Dec 17, 2020 10:22:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:12.386Z] Dec 17, 2020 10:22:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:21.852Z] Dec 17, 2020 10:22:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:22.104Z] Dec 17, 2020 10:22:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:24.227Z] Dec 17, 2020 10:22:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:24.646Z] Dec 17, 2020 10:22:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:30.674Z] Dec 17, 2020 10:22:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:30.988Z] Dec 17, 2020 10:22:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:31.315Z] Dec 17, 2020 10:22:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:31.646Z] Dec 17, 2020 10:22:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:31.707Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:22:31.707Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:22:31.707Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:22:31.707Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:22:31.707Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:22:31.708Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:22:31.710Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:22:31.712Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:22:31.712Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:22:31.712Z] [runtime-status] [8076] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.320769Z","updateTime":"2020-12-17T10:36:49.320769Z"},"updateMask":{}},"context":{"eventId":"12d12bb4-c3f5-435c-96eb-8a596f545aad","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.320769Z\",\"updateTime\":\"2020-12-17T10:36:49.320769Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"12d12bb4-c3f5-435c-96eb-8a596f545aad\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:22:31.713Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:22:31.713Z] [runtime-status] [8076] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.320769Z","updateTime":"2020-12-17T10:36:49.320769Z"},"updateMask":{}},"context":{"eventId":"12d12bb4-c3f5-435c-96eb-8a596f545aad","timestamp":"2020-12-17T10:36:49.320Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.320769Z\",\"updateTime\":\"2020-12-17T10:36:49.320769Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"12d12bb4-c3f5-435c-96eb-8a596f545aad\",\"timestamp\":\"2020-12-17T10:36:49.320Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } } {"user":" { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 3 } }"}}
[debug] [2020-12-17T10:22:31.745Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:22:31.747Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:22:31.747Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:22:32.070Z] Dec 17, 2020 10:22:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:32.114Z] Dec 17, 2020 10:22:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:32.396Z] Dec 17, 2020 10:22:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:32.428Z] Dec 17, 2020 10:22:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:35.936Z] Dec 17, 2020 10:22:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:35.997Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:22:35.997Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:22:35.997Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:22:35.997Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:22:35.997Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8076"}}
[debug] [2020-12-17T10:22:35.997Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: BUSY"}}
[debug] [2020-12-17T10:22:36.002Z] [runtime-status] [8076] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:22:36.008Z] [runtime-status] [8076] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:22:36.008Z] [runtime-status] [8076] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:22:36.009Z] [runtime-status] [8076] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.320652Z","updateTime":"2020-12-17T10:36:49.320652Z"},"updateMask":{}},"context":{"eventId":"019f9e9f-4083-413b-85d3-55eaf9d294c7","timestamp":"2020-12-17T10:36:49.321Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.320652Z\",\"updateTime\":\"2020-12-17T10:36:49.320652Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"019f9e9f-4083-413b-85d3-55eaf9d294c7\",\"timestamp\":\"2020-12-17T10:36:49.321Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:22:36.009Z] [runtime-status] [8076] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:22:36.009Z] [runtime-status] [8076] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.320652Z","updateTime":"2020-12-17T10:36:49.320652Z"},"updateMask":{}},"context":{"eventId":"019f9e9f-4083-413b-85d3-55eaf9d294c7","timestamp":"2020-12-17T10:36:49.321Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.320652Z\",\"updateTime\":\"2020-12-17T10:36:49.320652Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"019f9e9f-4083-413b-85d3-55eaf9d294c7\",\"timestamp\":\"2020-12-17T10:36:49.321Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } } {"user":" { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 2 } }"}}
[debug] [2020-12-17T10:22:36.026Z] [runtime-status] [8076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8076] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:22:36.026Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: IDLE"}}
[debug] [2020-12-17T10:22:36.027Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:22:36.377Z] Dec 17, 2020 10:22:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:36.378Z] Dec 17, 2020 10:22:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:36.907Z] Dec 17, 2020 10:22:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:37.048Z] Dec 17, 2020 10:22:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:39.619Z] Dec 17, 2020 10:22:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:39.873Z] Dec 17, 2020 10:22:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:43.790Z] Dec 17, 2020 10:22:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:44.246Z] Dec 17, 2020 10:22:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:22:44.634Z] Dec 17, 2020 10:22:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:22:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:05.899Z] Dec 17, 2020 10:23:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:06.195Z] Dec 17, 2020 10:23:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:06.987Z] Dec 17, 2020 10:23:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:09.665Z] Dec 17, 2020 10:23:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:37.226Z] Dec 17, 2020 10:23:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:37.416Z] Dec 17, 2020 10:23:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:49.253Z] Dec 17, 2020 10:23:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:49.591Z] Dec 17, 2020 10:23:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:49.984Z] Dec 17, 2020 10:23:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:54.773Z] Dec 17, 2020 10:23:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:55.111Z] Dec 17, 2020 10:23:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:23:55.387Z] Dec 17, 2020 10:23:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:23:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:24:09.697Z] Dec 17, 2020 10:24:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:24:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:24:10.115Z] Dec 17, 2020 10:24:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:24:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:24:22.893Z] Dec 17, 2020 10:24:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:24:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:24:37.784Z] Dec 17, 2020 10:24:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:24:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:25:23.230Z] Dec 17, 2020 10:25:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:25:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:25:38.151Z] Dec 17, 2020 10:25:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:25:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:26:23.561Z] Dec 17, 2020 10:26:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:26:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:26:38.514Z] Dec 17, 2020 10:26:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:26:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:27:23.903Z] Dec 17, 2020 10:27:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:27:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:27:38.931Z] Dec 17, 2020 10:27:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:27:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:28:24.236Z] Dec 17, 2020 10:28:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:28:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:28:37.398Z] Dec 17, 2020 10:28:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:28:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:28:37.897Z] Dec 17, 2020 10:28:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:28:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:29:24.565Z] Dec 17, 2020 10:29:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:29:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:29:38.273Z] Dec 17, 2020 10:29:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:29:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:30:24.898Z] Dec 17, 2020 10:30:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:30:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:30:38.675Z] Dec 17, 2020 10:30:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:30:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:31:25.224Z] Dec 17, 2020 10:31:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:31:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:31:40.094Z] Dec 17, 2020 10:31:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:31:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:31:40.549Z] Dec 17, 2020 10:31:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:31:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:12.289Z] File C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2020-12-17T10:32:13.301Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-17T10:32:13.301Z] [worker-~diagnostic~-48295ff6-795e-45d3-ad6f-b80ccfd2e1c1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-48295ff6-795e-45d3-ad6f-b80ccfd2e1c1]: FINISHING"}}
[debug] [2020-12-17T10:32:13.301Z] [worker-pool] Shutting down IDLE worker (countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (countBasketTotals)"}}
[debug] [2020-12-17T10:32:13.302Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: FINISHING"}}
[debug] [2020-12-17T10:32:13.310Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-17T10:32:13.310Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-17T10:32:13.310Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-17T10:32:13.310Z] [worker-~diagnostic~-0f3935d7-f2fa-4749-abf0-943441f1e699]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\15956 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f3935d7-f2fa-4749-abf0-943441f1e699]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\15956"}}
[debug] [2020-12-17T10:32:13.310Z] [worker-~diagnostic~-0f3935d7-f2fa-4749-abf0-943441f1e699]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f3935d7-f2fa-4749-abf0-943441f1e699]: BUSY"}}
[debug] [2020-12-17T10:32:13.311Z] Dec 17, 2020 10:32:13 AM io.netty.channel.DefaultChannelPipeline onUnhandledInboundException
WARNING: An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.io.IOException: An existing connection was forcibly closed by the remote host
	at sun.nio.ch.SocketDispatcher.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(Unknown Source)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(Unknown Source)
	at sun.nio.ch.IOUtil.read(Unknown Source)
	at sun.nio.ch.SocketChannelImpl.read(Unknown Source)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Unknown Source)

 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:13 AM io.netty.channel.DefaultChannelPipeline onUnhandledInboundException\r\nWARNING: An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.\r\njava.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n\tat sun.nio.ch.SocketDispatcher.read(Unknown Source)\r\n\tat sun.nio.ch.IOUtil.readIntoNativeBuffer(Unknown Source)\r\n\tat sun.nio.ch.IOUtil.read(Unknown Source)\r\n\tat sun.nio.ch.SocketChannelImpl.read(Unknown Source)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\n"}}
[debug] [2020-12-17T10:32:13.311Z] [worker-~diagnostic~-48295ff6-795e-45d3-ad6f-b80ccfd2e1c1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-48295ff6-795e-45d3-ad6f-b80ccfd2e1c1]: exited"}}
[debug] [2020-12-17T10:32:13.311Z] [worker-~diagnostic~-48295ff6-795e-45d3-ad6f-b80ccfd2e1c1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-48295ff6-795e-45d3-ad6f-b80ccfd2e1c1]: FINISHED"}}
[debug] [2020-12-17T10:32:13.312Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: exited"}}
[debug] [2020-12-17T10:32:13.312Z] [worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-95f71329-8748-42eb-9d43-24851a7947ba]: FINISHED"}}
[debug] [2020-12-17T10:32:13.656Z] [runtime-status] [15956] Functions runtime initialized. {"cwd":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2020-12-17T10:32:13.658Z] [runtime-status] [15956] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] Disabled runtime features: undefined"}}
[debug] [2020-12-17T10:32:13.664Z] [runtime-status] [15956] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:13.667Z] [runtime-status] [15956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:13.670Z] [runtime-status] [15956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:13.673Z] [runtime-status] [15956] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-17T10:32:13.673Z] [runtime-status] [15956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:13.837Z] [runtime-status] [15956] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-17T10:32:13.838Z] [runtime-status] [15956] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T10:32:13.840Z] [runtime-status] [15956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:13.844Z] [runtime-status] [15956] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:13.847Z] [runtime-status] [15956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:13.847Z] [runtime-status] [15956] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T10:32:13.852Z] [runtime-status] [15956] initializeApp(DEFAULT) {"databaseURL":"https://pedacinhos-de-amor.firebaseio.com","storageBucket":"pedacinhos-de-amor.appspot.com","projectId":"pedacinhos-de-amor"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] initializeApp(DEFAULT) {\"databaseURL\":\"https://pedacinhos-de-amor.firebaseio.com\",\"storageBucket\":\"pedacinhos-de-amor.appspot.com\",\"projectId\":\"pedacinhos-de-amor\"}"}}
[debug] [2020-12-17T10:32:13.956Z] [runtime-status] [15956] auth.setJwtVerificationEnabled(false) {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15956] auth.setJwtVerificationEnabled(false)"}}
[debug] [2020-12-17T10:32:13.961Z] [worker-~diagnostic~-0f3935d7-f2fa-4749-abf0-943441f1e699]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f3935d7-f2fa-4749-abf0-943441f1e699]: IDLE"}}
[debug] [2020-12-17T10:32:25.556Z] Dec 17, 2020 10:32:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:29.941Z] Dec 17, 2020 10:32:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:32:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:32:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:32:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:32:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:29.942Z] Dec 17, 2020 10:32:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 10:32:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 10:32:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:40.904Z] Dec 17, 2020 10:32:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:43.033Z] Dec 17, 2020 10:32:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:46.306Z] Dec 17, 2020 10:32:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:46.633Z] Dec 17, 2020 10:32:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:46.947Z] Dec 17, 2020 10:32:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:47.033Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:32:47.033Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:32:47.033Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:32:47.033Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-17T10:32:47.033Z] [worker-pool] Cleaned up workers for countBasketTotals: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for countBasketTotals: 1 --> 0"}}
[debug] [2020-12-17T10:32:47.042Z] [worker-pool] addWorker(countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(countBasketTotals)"}}
[debug] [2020-12-17T10:32:47.042Z] [worker-pool] Adding worker with key countBasketTotals, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key countBasketTotals, total=1"}}
[debug] [2020-12-17T10:32:47.042Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:32:47.042Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\15984 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\15984"}}
[debug] [2020-12-17T10:32:47.042Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY"}}
[debug] [2020-12-17T10:32:47.417Z] Dec 17, 2020 10:32:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:47.611Z] [runtime-status] [15984] Functions runtime initialized. {"cwd":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2020-12-17T10:32:47.613Z] [runtime-status] [15984] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Disabled runtime features: undefined"}}
[debug] [2020-12-17T10:32:47.618Z] [runtime-status] [15984] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:47.621Z] [runtime-status] [15984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:47.624Z] [runtime-status] [15984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:47.627Z] [runtime-status] [15984] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-17T10:32:47.628Z] [runtime-status] [15984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:47.698Z] [runtime-status] [15984] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-17T10:32:47.699Z] [runtime-status] [15984] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T10:32:47.699Z] [runtime-status] [15984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:47.701Z] [runtime-status] [15984] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:47.702Z] [runtime-status] [15984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:32:47.702Z] [runtime-status] [15984] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T10:32:47.706Z] [runtime-status] [15984] initializeApp(DEFAULT) {"databaseURL":"https://pedacinhos-de-amor.firebaseio.com","storageBucket":"pedacinhos-de-amor.appspot.com","projectId":"pedacinhos-de-amor"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] initializeApp(DEFAULT) {\"databaseURL\":\"https://pedacinhos-de-amor.firebaseio.com\",\"storageBucket\":\"pedacinhos-de-amor.appspot.com\",\"projectId\":\"pedacinhos-de-amor\"}"}}
[debug] [2020-12-17T10:32:47.774Z] [runtime-status] [15984] auth.setJwtVerificationEnabled(false) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] auth.setJwtVerificationEnabled(false)"}}
[debug] [2020-12-17T10:32:47.777Z] [runtime-status] [15984] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:32:47.778Z] [runtime-status] [15984] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:32:47.778Z] [runtime-status] [15984] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:32:47.779Z] [runtime-status] [15984] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"quantity":{"integerValue":"1"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.319306Z","updateTime":"2020-12-17T10:36:49.320418Z"},"updateMask":{}},"context":{"eventId":"d8e862df-477f-432a-bbbb-8049f067373a","timestamp":"2020-12-17T10:36:49.321Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"quantity\":{\"integerValue\":\"1\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.319306Z\",\"updateTime\":\"2020-12-17T10:36:49.320418Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"d8e862df-477f-432a-bbbb-8049f067373a\",\"timestamp\":\"2020-12-17T10:36:49.321Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:32:47.779Z] [runtime-status] [15984] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:32:47.780Z] [runtime-status] [15984] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"quantity":{"integerValue":"1"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"}},"createTime":"2020-12-17T10:36:49.319306Z","updateTime":"2020-12-17T10:36:49.320418Z"},"updateMask":{}},"context":{"eventId":"d8e862df-477f-432a-bbbb-8049f067373a","timestamp":"2020-12-17T10:36:49.321Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"quantity\":{\"integerValue\":\"1\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"}},\"createTime\":\"2020-12-17T10:36:49.319306Z\",\"updateTime\":\"2020-12-17T10:36:49.320418Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"d8e862df-477f-432a-bbbb-8049f067373a\",\"timestamp\":\"2020-12-17T10:36:49.321Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\"}}"}}
[debug] [2020-12-17T10:32:47.870Z] Dec 17, 2020 10:32:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:47 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:48.213Z] Dec 17, 2020 10:32:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[debug] [2020-12-17T10:32:48.527Z] Dec 17, 2020 10:32:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected HTTP/2 connection.\r\n"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } } {"user":" { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 1 } }"}}
[debug] [2020-12-17T10:32:48.587Z] [runtime-status] [15984] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:32:48.589Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE"}}
[debug] [2020-12-17T10:32:48.589Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:32:50.260Z] Dec 17, 2020 10:32:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:50.306Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:32:50.306Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:32:50.306Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:32:50.306Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:32:50.306Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\15984 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\15984"}}
[debug] [2020-12-17T10:32:50.306Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY"}}
[debug] [2020-12-17T10:32:50.308Z] [runtime-status] [15984] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:32:50.309Z] [runtime-status] [15984] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:32:50.309Z] [runtime-status] [15984] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:32:50.310Z] [runtime-status] [15984] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"},"quantity":{"integerValue":"1"}},"createTime":"2020-12-17T10:36:49.319410Z","updateTime":"2020-12-17T10:36:49.320535Z"},"updateMask":{}},"context":{"eventId":"3223d09e-31e1-48bb-8a3f-782517658887","timestamp":"2020-12-17T10:36:49.321Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"},\"quantity\":{\"integerValue\":\"1\"}},\"createTime\":\"2020-12-17T10:36:49.319410Z\",\"updateTime\":\"2020-12-17T10:36:49.320535Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"3223d09e-31e1-48bb-8a3f-782517658887\",\"timestamp\":\"2020-12-17T10:36:49.321Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:32:50.310Z] [runtime-status] [15984] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:32:50.310Z] [runtime-status] [15984] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.320Z"},"quantity":{"integerValue":"1"}},"createTime":"2020-12-17T10:36:49.319410Z","updateTime":"2020-12-17T10:36:49.320535Z"},"updateMask":{}},"context":{"eventId":"3223d09e-31e1-48bb-8a3f-782517658887","timestamp":"2020-12-17T10:36:49.321Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.320Z\"},\"quantity\":{\"integerValue\":\"1\"}},\"createTime\":\"2020-12-17T10:36:49.319410Z\",\"updateTime\":\"2020-12-17T10:36:49.320535Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"3223d09e-31e1-48bb-8a3f-782517658887\",\"timestamp\":\"2020-12-17T10:36:49.321Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 0 } } {"user":" { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 0 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalQuantity: 0 } }"}}
[debug] [2020-12-17T10:32:50.350Z] [runtime-status] [15984] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:32:50.352Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE"}}
[debug] [2020-12-17T10:32:50.352Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:32:50.649Z] Dec 17, 2020 10:32:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:32:50.979Z] Dec 17, 2020 10:32:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:32:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:33:06.861Z] Dec 17, 2020 10:33:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:33:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:33:21.937Z] Dec 17, 2020 10:33:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:33:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:33:22.310Z] Dec 17, 2020 10:33:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:33:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:33:26.277Z] Dec 17, 2020 10:33:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:33:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:33:51.358Z] Dec 17, 2020 10:33:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:33:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:33:52.315Z] Dec 17, 2020 10:33:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:33:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:22.650Z] Dec 17, 2020 10:34:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:22.899Z] Dec 17, 2020 10:34:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:22.909Z] Dec 17, 2020 10:34:22 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:22 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:34:50.391Z] Dec 17, 2020 10:34:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:50.826Z] Dec 17, 2020 10:34:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:50 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:53.154Z] Dec 17, 2020 10:34:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:53.481Z] Dec 17, 2020 10:34:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:53.886Z] Dec 17, 2020 10:34:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:57.089Z] Dec 17, 2020 10:34:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:57.414Z] Dec 17, 2020 10:34:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:57.740Z] Dec 17, 2020 10:34:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:57.800Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:34:57.800Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:34:57.800Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:34:57.800Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:34:57.801Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\15984 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\15984"}}
[debug] [2020-12-17T10:34:57.801Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY"}}
[debug] [2020-12-17T10:34:57.803Z] [runtime-status] [15984] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:34:57.806Z] [runtime-status] [15984] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:34:57.806Z] [runtime-status] [15984] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:34:57.806Z] [runtime-status] [15984] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.321Z"}},"createTime":"2020-12-17T10:36:49.321773Z","updateTime":"2020-12-17T10:36:49.321773Z"},"updateMask":{}},"context":{"eventId":"2baa5f16-52bc-40b4-a7f0-761394536e64","timestamp":"2020-12-17T10:36:49.321Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.321Z\"}},\"createTime\":\"2020-12-17T10:36:49.321773Z\",\"updateTime\":\"2020-12-17T10:36:49.321773Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"2baa5f16-52bc-40b4-a7f0-761394536e64\",\"timestamp\":\"2020-12-17T10:36:49.321Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:34:57.806Z] [runtime-status] [15984] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:34:57.807Z] [runtime-status] [15984] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.321Z"}},"createTime":"2020-12-17T10:36:49.321773Z","updateTime":"2020-12-17T10:36:49.321773Z"},"updateMask":{}},"context":{"eventId":"2baa5f16-52bc-40b4-a7f0-761394536e64","timestamp":"2020-12-17T10:36:49.321Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.321Z\"}},\"createTime\":\"2020-12-17T10:36:49.321773Z\",\"updateTime\":\"2020-12-17T10:36:49.321773Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"2baa5f16-52bc-40b4-a7f0-761394536e64\",\"timestamp\":\"2020-12-17T10:36:49.321Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 3.798561446297073, {"user":"    averageReview: 3.798561446297073,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 3.798561446297073,"}}
[info] >      totalComments: 94.37736414553208, {"user":"    totalComments: 94.37736414553208,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 94.37736414553208,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 6584.2385718533515, {"user":"    price: 6584.2385718533515,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 6584.2385718533515,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },"}}
[info] >      name: 'consectetur', {"user":"    name: 'consectetur',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'consectetur',"}}
[info] >      description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore', {"user":"    description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',"}}
[info] >      discount: 70766.22364740193, {"user":"    discount: 70766.22364740193,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 70766.22364740193,"}}
[info] >      id: '3gj4w3j5HAAonN4GDEXt', {"user":"    id: '3gj4w3j5HAAonN4GDEXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3gj4w3j5HAAonN4GDEXt',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 321000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 321000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 321000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 1 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 1 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 1 } }"}}
[debug] [2020-12-17T10:34:57.854Z] [runtime-status] [15984] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:34:57.855Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE"}}
[debug] [2020-12-17T10:34:57.855Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:34:59.343Z] Dec 17, 2020 10:34:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:34:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:34:59.452Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:34:59.452Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:34:59.452Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:34:59.452Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:34:59.453Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\15984 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\15984"}}
[debug] [2020-12-17T10:34:59.453Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY"}}
[debug] [2020-12-17T10:34:59.455Z] [runtime-status] [15984] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:34:59.456Z] [runtime-status] [15984] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:34:59.456Z] [runtime-status] [15984] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:34:59.456Z] [runtime-status] [15984] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.321Z"}},"createTime":"2020-12-17T10:36:49.321929Z","updateTime":"2020-12-17T10:36:49.321929Z"},"updateMask":{}},"context":{"eventId":"9851b437-08b9-4b23-861f-eb4d1503b1f3","timestamp":"2020-12-17T10:36:49.321Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.321Z\"}},\"createTime\":\"2020-12-17T10:36:49.321929Z\",\"updateTime\":\"2020-12-17T10:36:49.321929Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"9851b437-08b9-4b23-861f-eb4d1503b1f3\",\"timestamp\":\"2020-12-17T10:36:49.321Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:34:59.457Z] [runtime-status] [15984] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:34:59.457Z] [runtime-status] [15984] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.321Z"}},"createTime":"2020-12-17T10:36:49.321929Z","updateTime":"2020-12-17T10:36:49.321929Z"},"updateMask":{}},"context":{"eventId":"9851b437-08b9-4b23-861f-eb4d1503b1f3","timestamp":"2020-12-17T10:36:49.321Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.321Z\"}},\"createTime\":\"2020-12-17T10:36:49.321929Z\",\"updateTime\":\"2020-12-17T10:36:49.321929Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"9851b437-08b9-4b23-861f-eb4d1503b1f3\",\"timestamp\":\"2020-12-17T10:36:49.321Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 321000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 321000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 321000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 2 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 2 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 2 } }"}}
[debug] [2020-12-17T10:34:59.510Z] [runtime-status] [15984] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:34:59.511Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE"}}
[debug] [2020-12-17T10:34:59.512Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:35:00.436Z] Dec 17, 2020 10:35:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:35:00.509Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:35:00.509Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:35:00.509Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:35:00.510Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:35:00.510Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\15984 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\15984"}}
[debug] [2020-12-17T10:35:00.510Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY"}}
[debug] [2020-12-17T10:35:00.514Z] [runtime-status] [15984] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:35:00.518Z] [runtime-status] [15984] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:35:00.519Z] [runtime-status] [15984] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:35:00.519Z] [runtime-status] [15984] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.322Z"}},"createTime":"2020-12-17T10:36:49.322085Z","updateTime":"2020-12-17T10:36:49.322085Z"},"updateMask":{}},"context":{"eventId":"ade02ce7-34f7-4737-96e0-590ea7b37ef1","timestamp":"2020-12-17T10:36:49.322Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.322Z\"}},\"createTime\":\"2020-12-17T10:36:49.322085Z\",\"updateTime\":\"2020-12-17T10:36:49.322085Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"ade02ce7-34f7-4737-96e0-590ea7b37ef1\",\"timestamp\":\"2020-12-17T10:36:49.322Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:35:00.519Z] [runtime-status] [15984] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:35:00.520Z] [runtime-status] [15984] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.322Z"}},"createTime":"2020-12-17T10:36:49.322085Z","updateTime":"2020-12-17T10:36:49.322085Z"},"updateMask":{}},"context":{"eventId":"ade02ce7-34f7-4737-96e0-590ea7b37ef1","timestamp":"2020-12-17T10:36:49.322Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.322Z\"}},\"createTime\":\"2020-12-17T10:36:49.322085Z\",\"updateTime\":\"2020-12-17T10:36:49.322085Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"ade02ce7-34f7-4737-96e0-590ea7b37ef1\",\"timestamp\":\"2020-12-17T10:36:49.322Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.331411451519492, {"user":"    averageReview: 1.331411451519492,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.331411451519492,"}}
[info] >      totalComments: 31.115676382190905, {"user":"    totalComments: 31.115676382190905,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 31.115676382190905,"}}
[info] >      color: '#176ba3', {"user":"    color: '#176ba3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#176ba3',"}}
[info] >      price: 28482.09476404109, {"user":"    price: 28482.09476404109,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 28482.09476404109,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 },"}}
[info] >      name: 'non proident ,', {"user":"    name: 'non proident ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'non proident ,',"}}
[info] >      description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud', {"user":"    description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud',"}}
[info] >      discount: 88289.66225962341, {"user":"    discount: 88289.66225962341,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 88289.66225962341,"}}
[info] >      id: '4HdGBrTO9w9jZ3Y6gS4Y', {"user":"    id: '4HdGBrTO9w9jZ3Y6gS4Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '4HdGBrTO9w9jZ3Y6gS4Y',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 322000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 322000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 322000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 3 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 3 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 3 } }"}}
[debug] [2020-12-17T10:35:00.568Z] [runtime-status] [15984] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:35:00.572Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE"}}
[debug] [2020-12-17T10:35:00.573Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:35:04.223Z] Dec 17, 2020 10:35:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:35:23.383Z] Dec 17, 2020 10:35:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:35:23.584Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:35:23.585Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:35:23.585Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:35:23.585Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:35:23.585Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\15984 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\15984"}}
[debug] [2020-12-17T10:35:23.585Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY"}}
[debug] [2020-12-17T10:35:23.588Z] [runtime-status] [15984] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:35:23.596Z] [runtime-status] [15984] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:35:23.596Z] [runtime-status] [15984] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:35:23.596Z] [runtime-status] [15984] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.322Z"}},"createTime":"2020-12-17T10:36:49.321773Z","updateTime":"2020-12-17T10:36:49.322243Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.321Z"}},"createTime":"2020-12-17T10:36:49.321773Z","updateTime":"2020-12-17T10:36:49.321773Z"},"updateMask":{}},"context":{"eventId":"9dd1a84e-d3fe-4fb0-854b-3b766ed06db7","timestamp":"2020-12-17T10:36:49.322Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.322Z\"}},\"createTime\":\"2020-12-17T10:36:49.321773Z\",\"updateTime\":\"2020-12-17T10:36:49.322243Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.321Z\"}},\"createTime\":\"2020-12-17T10:36:49.321773Z\",\"updateTime\":\"2020-12-17T10:36:49.321773Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"9dd1a84e-d3fe-4fb0-854b-3b766ed06db7\",\"timestamp\":\"2020-12-17T10:36:49.322Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:35:23.597Z] [runtime-status] [15984] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:35:23.597Z] [runtime-status] [15984] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.322Z"}},"createTime":"2020-12-17T10:36:49.321773Z","updateTime":"2020-12-17T10:36:49.322243Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.321Z"}},"createTime":"2020-12-17T10:36:49.321773Z","updateTime":"2020-12-17T10:36:49.321773Z"},"updateMask":{}},"context":{"eventId":"9dd1a84e-d3fe-4fb0-854b-3b766ed06db7","timestamp":"2020-12-17T10:36:49.322Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.322Z\"}},\"createTime\":\"2020-12-17T10:36:49.321773Z\",\"updateTime\":\"2020-12-17T10:36:49.322243Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.321Z\"}},\"createTime\":\"2020-12-17T10:36:49.321773Z\",\"updateTime\":\"2020-12-17T10:36:49.321773Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"9dd1a84e-d3fe-4fb0-854b-3b766ed06db7\",\"timestamp\":\"2020-12-17T10:36:49.322Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 3.798561446297073, {"user":"    averageReview: 3.798561446297073,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 3.798561446297073,"}}
[info] >      totalComments: 94.37736414553208, {"user":"    totalComments: 94.37736414553208,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 94.37736414553208,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 6584.2385718533515, {"user":"    price: 6584.2385718533515,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 6584.2385718533515,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },"}}
[info] >      name: 'consectetur', {"user":"    name: 'consectetur',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'consectetur',"}}
[info] >      description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore', {"user":"    description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',"}}
[info] >      discount: 70766.22364740193, {"user":"    discount: 70766.22364740193,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 70766.22364740193,"}}
[info] >      id: '3gj4w3j5HAAonN4GDEXt', {"user":"    id: '3gj4w3j5HAAonN4GDEXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3gj4w3j5HAAonN4GDEXt',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 3, {"user":"  quantity: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 3,"}}
[info] >    id: '3gj4w3j5HAAonN4GDEXt', {"user":"  id: '3gj4w3j5HAAonN4GDEXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '3gj4w3j5HAAonN4GDEXt',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 322000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 322000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 322000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:35:23.641Z] [runtime-status] [15984] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:35:23.642Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE"}}
[debug] [2020-12-17T10:35:23.643Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 5 } } {"user":" { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 5 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 5 } }"}}
[debug] [2020-12-17T10:35:23.947Z] Dec 17, 2020 10:35:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:35:53.985Z] Dec 17, 2020 10:35:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:35:53.994Z] Dec 17, 2020 10:35:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:35:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:04.302Z] Dec 17, 2020 10:36:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:04.390Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:36:04.390Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:36:04.390Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:36:04.390Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:36:04.390Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\15984 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\15984"}}
[debug] [2020-12-17T10:36:04.390Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY"}}
[debug] [2020-12-17T10:36:04.393Z] [runtime-status] [15984] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:36:04.394Z] [runtime-status] [15984] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:36:04.395Z] [runtime-status] [15984] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:36:04.396Z] [runtime-status] [15984] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.322Z"}},"createTime":"2020-12-17T10:36:49.321929Z","updateTime":"2020-12-17T10:36:49.322404Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.321Z"}},"createTime":"2020-12-17T10:36:49.321929Z","updateTime":"2020-12-17T10:36:49.321929Z"},"updateMask":{}},"context":{"eventId":"dda9508a-42e9-48b6-aae2-966414eeef49","timestamp":"2020-12-17T10:36:49.322Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.322Z\"}},\"createTime\":\"2020-12-17T10:36:49.321929Z\",\"updateTime\":\"2020-12-17T10:36:49.322404Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.321Z\"}},\"createTime\":\"2020-12-17T10:36:49.321929Z\",\"updateTime\":\"2020-12-17T10:36:49.321929Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"dda9508a-42e9-48b6-aae2-966414eeef49\",\"timestamp\":\"2020-12-17T10:36:49.322Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:36:04.396Z] [runtime-status] [15984] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:36:04.396Z] [runtime-status] [15984] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.322Z"}},"createTime":"2020-12-17T10:36:49.321929Z","updateTime":"2020-12-17T10:36:49.322404Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.321Z"}},"createTime":"2020-12-17T10:36:49.321929Z","updateTime":"2020-12-17T10:36:49.321929Z"},"updateMask":{}},"context":{"eventId":"dda9508a-42e9-48b6-aae2-966414eeef49","timestamp":"2020-12-17T10:36:49.322Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.322Z\"}},\"createTime\":\"2020-12-17T10:36:49.321929Z\",\"updateTime\":\"2020-12-17T10:36:49.322404Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.321Z\"}},\"createTime\":\"2020-12-17T10:36:49.321929Z\",\"updateTime\":\"2020-12-17T10:36:49.321929Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"dda9508a-42e9-48b6-aae2-966414eeef49\",\"timestamp\":\"2020-12-17T10:36:49.322Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 4, {"user":"  quantity: 4,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 4,"}}
[info] >    id: '3lDPbgPVglBzGBLdgutC', {"user":"  id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 322000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 322000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201409, _nanoseconds: 322000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:36:04.440Z] [runtime-status] [15984] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:36:04.442Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE"}}
[debug] [2020-12-17T10:36:04.443Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 8 } } {"user":" { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 8 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 8 } }"}}
[debug] [2020-12-17T10:36:26.441Z] Dec 17, 2020 10:36:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:26.782Z] Dec 17, 2020 10:36:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:27.103Z] Dec 17, 2020 10:36:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:27.162Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:36:27.163Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:36:27.163Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:36:27.163Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:36:27.164Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\15984 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\15984"}}
[debug] [2020-12-17T10:36:27.164Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY"}}
[debug] [2020-12-17T10:36:27.171Z] [runtime-status] [15984] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:36:27.172Z] [runtime-status] [15984] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:36:27.172Z] [runtime-status] [15984] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:36:27.172Z] [runtime-status] [15984] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.322Z"}},"createTime":"2020-12-17T10:36:49.321773Z","updateTime":"2020-12-17T10:36:49.322243Z"},"updateMask":{}},"context":{"eventId":"c9da8469-2609-437f-9fea-0ea03fb1e06d","timestamp":"2020-12-17T10:36:49.322Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.322Z\"}},\"createTime\":\"2020-12-17T10:36:49.321773Z\",\"updateTime\":\"2020-12-17T10:36:49.322243Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"c9da8469-2609-437f-9fea-0ea03fb1e06d\",\"timestamp\":\"2020-12-17T10:36:49.322Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:36:27.173Z] [runtime-status] [15984] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:36:27.173Z] [runtime-status] [15984] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.322Z"}},"createTime":"2020-12-17T10:36:49.321773Z","updateTime":"2020-12-17T10:36:49.322243Z"},"updateMask":{}},"context":{"eventId":"c9da8469-2609-437f-9fea-0ea03fb1e06d","timestamp":"2020-12-17T10:36:49.322Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.322Z\"}},\"createTime\":\"2020-12-17T10:36:49.321773Z\",\"updateTime\":\"2020-12-17T10:36:49.322243Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"c9da8469-2609-437f-9fea-0ea03fb1e06d\",\"timestamp\":\"2020-12-17T10:36:49.322Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -3 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 5 } } {"user":" { quantityIncrement: -3 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 5 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -3 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 5 } }"}}
[debug] [2020-12-17T10:36:27.195Z] [runtime-status] [15984] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:36:27.196Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE"}}
[debug] [2020-12-17T10:36:27.196Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:36:27.442Z] Dec 17, 2020 10:36:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:27.567Z] Dec 17, 2020 10:36:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:28.003Z] Dec 17, 2020 10:36:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:30.536Z] Dec 17, 2020 10:36:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:30.612Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:36:30.612Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:36:30.612Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:36:30.612Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:36:30.613Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\15984 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\15984"}}
[debug] [2020-12-17T10:36:30.613Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY"}}
[debug] [2020-12-17T10:36:30.619Z] [runtime-status] [15984] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:36:30.620Z] [runtime-status] [15984] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:36:30.621Z] [runtime-status] [15984] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:36:30.621Z] [runtime-status] [15984] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.322Z"}},"createTime":"2020-12-17T10:36:49.321929Z","updateTime":"2020-12-17T10:36:49.322404Z"},"updateMask":{}},"context":{"eventId":"977f58c6-c3da-4e5e-ba6b-6732d6314c97","timestamp":"2020-12-17T10:36:49.322Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.322Z\"}},\"createTime\":\"2020-12-17T10:36:49.321929Z\",\"updateTime\":\"2020-12-17T10:36:49.322404Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"977f58c6-c3da-4e5e-ba6b-6732d6314c97\",\"timestamp\":\"2020-12-17T10:36:49.322Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:36:30.621Z] [runtime-status] [15984] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:36:30.621Z] [runtime-status] [15984] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.322Z"}},"createTime":"2020-12-17T10:36:49.321929Z","updateTime":"2020-12-17T10:36:49.322404Z"},"updateMask":{}},"context":{"eventId":"977f58c6-c3da-4e5e-ba6b-6732d6314c97","timestamp":"2020-12-17T10:36:49.322Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.322Z\"}},\"createTime\":\"2020-12-17T10:36:49.321929Z\",\"updateTime\":\"2020-12-17T10:36:49.322404Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"977f58c6-c3da-4e5e-ba6b-6732d6314c97\",\"timestamp\":\"2020-12-17T10:36:49.322Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -4 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 1 } } {"user":" { quantityIncrement: -4 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 1 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -4 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 1 } }"}}
[debug] [2020-12-17T10:36:30.651Z] [runtime-status] [15984] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:36:30.652Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE"}}
[debug] [2020-12-17T10:36:30.652Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:36:30.959Z] Dec 17, 2020 10:36:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:31.275Z] Dec 17, 2020 10:36:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:31.305Z] Dec 17, 2020 10:36:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:34.449Z] Dec 17, 2020 10:36:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:34.485Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:36:34.486Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:36:34.486Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:36:34.486Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:36:34.486Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\15984 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\15984"}}
[debug] [2020-12-17T10:36:34.486Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: BUSY"}}
[debug] [2020-12-17T10:36:34.490Z] [runtime-status] [15984] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:36:34.491Z] [runtime-status] [15984] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:36:34.492Z] [runtime-status] [15984] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:36:34.492Z] [runtime-status] [15984] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.322Z"}},"createTime":"2020-12-17T10:36:49.322085Z","updateTime":"2020-12-17T10:36:49.322085Z"},"updateMask":{}},"context":{"eventId":"bb1cd7c7-f008-45d1-b942-506c3b576420","timestamp":"2020-12-17T10:36:49.322Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.322Z\"}},\"createTime\":\"2020-12-17T10:36:49.322085Z\",\"updateTime\":\"2020-12-17T10:36:49.322085Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"bb1cd7c7-f008-45d1-b942-506c3b576420\",\"timestamp\":\"2020-12-17T10:36:49.322Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:36:34.493Z] [runtime-status] [15984] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:36:34.493Z] [runtime-status] [15984] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:36:49.322Z"}},"createTime":"2020-12-17T10:36:49.322085Z","updateTime":"2020-12-17T10:36:49.322085Z"},"updateMask":{}},"context":{"eventId":"bb1cd7c7-f008-45d1-b942-506c3b576420","timestamp":"2020-12-17T10:36:49.322Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:36:49.322Z\"}},\"createTime\":\"2020-12-17T10:36:49.322085Z\",\"updateTime\":\"2020-12-17T10:36:49.322085Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"bb1cd7c7-f008-45d1-b942-506c3b576420\",\"timestamp\":\"2020-12-17T10:36:49.322Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 0 } } {"user":" { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 0 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -1 } { currentBasket: { totalPrice: 0, totalItems: 0, totalQuantity: 0 } }"}}
[debug] [2020-12-17T10:36:34.518Z] [runtime-status] [15984] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [15984] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:36:34.519Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: IDLE"}}
[debug] [2020-12-17T10:36:34.519Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:36:34.839Z] Dec 17, 2020 10:36:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:35.165Z] Dec 17, 2020 10:36:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:35 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:39.145Z] Dec 17, 2020 10:36:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:36:39.519Z] Dec 17, 2020 10:36:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:36:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:04.787Z] Dec 17, 2020 10:37:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:04.793Z] Dec 17, 2020 10:37:04 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:04 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:37:09.417Z] File C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\lib\index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\lib\\index.js.map changed, reloading triggers"}}
[debug] [2020-12-17T10:37:09.421Z] File C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\lib\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\lib\\index.js changed, reloading triggers"}}
[debug] [2020-12-17T10:37:10.423Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-17T10:37:10.423Z] [worker-~diagnostic~-0f3935d7-f2fa-4749-abf0-943441f1e699]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f3935d7-f2fa-4749-abf0-943441f1e699]: FINISHING"}}
[debug] [2020-12-17T10:37:10.423Z] [worker-pool] Shutting down IDLE worker (countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (countBasketTotals)"}}
[debug] [2020-12-17T10:37:10.423Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: FINISHING"}}
[debug] [2020-12-17T10:37:10.429Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-17T10:37:10.429Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-17T10:37:10.429Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-17T10:37:10.430Z] [worker-~diagnostic~-40680d6e-0b89-4794-861b-ee3ada3d8621]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\16028 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-40680d6e-0b89-4794-861b-ee3ada3d8621]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\16028"}}
[debug] [2020-12-17T10:37:10.430Z] [worker-~diagnostic~-40680d6e-0b89-4794-861b-ee3ada3d8621]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-40680d6e-0b89-4794-861b-ee3ada3d8621]: BUSY"}}
[debug] [2020-12-17T10:37:10.430Z] Dec 17, 2020 10:37:10 AM io.netty.channel.DefaultChannelPipeline onUnhandledInboundException
WARNING: An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.io.IOException: An existing connection was forcibly closed by the remote host
	at sun.nio.ch.SocketDispatcher.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(Unknown Source)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(Unknown Source)
	at sun.nio.ch.IOUtil.read(Unknown Source)
	at sun.nio.ch.SocketChannelImpl.read(Unknown Source)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Unknown Source)

 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:10 AM io.netty.channel.DefaultChannelPipeline onUnhandledInboundException\r\nWARNING: An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.\r\njava.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n\tat sun.nio.ch.SocketDispatcher.read(Unknown Source)\r\n\tat sun.nio.ch.IOUtil.readIntoNativeBuffer(Unknown Source)\r\n\tat sun.nio.ch.IOUtil.read(Unknown Source)\r\n\tat sun.nio.ch.SocketChannelImpl.read(Unknown Source)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\n"}}
[debug] [2020-12-17T10:37:10.431Z] [worker-~diagnostic~-0f3935d7-f2fa-4749-abf0-943441f1e699]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f3935d7-f2fa-4749-abf0-943441f1e699]: exited"}}
[debug] [2020-12-17T10:37:10.431Z] [worker-~diagnostic~-0f3935d7-f2fa-4749-abf0-943441f1e699]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0f3935d7-f2fa-4749-abf0-943441f1e699]: FINISHED"}}
[debug] [2020-12-17T10:37:10.439Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: exited"}}
[debug] [2020-12-17T10:37:10.439Z] [worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-a9bd15dd-10c8-43d3-ac6d-6440ff22f195]: FINISHED"}}
[debug] [2020-12-17T10:37:10.738Z] [runtime-status] [16028] Functions runtime initialized. {"cwd":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2020-12-17T10:37:10.739Z] [runtime-status] [16028] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] Disabled runtime features: undefined"}}
[debug] [2020-12-17T10:37:10.743Z] [runtime-status] [16028] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:10.745Z] [runtime-status] [16028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:10.746Z] [runtime-status] [16028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:10.748Z] [runtime-status] [16028] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-17T10:37:10.749Z] [runtime-status] [16028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:10.839Z] [runtime-status] [16028] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-17T10:37:10.840Z] [runtime-status] [16028] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T10:37:10.840Z] [runtime-status] [16028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:10.842Z] [runtime-status] [16028] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:10.843Z] [runtime-status] [16028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:10.844Z] [runtime-status] [16028] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T10:37:10.849Z] [runtime-status] [16028] initializeApp(DEFAULT) {"databaseURL":"https://pedacinhos-de-amor.firebaseio.com","storageBucket":"pedacinhos-de-amor.appspot.com","projectId":"pedacinhos-de-amor"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] initializeApp(DEFAULT) {\"databaseURL\":\"https://pedacinhos-de-amor.firebaseio.com\",\"storageBucket\":\"pedacinhos-de-amor.appspot.com\",\"projectId\":\"pedacinhos-de-amor\"}"}}
[debug] [2020-12-17T10:37:10.947Z] [runtime-status] [16028] auth.setJwtVerificationEnabled(false) {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [16028] auth.setJwtVerificationEnabled(false)"}}
[debug] [2020-12-17T10:37:10.953Z] [worker-~diagnostic~-40680d6e-0b89-4794-861b-ee3ada3d8621]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-40680d6e-0b89-4794-861b-ee3ada3d8621]: IDLE"}}
[debug] [2020-12-17T10:37:39.189Z] Dec 17, 2020 10:37:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:39.495Z] Dec 17, 2020 10:37:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:39.882Z] Dec 17, 2020 10:37:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:39.898Z] Dec 17, 2020 10:37:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:39.906Z] Dec 17, 2020 10:37:39 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:39 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:37:45.957Z] Dec 17, 2020 10:37:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:46.373Z] Dec 17, 2020 10:37:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:46 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:48.911Z] Dec 17, 2020 10:37:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:48 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:49.239Z] Dec 17, 2020 10:37:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:49.629Z] Dec 17, 2020 10:37:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:49 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:53.504Z] Dec 17, 2020 10:37:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:53.830Z] Dec 17, 2020 10:37:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:54.156Z] Dec 17, 2020 10:37:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:54 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:54.188Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:37:54.188Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:37:54.189Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:37:54.189Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-17T10:37:54.189Z] [worker-pool] Cleaned up workers for countBasketTotals: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for countBasketTotals: 1 --> 0"}}
[debug] [2020-12-17T10:37:54.195Z] [worker-pool] addWorker(countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(countBasketTotals)"}}
[debug] [2020-12-17T10:37:54.195Z] [worker-pool] Adding worker with key countBasketTotals, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key countBasketTotals, total=1"}}
[debug] [2020-12-17T10:37:54.195Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:37:54.195Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T10:37:54.195Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T10:37:54.443Z] [runtime-status] [8072] Functions runtime initialized. {"cwd":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2020-12-17T10:37:54.444Z] [runtime-status] [8072] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Disabled runtime features: undefined"}}
[debug] [2020-12-17T10:37:54.448Z] [runtime-status] [8072] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:54.450Z] [runtime-status] [8072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:54.452Z] [runtime-status] [8072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:54.454Z] [runtime-status] [8072] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-17T10:37:54.454Z] [runtime-status] [8072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:54.505Z] [runtime-status] [8072] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-17T10:37:54.506Z] [runtime-status] [8072] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T10:37:54.506Z] [runtime-status] [8072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:54.507Z] [runtime-status] [8072] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:54.508Z] [runtime-status] [8072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2020-12-17T10:37:54.508Z] [runtime-status] [8072] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"C:\\\\Users\\\\joset\\\\Documents\\\\work\\\\web_dev\\\\pda\\\\pedacinhos-de-amor\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2020-12-17T10:37:54.511Z] [runtime-status] [8072] initializeApp(DEFAULT) {"databaseURL":"https://pedacinhos-de-amor.firebaseio.com","storageBucket":"pedacinhos-de-amor.appspot.com","projectId":"pedacinhos-de-amor"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] initializeApp(DEFAULT) {\"databaseURL\":\"https://pedacinhos-de-amor.firebaseio.com\",\"storageBucket\":\"pedacinhos-de-amor.appspot.com\",\"projectId\":\"pedacinhos-de-amor\"}"}}
[debug] [2020-12-17T10:37:54.565Z] [runtime-status] [8072] auth.setJwtVerificationEnabled(false) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] auth.setJwtVerificationEnabled(false)"}}
[debug] [2020-12-17T10:37:54.567Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:37:54.568Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:37:54.569Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:37:54.569Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:37:54.159Z"}},"createTime":"2020-12-17T10:37:54.161001Z","updateTime":"2020-12-17T10:37:54.161001Z"},"updateMask":{}},"context":{"eventId":"f3d0bdbd-fda1-46da-9a97-addb5e38f98b","timestamp":"2020-12-17T10:37:54.161Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:37:54.159Z\"}},\"createTime\":\"2020-12-17T10:37:54.161001Z\",\"updateTime\":\"2020-12-17T10:37:54.161001Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"f3d0bdbd-fda1-46da-9a97-addb5e38f98b\",\"timestamp\":\"2020-12-17T10:37:54.161Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:37:54.570Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:37:54.570Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:37:54.159Z"}},"createTime":"2020-12-17T10:37:54.161001Z","updateTime":"2020-12-17T10:37:54.161001Z"},"updateMask":{}},"context":{"eventId":"f3d0bdbd-fda1-46da-9a97-addb5e38f98b","timestamp":"2020-12-17T10:37:54.161Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:37:54.159Z\"}},\"createTime\":\"2020-12-17T10:37:54.161001Z\",\"updateTime\":\"2020-12-17T10:37:54.161001Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"f3d0bdbd-fda1-46da-9a97-addb5e38f98b\",\"timestamp\":\"2020-12-17T10:37:54.161Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 3.798561446297073, {"user":"    averageReview: 3.798561446297073,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 3.798561446297073,"}}
[info] >      totalComments: 94.37736414553208, {"user":"    totalComments: 94.37736414553208,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 94.37736414553208,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 6584.2385718533515, {"user":"    price: 6584.2385718533515,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 6584.2385718533515,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },"}}
[info] >      name: 'consectetur', {"user":"    name: 'consectetur',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'consectetur',"}}
[info] >      description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore', {"user":"    description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',"}}
[info] >      discount: 70766.22364740193, {"user":"    discount: 70766.22364740193,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 70766.22364740193,"}}
[info] >      id: '3gj4w3j5HAAonN4GDEXt', {"user":"    id: '3gj4w3j5HAAonN4GDEXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3gj4w3j5HAAonN4GDEXt',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201474, _nanoseconds: 159000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201474, _nanoseconds: 159000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201474, _nanoseconds: 159000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:37:55.545Z] Dec 17, 2020 10:37:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected HTTP/2 connection.\r\n"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 1 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 1 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 1 } }"}}
[debug] [2020-12-17T10:37:55.619Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:37:55.621Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T10:37:55.621Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:37:57.220Z] Dec 17, 2020 10:37:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:37:57 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:37:57.283Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:37:57.283Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:37:57.283Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:37:57.283Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:37:57.283Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T10:37:57.283Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T10:37:57.286Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:37:57.288Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:37:57.288Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:37:57.289Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:37:57.226Z"}},"createTime":"2020-12-17T10:37:57.228003Z","updateTime":"2020-12-17T10:37:57.228003Z"},"updateMask":{}},"context":{"eventId":"efaf2f5b-9be0-4816-8d58-bb109912fddc","timestamp":"2020-12-17T10:37:57.228Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:37:57.226Z\"}},\"createTime\":\"2020-12-17T10:37:57.228003Z\",\"updateTime\":\"2020-12-17T10:37:57.228003Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"efaf2f5b-9be0-4816-8d58-bb109912fddc\",\"timestamp\":\"2020-12-17T10:37:57.228Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:37:57.289Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:37:57.289Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:37:57.226Z"}},"createTime":"2020-12-17T10:37:57.228003Z","updateTime":"2020-12-17T10:37:57.228003Z"},"updateMask":{}},"context":{"eventId":"efaf2f5b-9be0-4816-8d58-bb109912fddc","timestamp":"2020-12-17T10:37:57.228Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:37:57.226Z\"}},\"createTime\":\"2020-12-17T10:37:57.228003Z\",\"updateTime\":\"2020-12-17T10:37:57.228003Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"efaf2f5b-9be0-4816-8d58-bb109912fddc\",\"timestamp\":\"2020-12-17T10:37:57.228Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201477, _nanoseconds: 226000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201477, _nanoseconds: 226000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201477, _nanoseconds: 226000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 2 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 2 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 2 } }"}}
[debug] [2020-12-17T10:37:57.333Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:37:57.335Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T10:37:57.339Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:38:01.886Z] Dec 17, 2020 10:38:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:01.955Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:38:01.956Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:38:01.956Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:38:01.956Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:38:01.956Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T10:38:01.956Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T10:38:01.959Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:38:01.961Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:38:01.961Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:38:01.961Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:38:01.890Z"}},"createTime":"2020-12-17T10:38:01.894Z","updateTime":"2020-12-17T10:38:01.894Z"},"updateMask":{}},"context":{"eventId":"c87ec82a-c884-4bde-a44b-594059e03989","timestamp":"2020-12-17T10:38:01.894Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:01.890Z\"}},\"createTime\":\"2020-12-17T10:38:01.894Z\",\"updateTime\":\"2020-12-17T10:38:01.894Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"c87ec82a-c884-4bde-a44b-594059e03989\",\"timestamp\":\"2020-12-17T10:38:01.894Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:38:01.961Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:38:01.961Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:38:01.890Z"}},"createTime":"2020-12-17T10:38:01.894Z","updateTime":"2020-12-17T10:38:01.894Z"},"updateMask":{}},"context":{"eventId":"c87ec82a-c884-4bde-a44b-594059e03989","timestamp":"2020-12-17T10:38:01.894Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:01.890Z\"}},\"createTime\":\"2020-12-17T10:38:01.894Z\",\"updateTime\":\"2020-12-17T10:38:01.894Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"c87ec82a-c884-4bde-a44b-594059e03989\",\"timestamp\":\"2020-12-17T10:38:01.894Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.1828492776300625, {"user":"    averageReview: 1.1828492776300625,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.1828492776300625,"}}
[info] >      totalComments: 92.97544818144453, {"user":"    totalComments: 92.97544818144453,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 92.97544818144453,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 23139.343024570146, {"user":"    price: 23139.343024570146,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 23139.343024570146,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 623000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 623000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 623000000 },"}}
[info] >      name: 'est , consectetur', {"user":"    name: 'est , consectetur',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'est , consectetur',"}}
[info] >      description: 'velit elit non Ad , Lorem proident deserunt', {"user":"    description: 'velit elit non Ad , Lorem proident deserunt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'velit elit non Ad , Lorem proident deserunt',"}}
[info] >      discount: 38486.753409351295, {"user":"    discount: 38486.753409351295,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 38486.753409351295,"}}
[info] >      id: 'A8x6uPcL7MFUUgdfoPH4', {"user":"    id: 'A8x6uPcL7MFUUgdfoPH4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'A8x6uPcL7MFUUgdfoPH4',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201481, _nanoseconds: 890000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201481, _nanoseconds: 890000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201481, _nanoseconds: 890000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 3 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 3 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 3 } }"}}
[debug] [2020-12-17T10:38:02.007Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:38:02.008Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T10:38:02.009Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:38:04.155Z] Dec 17, 2020 10:38:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:04.210Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:38:04.210Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:38:04.216Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:38:04.216Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:38:04.216Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T10:38:04.216Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T10:38:04.219Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:38:04.220Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:38:04.221Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:38:04.223Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:38:04.161Z"}},"createTime":"2020-12-17T10:38:04.167Z","updateTime":"2020-12-17T10:38:04.167Z"},"updateMask":{}},"context":{"eventId":"a915f78e-53d6-415f-a25b-be399922a7dc","timestamp":"2020-12-17T10:38:04.167Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:04.161Z\"}},\"createTime\":\"2020-12-17T10:38:04.167Z\",\"updateTime\":\"2020-12-17T10:38:04.167Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"a915f78e-53d6-415f-a25b-be399922a7dc\",\"timestamp\":\"2020-12-17T10:38:04.167Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:38:04.223Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:38:04.223Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:38:04.161Z"}},"createTime":"2020-12-17T10:38:04.167Z","updateTime":"2020-12-17T10:38:04.167Z"},"updateMask":{}},"context":{"eventId":"a915f78e-53d6-415f-a25b-be399922a7dc","timestamp":"2020-12-17T10:38:04.167Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:04.161Z\"}},\"createTime\":\"2020-12-17T10:38:04.167Z\",\"updateTime\":\"2020-12-17T10:38:04.167Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"a915f78e-53d6-415f-a25b-be399922a7dc\",\"timestamp\":\"2020-12-17T10:38:04.167Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201484, _nanoseconds: 161000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201484, _nanoseconds: 161000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201484, _nanoseconds: 161000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 4 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 4 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 4 } }"}}
[debug] [2020-12-17T10:38:04.261Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:38:04.262Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T10:38:04.263Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:38:17.712Z] Dec 17, 2020 10:38:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:17 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:23.966Z] Dec 17, 2020 10:38:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:24.058Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:38:24.058Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:38:24.058Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:38:24.058Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:38:24.058Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T10:38:24.058Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T10:38:24.061Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:38:24.064Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:38:24.064Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:38:24.064Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"7"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"lastUpdate":{"timestampValue":"2020-12-17T10:38:23.974Z"}},"createTime":"2020-12-17T10:38:04.167Z","updateTime":"2020-12-17T10:38:23.978Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:38:04.161Z"}},"createTime":"2020-12-17T10:38:04.167Z","updateTime":"2020-12-17T10:38:04.167Z"},"updateMask":{}},"context":{"eventId":"eba430d2-1d0a-4169-ab54-f32a5bf3900a","timestamp":"2020-12-17T10:38:23.978Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"7\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:23.974Z\"}},\"createTime\":\"2020-12-17T10:38:04.167Z\",\"updateTime\":\"2020-12-17T10:38:23.978Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:04.161Z\"}},\"createTime\":\"2020-12-17T10:38:04.167Z\",\"updateTime\":\"2020-12-17T10:38:04.167Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"eba430d2-1d0a-4169-ab54-f32a5bf3900a\",\"timestamp\":\"2020-12-17T10:38:23.978Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:38:24.065Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:38:24.066Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"7"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"lastUpdate":{"timestampValue":"2020-12-17T10:38:23.974Z"}},"createTime":"2020-12-17T10:38:04.167Z","updateTime":"2020-12-17T10:38:23.978Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:38:04.161Z"}},"createTime":"2020-12-17T10:38:04.167Z","updateTime":"2020-12-17T10:38:04.167Z"},"updateMask":{}},"context":{"eventId":"eba430d2-1d0a-4169-ab54-f32a5bf3900a","timestamp":"2020-12-17T10:38:23.978Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"7\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:23.974Z\"}},\"createTime\":\"2020-12-17T10:38:04.167Z\",\"updateTime\":\"2020-12-17T10:38:23.978Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:04.161Z\"}},\"createTime\":\"2020-12-17T10:38:04.167Z\",\"updateTime\":\"2020-12-17T10:38:04.167Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"eba430d2-1d0a-4169-ab54-f32a5bf3900a\",\"timestamp\":\"2020-12-17T10:38:23.978Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 7, {"user":"  quantity: 7,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 7,"}}
[info] >    id: '2urzBawDSOxMX5xRYm0H', {"user":"  id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201503, _nanoseconds: 974000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201503, _nanoseconds: 974000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201503, _nanoseconds: 974000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:38:24.135Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:38:24.144Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T10:38:24.147Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 6 } { currentBasket: { totalPrice: 0, totalItems: 10 } } {"user":" { quantityIncrement: 6 } { currentBasket: { totalPrice: 0, totalItems: 10 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 6 } { currentBasket: { totalPrice: 0, totalItems: 10 } }"}}
[debug] [2020-12-17T10:38:31.875Z] Dec 17, 2020 10:38:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:31 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:31.962Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:38:31.962Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:38:31.962Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:38:31.962Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:38:31.962Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T10:38:31.962Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T10:38:31.965Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:38:31.974Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:38:31.974Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:38:31.975Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"lastUpdate":{"timestampValue":"2020-12-17T10:38:31.880Z"}},"createTime":"2020-12-17T10:38:01.894Z","updateTime":"2020-12-17T10:38:31.886Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:38:01.890Z"}},"createTime":"2020-12-17T10:38:01.894Z","updateTime":"2020-12-17T10:38:01.894Z"},"updateMask":{}},"context":{"eventId":"2fdbe3a2-cd76-4284-ae90-f41c93f631de","timestamp":"2020-12-17T10:38:31.886Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:31.880Z\"}},\"createTime\":\"2020-12-17T10:38:01.894Z\",\"updateTime\":\"2020-12-17T10:38:31.886Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:01.890Z\"}},\"createTime\":\"2020-12-17T10:38:01.894Z\",\"updateTime\":\"2020-12-17T10:38:01.894Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"2fdbe3a2-cd76-4284-ae90-f41c93f631de\",\"timestamp\":\"2020-12-17T10:38:31.886Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:38:31.975Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:38:31.975Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"lastUpdate":{"timestampValue":"2020-12-17T10:38:31.880Z"}},"createTime":"2020-12-17T10:38:01.894Z","updateTime":"2020-12-17T10:38:31.886Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:38:01.890Z"}},"createTime":"2020-12-17T10:38:01.894Z","updateTime":"2020-12-17T10:38:01.894Z"},"updateMask":{}},"context":{"eventId":"2fdbe3a2-cd76-4284-ae90-f41c93f631de","timestamp":"2020-12-17T10:38:31.886Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:31.880Z\"}},\"createTime\":\"2020-12-17T10:38:01.894Z\",\"updateTime\":\"2020-12-17T10:38:31.886Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:01.890Z\"}},\"createTime\":\"2020-12-17T10:38:01.894Z\",\"updateTime\":\"2020-12-17T10:38:01.894Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"2fdbe3a2-cd76-4284-ae90-f41c93f631de\",\"timestamp\":\"2020-12-17T10:38:31.886Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.1828492776300625, {"user":"    averageReview: 1.1828492776300625,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.1828492776300625,"}}
[info] >      totalComments: 92.97544818144453, {"user":"    totalComments: 92.97544818144453,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 92.97544818144453,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 23139.343024570146, {"user":"    price: 23139.343024570146,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 23139.343024570146,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 623000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 623000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 623000000 },"}}
[info] >      name: 'est , consectetur', {"user":"    name: 'est , consectetur',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'est , consectetur',"}}
[info] >      description: 'velit elit non Ad , Lorem proident deserunt', {"user":"    description: 'velit elit non Ad , Lorem proident deserunt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'velit elit non Ad , Lorem proident deserunt',"}}
[info] >      discount: 38486.753409351295, {"user":"    discount: 38486.753409351295,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 38486.753409351295,"}}
[info] >      id: 'A8x6uPcL7MFUUgdfoPH4', {"user":"    id: 'A8x6uPcL7MFUUgdfoPH4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'A8x6uPcL7MFUUgdfoPH4',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 3, {"user":"  quantity: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 3,"}}
[info] >    id: 'A8x6uPcL7MFUUgdfoPH4', {"user":"  id: 'A8x6uPcL7MFUUgdfoPH4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: 'A8x6uPcL7MFUUgdfoPH4',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201511, _nanoseconds: 880000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201511, _nanoseconds: 880000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201511, _nanoseconds: 880000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalItems: 12 } } {"user":" { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalItems: 12 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalItems: 12 } }"}}
[debug] [2020-12-17T10:38:32.019Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:38:32.020Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T10:38:32.021Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:38:32.327Z] Dec 17, 2020 10:38:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:32.374Z] Dec 17, 2020 10:38:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:44.336Z] Dec 17, 2020 10:38:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:44.430Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:38:44.430Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:38:44.430Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:38:44.430Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:38:44.430Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T10:38:44.430Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T10:38:44.434Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:38:44.436Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:38:44.436Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:38:44.437Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:38:44.343Z"}},"createTime":"2020-12-17T10:37:57.228003Z","updateTime":"2020-12-17T10:38:44.348Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:37:57.226Z"}},"createTime":"2020-12-17T10:37:57.228003Z","updateTime":"2020-12-17T10:37:57.228003Z"},"updateMask":{}},"context":{"eventId":"1e26d810-ccd2-4225-b1f3-20031be285ee","timestamp":"2020-12-17T10:38:44.348Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:44.343Z\"}},\"createTime\":\"2020-12-17T10:37:57.228003Z\",\"updateTime\":\"2020-12-17T10:38:44.348Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:37:57.226Z\"}},\"createTime\":\"2020-12-17T10:37:57.228003Z\",\"updateTime\":\"2020-12-17T10:37:57.228003Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"1e26d810-ccd2-4225-b1f3-20031be285ee\",\"timestamp\":\"2020-12-17T10:38:44.348Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:38:44.437Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:38:44.438Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:38:44.343Z"}},"createTime":"2020-12-17T10:37:57.228003Z","updateTime":"2020-12-17T10:38:44.348Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:37:57.226Z"}},"createTime":"2020-12-17T10:37:57.228003Z","updateTime":"2020-12-17T10:37:57.228003Z"},"updateMask":{}},"context":{"eventId":"1e26d810-ccd2-4225-b1f3-20031be285ee","timestamp":"2020-12-17T10:38:44.348Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:44.343Z\"}},\"createTime\":\"2020-12-17T10:37:57.228003Z\",\"updateTime\":\"2020-12-17T10:38:44.348Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:37:57.226Z\"}},\"createTime\":\"2020-12-17T10:37:57.228003Z\",\"updateTime\":\"2020-12-17T10:37:57.228003Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"1e26d810-ccd2-4225-b1f3-20031be285ee\",\"timestamp\":\"2020-12-17T10:38:44.348Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 4, {"user":"  quantity: 4,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 4,"}}
[info] >    id: '3lDPbgPVglBzGBLdgutC', {"user":"  id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201524, _nanoseconds: 343000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201524, _nanoseconds: 343000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201524, _nanoseconds: 343000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:38:44.492Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:38:44.497Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T10:38:44.498Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalItems: 15 } } {"user":" { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalItems: 15 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalItems: 15 } }"}}
[debug] [2020-12-17T10:38:44.837Z] Dec 17, 2020 10:38:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:55.891Z] Dec 17, 2020 10:38:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:55 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:55.961Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:38:55.961Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:38:55.961Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:38:55.961Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:38:55.961Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T10:38:55.962Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T10:38:55.967Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:38:55.968Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:38:55.968Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:38:55.969Z] [runtime-status] [8072] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"7"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"lastUpdate":{"timestampValue":"2020-12-17T10:38:23.974Z"}},"createTime":"2020-12-17T10:38:04.167Z","updateTime":"2020-12-17T10:38:23.978Z"},"updateMask":{}},"context":{"eventId":"86ca2c53-079f-46af-b266-9f819ddea165","timestamp":"2020-12-17T10:38:55.895Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"7\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:23.974Z\"}},\"createTime\":\"2020-12-17T10:38:04.167Z\",\"updateTime\":\"2020-12-17T10:38:23.978Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"86ca2c53-079f-46af-b266-9f819ddea165\",\"timestamp\":\"2020-12-17T10:38:55.895Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:38:55.969Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:38:55.969Z] [runtime-status] [8072] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"7"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"lastUpdate":{"timestampValue":"2020-12-17T10:38:23.974Z"}},"createTime":"2020-12-17T10:38:04.167Z","updateTime":"2020-12-17T10:38:23.978Z"},"updateMask":{}},"context":{"eventId":"86ca2c53-079f-46af-b266-9f819ddea165","timestamp":"2020-12-17T10:38:55.895Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"7\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:23.974Z\"}},\"createTime\":\"2020-12-17T10:38:04.167Z\",\"updateTime\":\"2020-12-17T10:38:23.978Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"86ca2c53-079f-46af-b266-9f819ddea165\",\"timestamp\":\"2020-12-17T10:38:55.895Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -7 } { currentBasket: { totalPrice: 0, totalItems: 8 } } {"user":" { quantityIncrement: -7 } { currentBasket: { totalPrice: 0, totalItems: 8 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -7 } { currentBasket: { totalPrice: 0, totalItems: 8 } }"}}
[debug] [2020-12-17T10:38:56.001Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:38:56.003Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T10:38:56.003Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:38:56.331Z] Dec 17, 2020 10:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:56.660Z] Dec 17, 2020 10:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:59.768Z] Dec 17, 2020 10:38:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:38:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:38:59.832Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:38:59.833Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:38:59.833Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:38:59.833Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:38:59.833Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T10:38:59.833Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T10:38:59.837Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:38:59.840Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:38:59.840Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:38:59.840Z] [runtime-status] [8072] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:38:44.343Z"}},"createTime":"2020-12-17T10:37:57.228003Z","updateTime":"2020-12-17T10:38:44.348Z"},"updateMask":{}},"context":{"eventId":"1dd00f58-6095-4527-888f-4ee8edd7f49f","timestamp":"2020-12-17T10:38:59.784Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:44.343Z\"}},\"createTime\":\"2020-12-17T10:37:57.228003Z\",\"updateTime\":\"2020-12-17T10:38:44.348Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"1dd00f58-6095-4527-888f-4ee8edd7f49f\",\"timestamp\":\"2020-12-17T10:38:59.784Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:38:59.841Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[debug] [2020-12-17T10:38:59.846Z] [runtime-status] [8072] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"lastUpdate":{"timestampValue":"2020-12-17T10:38:44.343Z"}},"createTime":"2020-12-17T10:37:57.228003Z","updateTime":"2020-12-17T10:38:44.348Z"},"updateMask":{}},"context":{"eventId":"1dd00f58-6095-4527-888f-4ee8edd7f49f","timestamp":"2020-12-17T10:38:59.784Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:44.343Z\"}},\"createTime\":\"2020-12-17T10:37:57.228003Z\",\"updateTime\":\"2020-12-17T10:38:44.348Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"1dd00f58-6095-4527-888f-4ee8edd7f49f\",\"timestamp\":\"2020-12-17T10:38:59.784Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -4 } { currentBasket: { totalPrice: 0, totalItems: 4 } } {"user":" { quantityIncrement: -4 } { currentBasket: { totalPrice: 0, totalItems: 4 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -4 } { currentBasket: { totalPrice: 0, totalItems: 4 } }"}}
[debug] [2020-12-17T10:38:59.875Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:38:59.876Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T10:38:59.876Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:39:02.739Z] Dec 17, 2020 10:39:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:03.062Z] Dec 17, 2020 10:39:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:03.420Z] Dec 17, 2020 10:39:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:10.385Z] Dec 17, 2020 10:39:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:11.852Z] Dec 17, 2020 10:39:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:12.180Z] Dec 17, 2020 10:39:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:15.167Z] Dec 17, 2020 10:39:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:15.504Z] Dec 17, 2020 10:39:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:15.894Z] Dec 17, 2020 10:39:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:21.678Z] Dec 17, 2020 10:39:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:21.739Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:39:21.739Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:39:21.739Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:39:21.740Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:39:21.740Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T10:39:21.740Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T10:39:21.744Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:39:21.746Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:39:21.747Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:39:21.747Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.3148399889636075},"totalComments":{"doubleValue":77.41021967902324},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":54620.00635557211},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.186Z"},"name":{"stringValue":"consectetur proident"},"description":{"stringValue":"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia"},"discount":{"doubleValue":75505.18281993753},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:39:21.682Z"}},"createTime":"2020-12-17T10:39:21.685003Z","updateTime":"2020-12-17T10:39:21.685003Z"},"updateMask":{}},"context":{"eventId":"b1d5cbfc-8dc6-4873-b32d-294d2d1a2493","timestamp":"2020-12-17T10:39:21.685Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.3148399889636075},\"totalComments\":{\"doubleValue\":77.41021967902324},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":54620.00635557211},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.186Z\"},\"name\":{\"stringValue\":\"consectetur proident\"},\"description\":{\"stringValue\":\"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia\"},\"discount\":{\"doubleValue\":75505.18281993753},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:21.682Z\"}},\"createTime\":\"2020-12-17T10:39:21.685003Z\",\"updateTime\":\"2020-12-17T10:39:21.685003Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"b1d5cbfc-8dc6-4873-b32d-294d2d1a2493\",\"timestamp\":\"2020-12-17T10:39:21.685Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:39:21.747Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:39:21.748Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.3148399889636075},"totalComments":{"doubleValue":77.41021967902324},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":54620.00635557211},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.186Z"},"name":{"stringValue":"consectetur proident"},"description":{"stringValue":"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia"},"discount":{"doubleValue":75505.18281993753},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:39:21.682Z"}},"createTime":"2020-12-17T10:39:21.685003Z","updateTime":"2020-12-17T10:39:21.685003Z"},"updateMask":{}},"context":{"eventId":"b1d5cbfc-8dc6-4873-b32d-294d2d1a2493","timestamp":"2020-12-17T10:39:21.685Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.3148399889636075},\"totalComments\":{\"doubleValue\":77.41021967902324},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":54620.00635557211},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.186Z\"},\"name\":{\"stringValue\":\"consectetur proident\"},\"description\":{\"stringValue\":\"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia\"},\"discount\":{\"doubleValue\":75505.18281993753},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:21.682Z\"}},\"createTime\":\"2020-12-17T10:39:21.685003Z\",\"updateTime\":\"2020-12-17T10:39:21.685003Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"b1d5cbfc-8dc6-4873-b32d-294d2d1a2493\",\"timestamp\":\"2020-12-17T10:39:21.685Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.3148399889636075, {"user":"    averageReview: 1.3148399889636075,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.3148399889636075,"}}
[info] >      totalComments: 77.41021967902324, {"user":"    totalComments: 77.41021967902324,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 77.41021967902324,"}}
[info] >      color: '#e7e7e7', {"user":"    color: '#e7e7e7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#e7e7e7',"}}
[info] >      price: 54620.00635557211, {"user":"    price: 54620.00635557211,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 54620.00635557211,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 186000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 186000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 186000000 },"}}
[info] >      name: 'consectetur proident', {"user":"    name: 'consectetur proident',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'consectetur proident',"}}
[info] >      description: 'tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia', {"user":"    description: 'tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia',"}}
[info] >      discount: 75505.18281993753, {"user":"    discount: 75505.18281993753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 75505.18281993753,"}}
[info] >      id: 'K7kAM43emS4RXBWf4MhK', {"user":"    id: 'K7kAM43emS4RXBWf4MhK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'K7kAM43emS4RXBWf4MhK',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201561, _nanoseconds: 682000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201561, _nanoseconds: 682000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201561, _nanoseconds: 682000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 5 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 5 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 5 } }"}}
[debug] [2020-12-17T10:39:21.789Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:39:21.790Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T10:39:21.790Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:39:22.035Z] Dec 17, 2020 10:39:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:22.128Z] Dec 17, 2020 10:39:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:22.739Z] Dec 17, 2020 10:39:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:22.801Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:39:22.801Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:39:22.802Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:39:22.802Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:39:22.802Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T10:39:22.802Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T10:39:22.806Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:39:22.810Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:39:22.811Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:39:22.811Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.0125866303152984},"totalComments":{"doubleValue":317.38923273348394},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":30010.73589575345},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:11.855Z"},"name":{"stringValue":"elit pariatur culpa"},"description":{"stringValue":"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor"},"discount":{"doubleValue":62795.38814000041},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:39:22.746Z"}},"createTime":"2020-12-17T10:39:22.749Z","updateTime":"2020-12-17T10:39:22.749Z"},"updateMask":{}},"context":{"eventId":"e19155ca-0bfe-4b23-b211-b5ba629d19b0","timestamp":"2020-12-17T10:39:22.749Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.0125866303152984},\"totalComments\":{\"doubleValue\":317.38923273348394},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":30010.73589575345},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:11.855Z\"},\"name\":{\"stringValue\":\"elit pariatur culpa\"},\"description\":{\"stringValue\":\"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor\"},\"discount\":{\"doubleValue\":62795.38814000041},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:22.746Z\"}},\"createTime\":\"2020-12-17T10:39:22.749Z\",\"updateTime\":\"2020-12-17T10:39:22.749Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"e19155ca-0bfe-4b23-b211-b5ba629d19b0\",\"timestamp\":\"2020-12-17T10:39:22.749Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:39:22.811Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:39:22.811Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.0125866303152984},"totalComments":{"doubleValue":317.38923273348394},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":30010.73589575345},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:11.855Z"},"name":{"stringValue":"elit pariatur culpa"},"description":{"stringValue":"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor"},"discount":{"doubleValue":62795.38814000041},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:39:22.746Z"}},"createTime":"2020-12-17T10:39:22.749Z","updateTime":"2020-12-17T10:39:22.749Z"},"updateMask":{}},"context":{"eventId":"e19155ca-0bfe-4b23-b211-b5ba629d19b0","timestamp":"2020-12-17T10:39:22.749Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.0125866303152984},\"totalComments\":{\"doubleValue\":317.38923273348394},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":30010.73589575345},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:11.855Z\"},\"name\":{\"stringValue\":\"elit pariatur culpa\"},\"description\":{\"stringValue\":\"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor\"},\"discount\":{\"doubleValue\":62795.38814000041},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:22.746Z\"}},\"createTime\":\"2020-12-17T10:39:22.749Z\",\"updateTime\":\"2020-12-17T10:39:22.749Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"e19155ca-0bfe-4b23-b211-b5ba629d19b0\",\"timestamp\":\"2020-12-17T10:39:22.749Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 3.0125866303152984, {"user":"    averageReview: 3.0125866303152984,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 3.0125866303152984,"}}
[info] >      totalComments: 317.38923273348394, {"user":"    totalComments: 317.38923273348394,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 317.38923273348394,"}}
[info] >      color: '#e7e7e7', {"user":"    color: '#e7e7e7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#e7e7e7',"}}
[info] >      price: 30010.73589575345, {"user":"    price: 30010.73589575345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 30010.73589575345,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608201551, _nanoseconds: 855000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608201551, _nanoseconds: 855000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608201551, _nanoseconds: 855000000 },"}}
[info] >      name: 'elit pariatur culpa', {"user":"    name: 'elit pariatur culpa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'elit pariatur culpa',"}}
[info] >      description: 'Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor', {"user":"    description: 'Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor',"}}
[info] >      discount: 62795.38814000041, {"user":"    discount: 62795.38814000041,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 62795.38814000041,"}}
[info] >      id: 'lMfmsCTXr2TTjvo8foiE', {"user":"    id: 'lMfmsCTXr2TTjvo8foiE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'lMfmsCTXr2TTjvo8foiE',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201562, _nanoseconds: 746000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201562, _nanoseconds: 746000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201562, _nanoseconds: 746000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T10:39:22.873Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:39:22.874Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T10:39:22.876Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 6 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 6 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 6 } }"}}
[debug] [2020-12-17T10:39:25.571Z] Dec 17, 2020 10:39:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:26.041Z] Dec 17, 2020 10:39:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:39:53.152Z] Dec 17, 2020 10:39:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:39:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:01.666Z] Dec 17, 2020 10:40:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:05.247Z] Dec 17, 2020 10:40:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:05.316Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T10:40:05.316Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T10:40:05.316Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T10:40:05.316Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T10:40:05.317Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T10:40:05.317Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T10:40:05.320Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T10:40:05.328Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T10:40:05.328Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T10:40:05.328Z] [runtime-status] [8072] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"lastUpdate":{"timestampValue":"2020-12-17T10:38:31.880Z"}},"createTime":"2020-12-17T10:38:01.894Z","updateTime":"2020-12-17T10:38:31.886Z"},"updateMask":{}},"context":{"eventId":"3640544b-4d48-46e2-abe8-9afdf30b9f18","timestamp":"2020-12-17T10:40:05.250Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:31.880Z\"}},\"createTime\":\"2020-12-17T10:38:01.894Z\",\"updateTime\":\"2020-12-17T10:38:31.886Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"3640544b-4d48-46e2-abe8-9afdf30b9f18\",\"timestamp\":\"2020-12-17T10:40:05.250Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T10:40:05.329Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T10:40:05.329Z] [runtime-status] [8072] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.1828492776300625},"totalComments":{"doubleValue":92.97544818144453},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":23139.343024570146},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.623Z"},"name":{"stringValue":"est , consectetur"},"description":{"stringValue":"velit elit non Ad , Lorem proident deserunt"},"discount":{"doubleValue":38486.753409351295},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"A8x6uPcL7MFUUgdfoPH4"},"lastUpdate":{"timestampValue":"2020-12-17T10:38:31.880Z"}},"createTime":"2020-12-17T10:38:01.894Z","updateTime":"2020-12-17T10:38:31.886Z"},"updateMask":{}},"context":{"eventId":"3640544b-4d48-46e2-abe8-9afdf30b9f18","timestamp":"2020-12-17T10:40:05.250Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.1828492776300625},\"totalComments\":{\"doubleValue\":92.97544818144453},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":23139.343024570146},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.623Z\"},\"name\":{\"stringValue\":\"est , consectetur\"},\"description\":{\"stringValue\":\"velit elit non Ad , Lorem proident deserunt\"},\"discount\":{\"doubleValue\":38486.753409351295},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"A8x6uPcL7MFUUgdfoPH4\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:38:31.880Z\"}},\"createTime\":\"2020-12-17T10:38:01.894Z\",\"updateTime\":\"2020-12-17T10:38:31.886Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"3640544b-4d48-46e2-abe8-9afdf30b9f18\",\"timestamp\":\"2020-12-17T10:40:05.250Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/A8x6uPcL7MFUUgdfoPH4\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -3 } { currentBasket: { totalPrice: 0, totalItems: 3 } } {"user":" { quantityIncrement: -3 } { currentBasket: { totalPrice: 0, totalItems: 3 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -3 } { currentBasket: { totalPrice: 0, totalItems: 3 } }"}}
[debug] [2020-12-17T10:40:05.359Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T10:40:05.360Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T10:40:05.362Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T10:40:05.698Z] Dec 17, 2020 10:40:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:06.074Z] Dec 17, 2020 10:40:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:11.757Z] Dec 17, 2020 10:40:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:11 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:12.184Z] Dec 17, 2020 10:40:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:12.197Z] Dec 17, 2020 10:40:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:12.529Z] Dec 17, 2020 10:40:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:21.052Z] Dec 17, 2020 10:40:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:21.393Z] Dec 17, 2020 10:40:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:21 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:40:36.393Z] Dec 17, 2020 10:40:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:40:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:41:05.878Z] Dec 17, 2020 10:41:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:41:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:41:06.847Z] Dec 17, 2020 10:41:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:41:06 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:41:06.857Z] Dec 17, 2020 10:41:06 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:41:06 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T10:41:08.198Z] Dec 17, 2020 10:41:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:41:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:41:08.562Z] Dec 17, 2020 10:41:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:41:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:41:08.936Z] Dec 17, 2020 10:41:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:41:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:41:32.189Z] Dec 17, 2020 10:41:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:41:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:41:32.727Z] Dec 17, 2020 10:41:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:41:32 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:41:33.445Z] Dec 17, 2020 10:41:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:41:33 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T10:41:36.751Z] Dec 17, 2020 10:41:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 10:41:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:43:39.511Z] Dec 17, 2020 9:43:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:43:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:43:42.791Z] Dec 17, 2020 9:43:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:43:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:43:43.111Z] Dec 17, 2020 9:43:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:43:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:43:43.531Z] Dec 17, 2020 9:43:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:43:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:44:04.964Z] Dec 17, 2020 9:44:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:44:04 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:44:05.338Z] Dec 17, 2020 9:44:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:44:05 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:44:26.732Z] Dec 17, 2020 9:44:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:44:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:44:27.107Z] Dec 17, 2020 9:44:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:44:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:45:07.870Z] Dec 17, 2020 9:45:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:45:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:45:08.258Z] Dec 17, 2020 9:45:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:45:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:27.310Z] Dec 17, 2020 9:46:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:27.649Z] Dec 17, 2020 9:46:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:27.980Z] Dec 17, 2020 9:46:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:28.091Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:46:28.092Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:46:28.092Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:46:28.092Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:46:28.092Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:46:28.092Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:46:28.096Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:46:28.105Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:46:28.105Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:46:28.106Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.3148399889636075},"totalComments":{"doubleValue":77.41021967902324},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":54620.00635557211},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.186Z"},"name":{"stringValue":"consectetur proident"},"description":{"stringValue":"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia"},"discount":{"doubleValue":75505.18281993753},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:39:21.685003Z","updateTime":"2020-12-17T10:41:32.199042Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.3148399889636075},"totalComments":{"doubleValue":77.41021967902324},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":54620.00635557211},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.186Z"},"name":{"stringValue":"consectetur proident"},"description":{"stringValue":"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia"},"discount":{"doubleValue":75505.18281993753},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:39:21.682Z"}},"createTime":"2020-12-17T10:39:21.685003Z","updateTime":"2020-12-17T10:39:21.685003Z"},"updateMask":{}},"context":{"eventId":"edde74df-f629-484d-bc42-d2d2c5c07d8a","timestamp":"2020-12-17T10:41:32.199Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.3148399889636075},\"totalComments\":{\"doubleValue\":77.41021967902324},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":54620.00635557211},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.186Z\"},\"name\":{\"stringValue\":\"consectetur proident\"},\"description\":{\"stringValue\":\"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia\"},\"discount\":{\"doubleValue\":75505.18281993753},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:39:21.685003Z\",\"updateTime\":\"2020-12-17T10:41:32.199042Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.3148399889636075},\"totalComments\":{\"doubleValue\":77.41021967902324},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":54620.00635557211},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.186Z\"},\"name\":{\"stringValue\":\"consectetur proident\"},\"description\":{\"stringValue\":\"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia\"},\"discount\":{\"doubleValue\":75505.18281993753},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:21.682Z\"}},\"createTime\":\"2020-12-17T10:39:21.685003Z\",\"updateTime\":\"2020-12-17T10:39:21.685003Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"edde74df-f629-484d-bc42-d2d2c5c07d8a\",\"timestamp\":\"2020-12-17T10:41:32.199Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:46:28.106Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:46:28.106Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.3148399889636075},"totalComments":{"doubleValue":77.41021967902324},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":54620.00635557211},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.186Z"},"name":{"stringValue":"consectetur proident"},"description":{"stringValue":"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia"},"discount":{"doubleValue":75505.18281993753},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:39:21.685003Z","updateTime":"2020-12-17T10:41:32.199042Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.3148399889636075},"totalComments":{"doubleValue":77.41021967902324},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":54620.00635557211},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.186Z"},"name":{"stringValue":"consectetur proident"},"description":{"stringValue":"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia"},"discount":{"doubleValue":75505.18281993753},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:39:21.682Z"}},"createTime":"2020-12-17T10:39:21.685003Z","updateTime":"2020-12-17T10:39:21.685003Z"},"updateMask":{}},"context":{"eventId":"edde74df-f629-484d-bc42-d2d2c5c07d8a","timestamp":"2020-12-17T10:41:32.199Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.3148399889636075},\"totalComments\":{\"doubleValue\":77.41021967902324},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":54620.00635557211},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.186Z\"},\"name\":{\"stringValue\":\"consectetur proident\"},\"description\":{\"stringValue\":\"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia\"},\"discount\":{\"doubleValue\":75505.18281993753},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:39:21.685003Z\",\"updateTime\":\"2020-12-17T10:41:32.199042Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.3148399889636075},\"totalComments\":{\"doubleValue\":77.41021967902324},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":54620.00635557211},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.186Z\"},\"name\":{\"stringValue\":\"consectetur proident\"},\"description\":{\"stringValue\":\"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia\"},\"discount\":{\"doubleValue\":75505.18281993753},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:21.682Z\"}},\"createTime\":\"2020-12-17T10:39:21.685003Z\",\"updateTime\":\"2020-12-17T10:39:21.685003Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"edde74df-f629-484d-bc42-d2d2c5c07d8a\",\"timestamp\":\"2020-12-17T10:41:32.199Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.3148399889636075, {"user":"    averageReview: 1.3148399889636075,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.3148399889636075,"}}
[info] >      totalComments: 77.41021967902324, {"user":"    totalComments: 77.41021967902324,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 77.41021967902324,"}}
[info] >      color: '#e7e7e7', {"user":"    color: '#e7e7e7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#e7e7e7',"}}
[info] >      price: 54620.00635557211, {"user":"    price: 54620.00635557211,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 54620.00635557211,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 186000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 186000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 186000000 },"}}
[info] >      name: 'consectetur proident', {"user":"    name: 'consectetur proident',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'consectetur proident',"}}
[info] >      description: 'tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia', {"user":"    description: 'tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia',"}}
[info] >      discount: 75505.18281993753, {"user":"    discount: 75505.18281993753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 75505.18281993753,"}}
[info] >      id: 'K7kAM43emS4RXBWf4MhK', {"user":"    id: 'K7kAM43emS4RXBWf4MhK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'K7kAM43emS4RXBWf4MhK',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalItems: 3 } } {"user":" { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalItems: 3 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalItems: 3 } }"}}
[debug] [2020-12-17T09:46:28.157Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:46:28.158Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:46:28.158Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:46:29.652Z] Dec 17, 2020 9:46:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:29.729Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:46:29.729Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:46:29.729Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:46:29.730Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:46:29.730Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:46:29.731Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:46:29.734Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:46:29.735Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:46:29.736Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:46:29.736Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:37:54.161001Z","updateTime":"2020-12-17T10:41:32.199207Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:37:54.159Z"}},"createTime":"2020-12-17T10:37:54.161001Z","updateTime":"2020-12-17T10:37:54.161001Z"},"updateMask":{}},"context":{"eventId":"a5731fe0-c2ed-42c6-aa0f-19269c76b46c","timestamp":"2020-12-17T10:41:32.199Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:37:54.161001Z\",\"updateTime\":\"2020-12-17T10:41:32.199207Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:37:54.159Z\"}},\"createTime\":\"2020-12-17T10:37:54.161001Z\",\"updateTime\":\"2020-12-17T10:37:54.161001Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"a5731fe0-c2ed-42c6-aa0f-19269c76b46c\",\"timestamp\":\"2020-12-17T10:41:32.199Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:46:29.737Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:46:29.737Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:37:54.161001Z","updateTime":"2020-12-17T10:41:32.199207Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:37:54.159Z"}},"createTime":"2020-12-17T10:37:54.161001Z","updateTime":"2020-12-17T10:37:54.161001Z"},"updateMask":{}},"context":{"eventId":"a5731fe0-c2ed-42c6-aa0f-19269c76b46c","timestamp":"2020-12-17T10:41:32.199Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:37:54.161001Z\",\"updateTime\":\"2020-12-17T10:41:32.199207Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:37:54.159Z\"}},\"createTime\":\"2020-12-17T10:37:54.161001Z\",\"updateTime\":\"2020-12-17T10:37:54.161001Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"a5731fe0-c2ed-42c6-aa0f-19269c76b46c\",\"timestamp\":\"2020-12-17T10:41:32.199Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 3.798561446297073, {"user":"    averageReview: 3.798561446297073,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 3.798561446297073,"}}
[info] >      totalComments: 94.37736414553208, {"user":"    totalComments: 94.37736414553208,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 94.37736414553208,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 6584.2385718533515, {"user":"    price: 6584.2385718533515,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 6584.2385718533515,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },"}}
[info] >      name: 'consectetur', {"user":"    name: 'consectetur',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'consectetur',"}}
[info] >      description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore', {"user":"    description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',"}}
[info] >      discount: 70766.22364740193, {"user":"    discount: 70766.22364740193,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 70766.22364740193,"}}
[info] >      id: '3gj4w3j5HAAonN4GDEXt', {"user":"    id: '3gj4w3j5HAAonN4GDEXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3gj4w3j5HAAonN4GDEXt',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalItems: 3 } } {"user":" { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalItems: 3 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalItems: 3 } }"}}
[debug] [2020-12-17T09:46:29.797Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:46:29.805Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:46:29.808Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:46:30.439Z] Dec 17, 2020 9:46:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:34.956Z] Dec 17, 2020 9:46:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:35.031Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:46:35.031Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:46:35.031Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:46:35.032Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:46:35.032Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:46:35.032Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:46:35.035Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:46:35.037Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:46:35.037Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:46:35.038Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.199483Z"},"updateMask":{}},"context":{"eventId":"de28486f-6722-401d-92fb-6c6a4e553de7","timestamp":"2020-12-17T10:41:32.199Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.199483Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"de28486f-6722-401d-92fb-6c6a4e553de7\",\"timestamp\":\"2020-12-17T10:41:32.199Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:46:35.038Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:46:35.039Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.199483Z"},"updateMask":{}},"context":{"eventId":"de28486f-6722-401d-92fb-6c6a4e553de7","timestamp":"2020-12-17T10:41:32.199Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.199483Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"de28486f-6722-401d-92fb-6c6a4e553de7\",\"timestamp\":\"2020-12-17T10:41:32.199Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 4 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 4 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 4 } }"}}
[debug] [2020-12-17T09:46:35.091Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:46:35.092Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:46:35.093Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:46:36.708Z] Dec 17, 2020 9:46:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:36 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:36.785Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:46:36.785Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:46:36.785Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:46:36.785Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:46:36.785Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:46:36.785Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:46:36.787Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:46:36.788Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:46:36.788Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:46:36.789Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.199648Z"},"updateMask":{}},"context":{"eventId":"0a9cde54-a1b3-4ed6-9308-86469dec14ba","timestamp":"2020-12-17T10:41:32.199Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.199648Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0a9cde54-a1b3-4ed6-9308-86469dec14ba\",\"timestamp\":\"2020-12-17T10:41:32.199Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:46:36.789Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:46:36.789Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.199648Z"},"updateMask":{}},"context":{"eventId":"0a9cde54-a1b3-4ed6-9308-86469dec14ba","timestamp":"2020-12-17T10:41:32.199Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.199648Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0a9cde54-a1b3-4ed6-9308-86469dec14ba\",\"timestamp\":\"2020-12-17T10:41:32.199Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.281701603162404, {"user":"    averageReview: 4.281701603162404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.281701603162404,"}}
[info] >      totalComments: 197.1859592060629, {"user":"    totalComments: 197.1859592060629,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 197.1859592060629,"}}
[info] >      color: '#176ba3', {"user":"    color: '#176ba3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#176ba3',"}}
[info] >      price: 24441.847323494057, {"user":"    price: 24441.847323494057,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 24441.847323494057,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 192000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 192000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 192000000 },"}}
[info] >      name: '', {"user":"    name: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: '',"}}
[info] >      description: 'ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum', {"user":"    description: 'ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum',"}}
[info] >      discount: 29714.64542041591, {"user":"    discount: 29714.64542041591,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 29714.64542041591,"}}
[info] >      id: '04TpE0f2s83U1O12htll', {"user":"    id: '04TpE0f2s83U1O12htll',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '04TpE0f2s83U1O12htll',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 5 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 5 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 5 } }"}}
[debug] [2020-12-17T09:46:36.843Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:46:36.847Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:46:36.847Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:46:39.854Z] Dec 17, 2020 9:46:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:39.979Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:46:39.979Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:46:39.979Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:46:39.979Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:46:39.979Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:46:39.979Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:46:39.982Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:46:39.983Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:46:39.983Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:46:39.984Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199813Z","updateTime":"2020-12-17T10:41:32.199813Z"},"updateMask":{}},"context":{"eventId":"6885ffa6-5694-43b0-a322-737834e0d036","timestamp":"2020-12-17T10:41:32.199Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199813Z\",\"updateTime\":\"2020-12-17T10:41:32.199813Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"6885ffa6-5694-43b0-a322-737834e0d036\",\"timestamp\":\"2020-12-17T10:41:32.199Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:46:39.984Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:46:39.985Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199813Z","updateTime":"2020-12-17T10:41:32.199813Z"},"updateMask":{}},"context":{"eventId":"6885ffa6-5694-43b0-a322-737834e0d036","timestamp":"2020-12-17T10:41:32.199Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199813Z\",\"updateTime\":\"2020-12-17T10:41:32.199813Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"6885ffa6-5694-43b0-a322-737834e0d036\",\"timestamp\":\"2020-12-17T10:41:32.199Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.331411451519492, {"user":"    averageReview: 1.331411451519492,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.331411451519492,"}}
[info] >      totalComments: 31.115676382190905, {"user":"    totalComments: 31.115676382190905,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 31.115676382190905,"}}
[info] >      color: '#176ba3', {"user":"    color: '#176ba3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#176ba3',"}}
[info] >      price: 28482.09476404109, {"user":"    price: 28482.09476404109,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 28482.09476404109,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 },"}}
[info] >      name: 'non proident ,', {"user":"    name: 'non proident ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'non proident ,',"}}
[info] >      description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud', {"user":"    description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud',"}}
[info] >      discount: 88289.66225962341, {"user":"    discount: 88289.66225962341,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 88289.66225962341,"}}
[info] >      id: '4HdGBrTO9w9jZ3Y6gS4Y', {"user":"    id: '4HdGBrTO9w9jZ3Y6gS4Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '4HdGBrTO9w9jZ3Y6gS4Y',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 6 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 6 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 6 } }"}}
[debug] [2020-12-17T09:46:40.036Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:46:40.037Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:46:40.038Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:46:42.228Z] Dec 17, 2020 9:46:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:42.310Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:46:42.310Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:46:42.310Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:46:42.310Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:46:42.310Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:46:42.310Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:46:42.313Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:46:42.315Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:46:42.316Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:46:42.316Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199980Z","updateTime":"2020-12-17T10:41:32.199980Z"},"updateMask":{}},"context":{"eventId":"d990b29b-923f-47ad-a7c5-34542ec96b7c","timestamp":"2020-12-17T10:41:32.199Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199980Z\",\"updateTime\":\"2020-12-17T10:41:32.199980Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"d990b29b-923f-47ad-a7c5-34542ec96b7c\",\"timestamp\":\"2020-12-17T10:41:32.199Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:46:42.316Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:46:42.317Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.713735153447747},"totalComments":{"doubleValue":11.972279796593224},"color":{"stringValue":"#15202b"},"price":{"doubleValue":74133.60307472725},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.596Z"},"name":{"stringValue":"Sunt ,"},"description":{"stringValue":"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est"},"discount":{"doubleValue":39542.973209507574},"id":{"stringValue":"3lDPbgPVglBzGBLdgutC"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199980Z","updateTime":"2020-12-17T10:41:32.199980Z"},"updateMask":{}},"context":{"eventId":"d990b29b-923f-47ad-a7c5-34542ec96b7c","timestamp":"2020-12-17T10:41:32.199Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.713735153447747},\"totalComments\":{\"doubleValue\":11.972279796593224},\"color\":{\"stringValue\":\"#15202b\"},\"price\":{\"doubleValue\":74133.60307472725},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.596Z\"},\"name\":{\"stringValue\":\"Sunt ,\"},\"description\":{\"stringValue\":\"Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est\"},\"discount\":{\"doubleValue\":39542.973209507574},\"id\":{\"stringValue\":\"3lDPbgPVglBzGBLdgutC\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199980Z\",\"updateTime\":\"2020-12-17T10:41:32.199980Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"d990b29b-923f-47ad-a7c5-34542ec96b7c\",\"timestamp\":\"2020-12-17T10:41:32.199Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3lDPbgPVglBzGBLdgutC\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.713735153447747, {"user":"    averageReview: 4.713735153447747,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.713735153447747,"}}
[info] >      totalComments: 11.972279796593224, {"user":"    totalComments: 11.972279796593224,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 11.972279796593224,"}}
[info] >      color: '#15202b', {"user":"    color: '#15202b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#15202b',"}}
[info] >      price: 74133.60307472725, {"user":"    price: 74133.60307472725,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 74133.60307472725,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 596000000 },"}}
[info] >      name: 'Sunt ,', {"user":"    name: 'Sunt ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'Sunt ,',"}}
[info] >      description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est', {"user":"    description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Ex , , cillum anim et in Adipisicing sunt cupidatat tempor do aute officia Adipisicing consectetur excepteur irure Ex elit consectetur aute aute elit non qui qui elit ea consectetur incididunt non cupidatat , proident consectetur , velit . officia . anim duis et Proident labore velit officia consectetur sunt proident cupidatat consectetur officia . velit tempor ullamco magna velit excepteur elit ullamco elit aute tempor est',"}}
[info] >      discount: 39542.973209507574, {"user":"    discount: 39542.973209507574,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 39542.973209507574,"}}
[info] >      id: '3lDPbgPVglBzGBLdgutC', {"user":"    id: '3lDPbgPVglBzGBLdgutC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3lDPbgPVglBzGBLdgutC',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    quantity: 1, {"user":"  quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 1,"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 199000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 7 } } {"user":" { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 7 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 1 } { currentBasket: { totalPrice: 0, totalItems: 7 } }"}}
[debug] [2020-12-17T09:46:42.368Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:46:42.370Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:46:42.371Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:46:45.697Z] Dec 17, 2020 9:46:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:45 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:52.958Z] Dec 17, 2020 9:46:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:46:52 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:46:53.099Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:46:53.099Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:46:53.099Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:46:53.099Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:46:53.099Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:46:53.099Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:46:53.103Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:46:53.109Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:46:53.109Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:46:53.110Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"5"},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.200151Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.199648Z"},"updateMask":{}},"context":{"eventId":"a51db14e-92f3-4132-9ac3-1a1b38daeb75","timestamp":"2020-12-17T10:41:32.200Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"5\"},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.200151Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.199648Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"a51db14e-92f3-4132-9ac3-1a1b38daeb75\",\"timestamp\":\"2020-12-17T10:41:32.200Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:46:53.111Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:46:53.112Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"5"},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.200151Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.199648Z"},"updateMask":{}},"context":{"eventId":"a51db14e-92f3-4132-9ac3-1a1b38daeb75","timestamp":"2020-12-17T10:41:32.200Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"5\"},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.200151Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.199648Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"a51db14e-92f3-4132-9ac3-1a1b38daeb75\",\"timestamp\":\"2020-12-17T10:41:32.200Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.281701603162404, {"user":"    averageReview: 4.281701603162404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.281701603162404,"}}
[info] >      totalComments: 197.1859592060629, {"user":"    totalComments: 197.1859592060629,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 197.1859592060629,"}}
[info] >      color: '#176ba3', {"user":"    color: '#176ba3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#176ba3',"}}
[info] >      price: 24441.847323494057, {"user":"    price: 24441.847323494057,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 24441.847323494057,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 192000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 192000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 192000000 },"}}
[info] >      name: '', {"user":"    name: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: '',"}}
[info] >      description: 'ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum', {"user":"    description: 'ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum',"}}
[info] >      discount: 29714.64542041591, {"user":"    discount: 29714.64542041591,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 29714.64542041591,"}}
[info] >      id: '04TpE0f2s83U1O12htll', {"user":"    id: '04TpE0f2s83U1O12htll',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '04TpE0f2s83U1O12htll',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 5, {"user":"  quantity: 5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 5,"}}
[info] >    id: '04TpE0f2s83U1O12htll', {"user":"  id: '04TpE0f2s83U1O12htll',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '04TpE0f2s83U1O12htll',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T09:46:53.168Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:46:53.170Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:46:53.171Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 4 } { currentBasket: { totalPrice: 0, totalItems: 11 } } {"user":" { quantityIncrement: 4 } { currentBasket: { totalPrice: 0, totalItems: 11 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 4 } { currentBasket: { totalPrice: 0, totalItems: 11 } }"}}
[debug] [2020-12-17T09:47:01.273Z] Dec 17, 2020 9:47:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:47:01 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:47:01.368Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:47:01.368Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:47:01.368Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:47:01.368Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:47:01.369Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:47:01.369Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:47:01.371Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:47:01.374Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:47:01.374Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:47:01.375Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"8"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.200321Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.199483Z"},"updateMask":{}},"context":{"eventId":"8e6afc85-c4b0-4336-a20c-ffb5712a2bcd","timestamp":"2020-12-17T10:41:32.200Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"8\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.200321Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.199483Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"8e6afc85-c4b0-4336-a20c-ffb5712a2bcd\",\"timestamp\":\"2020-12-17T10:41:32.200Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:47:01.375Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:47:01.375Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"8"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.200321Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.199483Z"},"updateMask":{}},"context":{"eventId":"8e6afc85-c4b0-4336-a20c-ffb5712a2bcd","timestamp":"2020-12-17T10:41:32.200Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"8\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.200321Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.199483Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"8e6afc85-c4b0-4336-a20c-ffb5712a2bcd\",\"timestamp\":\"2020-12-17T10:41:32.200Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 8, {"user":"  quantity: 8,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 8,"}}
[info] >    id: '2urzBawDSOxMX5xRYm0H', {"user":"  id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T09:47:01.412Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:47:01.413Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:47:01.414Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 7 } { currentBasket: { totalPrice: 0, totalItems: 18 } } {"user":" { quantityIncrement: 7 } { currentBasket: { totalPrice: 0, totalItems: 18 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 7 } { currentBasket: { totalPrice: 0, totalItems: 18 } }"}}
[debug] [2020-12-17T09:47:15.989Z] Dec 17, 2020 9:47:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:47:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:47:16.122Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:47:16.123Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:47:16.123Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:47:16.123Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:47:16.123Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:47:16.123Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:47:16.128Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:47:16.135Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:47:16.136Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:47:16.136Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.3148399889636075},"totalComments":{"doubleValue":77.41021967902324},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":54620.00635557211},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.186Z"},"name":{"stringValue":"consectetur proident"},"description":{"stringValue":"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia"},"discount":{"doubleValue":75505.18281993753},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"20"},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:39:21.685003Z","updateTime":"2020-12-17T10:41:32.200491Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.3148399889636075},"totalComments":{"doubleValue":77.41021967902324},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":54620.00635557211},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.186Z"},"name":{"stringValue":"consectetur proident"},"description":{"stringValue":"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia"},"discount":{"doubleValue":75505.18281993753},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:39:21.685003Z","updateTime":"2020-12-17T10:41:32.199042Z"},"updateMask":{}},"context":{"eventId":"9d6a5aab-8682-4c72-8065-d2bf01f597dc","timestamp":"2020-12-17T10:41:32.200Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.3148399889636075},\"totalComments\":{\"doubleValue\":77.41021967902324},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":54620.00635557211},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.186Z\"},\"name\":{\"stringValue\":\"consectetur proident\"},\"description\":{\"stringValue\":\"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia\"},\"discount\":{\"doubleValue\":75505.18281993753},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"20\"},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:39:21.685003Z\",\"updateTime\":\"2020-12-17T10:41:32.200491Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.3148399889636075},\"totalComments\":{\"doubleValue\":77.41021967902324},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":54620.00635557211},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.186Z\"},\"name\":{\"stringValue\":\"consectetur proident\"},\"description\":{\"stringValue\":\"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia\"},\"discount\":{\"doubleValue\":75505.18281993753},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:39:21.685003Z\",\"updateTime\":\"2020-12-17T10:41:32.199042Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"9d6a5aab-8682-4c72-8065-d2bf01f597dc\",\"timestamp\":\"2020-12-17T10:41:32.200Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:47:16.137Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:47:16.137Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.3148399889636075},"totalComments":{"doubleValue":77.41021967902324},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":54620.00635557211},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.186Z"},"name":{"stringValue":"consectetur proident"},"description":{"stringValue":"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia"},"discount":{"doubleValue":75505.18281993753},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"20"},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:39:21.685003Z","updateTime":"2020-12-17T10:41:32.200491Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.3148399889636075},"totalComments":{"doubleValue":77.41021967902324},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":54620.00635557211},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.186Z"},"name":{"stringValue":"consectetur proident"},"description":{"stringValue":"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia"},"discount":{"doubleValue":75505.18281993753},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:39:21.685003Z","updateTime":"2020-12-17T10:41:32.199042Z"},"updateMask":{}},"context":{"eventId":"9d6a5aab-8682-4c72-8065-d2bf01f597dc","timestamp":"2020-12-17T10:41:32.200Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.3148399889636075},\"totalComments\":{\"doubleValue\":77.41021967902324},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":54620.00635557211},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.186Z\"},\"name\":{\"stringValue\":\"consectetur proident\"},\"description\":{\"stringValue\":\"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia\"},\"discount\":{\"doubleValue\":75505.18281993753},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"20\"},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:39:21.685003Z\",\"updateTime\":\"2020-12-17T10:41:32.200491Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.3148399889636075},\"totalComments\":{\"doubleValue\":77.41021967902324},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":54620.00635557211},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.186Z\"},\"name\":{\"stringValue\":\"consectetur proident\"},\"description\":{\"stringValue\":\"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia\"},\"discount\":{\"doubleValue\":75505.18281993753},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:39:21.685003Z\",\"updateTime\":\"2020-12-17T10:41:32.199042Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"9d6a5aab-8682-4c72-8065-d2bf01f597dc\",\"timestamp\":\"2020-12-17T10:41:32.200Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.3148399889636075, {"user":"    averageReview: 1.3148399889636075,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.3148399889636075,"}}
[info] >      totalComments: 77.41021967902324, {"user":"    totalComments: 77.41021967902324,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 77.41021967902324,"}}
[info] >      color: '#e7e7e7', {"user":"    color: '#e7e7e7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#e7e7e7',"}}
[info] >      price: 54620.00635557211, {"user":"    price: 54620.00635557211,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 54620.00635557211,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 186000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 186000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 186000000 },"}}
[info] >      name: 'consectetur proident', {"user":"    name: 'consectetur proident',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'consectetur proident',"}}
[info] >      description: 'tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia', {"user":"    description: 'tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia',"}}
[info] >      discount: 75505.18281993753, {"user":"    discount: 75505.18281993753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 75505.18281993753,"}}
[info] >      id: 'K7kAM43emS4RXBWf4MhK', {"user":"    id: 'K7kAM43emS4RXBWf4MhK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'K7kAM43emS4RXBWf4MhK',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 20, {"user":"  quantity: 20,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 20,"}}
[info] >    id: 'K7kAM43emS4RXBWf4MhK', {"user":"  id: 'K7kAM43emS4RXBWf4MhK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: 'K7kAM43emS4RXBWf4MhK',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T09:47:16.179Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:47:16.181Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:47:16.181Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 19 } { currentBasket: { totalPrice: 0, totalItems: 37 } } {"user":" { quantityIncrement: 19 } { currentBasket: { totalPrice: 0, totalItems: 37 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 19 } { currentBasket: { totalPrice: 0, totalItems: 37 } }"}}
[debug] [2020-12-17T09:47:16.589Z] Dec 17, 2020 9:47:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:47:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:47:37.305Z] Dec 17, 2020 9:47:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:47:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:47:37.622Z] Dec 17, 2020 9:47:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:47:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:47:38.012Z] Dec 17, 2020 9:47:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:47:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:08.819Z] Dec 17, 2020 9:48:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:08 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:09.211Z] Dec 17, 2020 9:48:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:16.566Z] Dec 17, 2020 9:48:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:16.570Z] Dec 17, 2020 9:48:16 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:16 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T09:48:18.170Z] Dec 17, 2020 9:48:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:18 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:24.110Z] Dec 17, 2020 9:48:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:24.576Z] Dec 17, 2020 9:48:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:24.903Z] Dec 17, 2020 9:48:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:24 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:24.962Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:48:24.963Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:48:24.963Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:48:24.963Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:48:24.963Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:48:24.963Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:48:24.966Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:48:24.967Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:48:24.967Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:48:24.969Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:41:32.199813Z","updateTime":"2020-12-17T10:41:32.200674Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199813Z","updateTime":"2020-12-17T10:41:32.199813Z"},"updateMask":{}},"context":{"eventId":"2ea4581f-6477-4b5e-b30b-f9c716298796","timestamp":"2020-12-17T10:41:32.200Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:41:32.199813Z\",\"updateTime\":\"2020-12-17T10:41:32.200674Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199813Z\",\"updateTime\":\"2020-12-17T10:41:32.199813Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"2ea4581f-6477-4b5e-b30b-f9c716298796\",\"timestamp\":\"2020-12-17T10:41:32.200Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:48:24.969Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:48:24.970Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:41:32.199813Z","updateTime":"2020-12-17T10:41:32.200674Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:41:32.199813Z","updateTime":"2020-12-17T10:41:32.199813Z"},"updateMask":{}},"context":{"eventId":"2ea4581f-6477-4b5e-b30b-f9c716298796","timestamp":"2020-12-17T10:41:32.200Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:41:32.199813Z\",\"updateTime\":\"2020-12-17T10:41:32.200674Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:41:32.199813Z\",\"updateTime\":\"2020-12-17T10:41:32.199813Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"2ea4581f-6477-4b5e-b30b-f9c716298796\",\"timestamp\":\"2020-12-17T10:41:32.200Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.331411451519492, {"user":"    averageReview: 1.331411451519492,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.331411451519492,"}}
[info] >      totalComments: 31.115676382190905, {"user":"    totalComments: 31.115676382190905,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 31.115676382190905,"}}
[info] >      color: '#176ba3', {"user":"    color: '#176ba3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#176ba3',"}}
[info] >      price: 28482.09476404109, {"user":"    price: 28482.09476404109,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 28482.09476404109,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 },"}}
[info] >      name: 'non proident ,', {"user":"    name: 'non proident ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'non proident ,',"}}
[info] >      description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud', {"user":"    description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud',"}}
[info] >      discount: 88289.66225962341, {"user":"    discount: 88289.66225962341,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 88289.66225962341,"}}
[info] >      id: '4HdGBrTO9w9jZ3Y6gS4Y', {"user":"    id: '4HdGBrTO9w9jZ3Y6gS4Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '4HdGBrTO9w9jZ3Y6gS4Y',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 4, {"user":"  quantity: 4,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 4,"}}
[info] >    id: '4HdGBrTO9w9jZ3Y6gS4Y', {"user":"  id: '4HdGBrTO9w9jZ3Y6gS4Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '4HdGBrTO9w9jZ3Y6gS4Y',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T09:48:25.015Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:48:25.016Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:48:25.017Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalItems: 40 } } {"user":" { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalItems: 40 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 3 } { currentBasket: { totalPrice: 0, totalItems: 40 } }"}}
[debug] [2020-12-17T09:48:30.198Z] Dec 17, 2020 9:48:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:30 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:34.620Z] Dec 17, 2020 9:48:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:34 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:34.788Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:48:34.788Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:48:34.788Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:48:34.789Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:48:34.789Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:48:34.789Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:48:34.793Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:48:34.796Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:48:34.797Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:48:34.797Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.0125866303152984},"totalComments":{"doubleValue":317.38923273348394},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":30010.73589575345},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:11.855Z"},"name":{"stringValue":"elit pariatur culpa"},"description":{"stringValue":"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor"},"discount":{"doubleValue":62795.38814000041},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:39:22.749Z","updateTime":"2020-12-17T10:41:32.200960Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.0125866303152984},"totalComments":{"doubleValue":317.38923273348394},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":30010.73589575345},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:11.855Z"},"name":{"stringValue":"elit pariatur culpa"},"description":{"stringValue":"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor"},"discount":{"doubleValue":62795.38814000041},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:39:22.746Z"}},"createTime":"2020-12-17T10:39:22.749Z","updateTime":"2020-12-17T10:39:22.749Z"},"updateMask":{}},"context":{"eventId":"67e86a71-a6db-4fe3-aea2-137018fab685","timestamp":"2020-12-17T10:41:32.200Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.0125866303152984},\"totalComments\":{\"doubleValue\":317.38923273348394},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":30010.73589575345},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:11.855Z\"},\"name\":{\"stringValue\":\"elit pariatur culpa\"},\"description\":{\"stringValue\":\"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor\"},\"discount\":{\"doubleValue\":62795.38814000041},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:39:22.749Z\",\"updateTime\":\"2020-12-17T10:41:32.200960Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.0125866303152984},\"totalComments\":{\"doubleValue\":317.38923273348394},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":30010.73589575345},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:11.855Z\"},\"name\":{\"stringValue\":\"elit pariatur culpa\"},\"description\":{\"stringValue\":\"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor\"},\"discount\":{\"doubleValue\":62795.38814000041},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:22.746Z\"}},\"createTime\":\"2020-12-17T10:39:22.749Z\",\"updateTime\":\"2020-12-17T10:39:22.749Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"67e86a71-a6db-4fe3-aea2-137018fab685\",\"timestamp\":\"2020-12-17T10:41:32.200Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:48:34.797Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:48:34.798Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.0125866303152984},"totalComments":{"doubleValue":317.38923273348394},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":30010.73589575345},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:11.855Z"},"name":{"stringValue":"elit pariatur culpa"},"description":{"stringValue":"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor"},"discount":{"doubleValue":62795.38814000041},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:39:22.749Z","updateTime":"2020-12-17T10:41:32.200960Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.0125866303152984},"totalComments":{"doubleValue":317.38923273348394},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":30010.73589575345},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:11.855Z"},"name":{"stringValue":"elit pariatur culpa"},"description":{"stringValue":"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor"},"discount":{"doubleValue":62795.38814000041},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:39:22.746Z"}},"createTime":"2020-12-17T10:39:22.749Z","updateTime":"2020-12-17T10:39:22.749Z"},"updateMask":{}},"context":{"eventId":"67e86a71-a6db-4fe3-aea2-137018fab685","timestamp":"2020-12-17T10:41:32.200Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.0125866303152984},\"totalComments\":{\"doubleValue\":317.38923273348394},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":30010.73589575345},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:11.855Z\"},\"name\":{\"stringValue\":\"elit pariatur culpa\"},\"description\":{\"stringValue\":\"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor\"},\"discount\":{\"doubleValue\":62795.38814000041},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:39:22.749Z\",\"updateTime\":\"2020-12-17T10:41:32.200960Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.0125866303152984},\"totalComments\":{\"doubleValue\":317.38923273348394},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":30010.73589575345},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:11.855Z\"},\"name\":{\"stringValue\":\"elit pariatur culpa\"},\"description\":{\"stringValue\":\"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor\"},\"discount\":{\"doubleValue\":62795.38814000041},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:22.746Z\"}},\"createTime\":\"2020-12-17T10:39:22.749Z\",\"updateTime\":\"2020-12-17T10:39:22.749Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"67e86a71-a6db-4fe3-aea2-137018fab685\",\"timestamp\":\"2020-12-17T10:41:32.200Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 3.0125866303152984, {"user":"    averageReview: 3.0125866303152984,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 3.0125866303152984,"}}
[info] >      totalComments: 317.38923273348394, {"user":"    totalComments: 317.38923273348394,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 317.38923273348394,"}}
[info] >      color: '#e7e7e7', {"user":"    color: '#e7e7e7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#e7e7e7',"}}
[info] >      price: 30010.73589575345, {"user":"    price: 30010.73589575345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 30010.73589575345,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608201551, _nanoseconds: 855000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608201551, _nanoseconds: 855000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608201551, _nanoseconds: 855000000 },"}}
[info] >      name: 'elit pariatur culpa', {"user":"    name: 'elit pariatur culpa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'elit pariatur culpa',"}}
[info] >      description: 'Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor', {"user":"    description: 'Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor',"}}
[info] >      discount: 62795.38814000041, {"user":"    discount: 62795.38814000041,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 62795.38814000041,"}}
[info] >      id: 'lMfmsCTXr2TTjvo8foiE', {"user":"    id: 'lMfmsCTXr2TTjvo8foiE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'lMfmsCTXr2TTjvo8foiE',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 3, {"user":"  quantity: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 3,"}}
[info] >    id: 'lMfmsCTXr2TTjvo8foiE', {"user":"  id: 'lMfmsCTXr2TTjvo8foiE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: 'lMfmsCTXr2TTjvo8foiE',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 200000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T09:48:34.870Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:48:34.871Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:48:34.871Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalItems: 42 } } {"user":" { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalItems: 42 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 2 } { currentBasket: { totalPrice: 0, totalItems: 42 } }"}}
[debug] [2020-12-17T09:48:37.325Z] Dec 17, 2020 9:48:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:37 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:37.463Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:48:37.464Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:48:37.464Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:48:37.464Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:48:37.464Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:48:37.464Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:48:37.467Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:48:37.469Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:48:37.469Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:48:37.470Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.0125866303152984},"totalComments":{"doubleValue":317.38923273348394},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":30010.73589575345},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:11.855Z"},"name":{"stringValue":"elit pariatur culpa"},"description":{"stringValue":"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor"},"discount":{"doubleValue":62795.38814000041},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"}},"createTime":"2020-12-17T10:39:22.749Z","updateTime":"2020-12-17T10:41:32.201130Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.0125866303152984},"totalComments":{"doubleValue":317.38923273348394},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":30010.73589575345},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:11.855Z"},"name":{"stringValue":"elit pariatur culpa"},"description":{"stringValue":"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor"},"discount":{"doubleValue":62795.38814000041},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:39:22.749Z","updateTime":"2020-12-17T10:41:32.200960Z"},"updateMask":{}},"context":{"eventId":"54e8e298-eab5-4ba3-8e45-d2329d851a85","timestamp":"2020-12-17T10:41:32.201Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.0125866303152984},\"totalComments\":{\"doubleValue\":317.38923273348394},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":30010.73589575345},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:11.855Z\"},\"name\":{\"stringValue\":\"elit pariatur culpa\"},\"description\":{\"stringValue\":\"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor\"},\"discount\":{\"doubleValue\":62795.38814000041},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"}},\"createTime\":\"2020-12-17T10:39:22.749Z\",\"updateTime\":\"2020-12-17T10:41:32.201130Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.0125866303152984},\"totalComments\":{\"doubleValue\":317.38923273348394},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":30010.73589575345},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:11.855Z\"},\"name\":{\"stringValue\":\"elit pariatur culpa\"},\"description\":{\"stringValue\":\"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor\"},\"discount\":{\"doubleValue\":62795.38814000041},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:39:22.749Z\",\"updateTime\":\"2020-12-17T10:41:32.200960Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"54e8e298-eab5-4ba3-8e45-d2329d851a85\",\"timestamp\":\"2020-12-17T10:41:32.201Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:48:37.470Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:48:37.470Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.0125866303152984},"totalComments":{"doubleValue":317.38923273348394},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":30010.73589575345},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:11.855Z"},"name":{"stringValue":"elit pariatur culpa"},"description":{"stringValue":"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor"},"discount":{"doubleValue":62795.38814000041},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"}},"createTime":"2020-12-17T10:39:22.749Z","updateTime":"2020-12-17T10:41:32.201130Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.0125866303152984},"totalComments":{"doubleValue":317.38923273348394},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":30010.73589575345},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:11.855Z"},"name":{"stringValue":"elit pariatur culpa"},"description":{"stringValue":"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor"},"discount":{"doubleValue":62795.38814000041},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"3"},"id":{"stringValue":"lMfmsCTXr2TTjvo8foiE"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:39:22.749Z","updateTime":"2020-12-17T10:41:32.200960Z"},"updateMask":{}},"context":{"eventId":"54e8e298-eab5-4ba3-8e45-d2329d851a85","timestamp":"2020-12-17T10:41:32.201Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.0125866303152984},\"totalComments\":{\"doubleValue\":317.38923273348394},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":30010.73589575345},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:11.855Z\"},\"name\":{\"stringValue\":\"elit pariatur culpa\"},\"description\":{\"stringValue\":\"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor\"},\"discount\":{\"doubleValue\":62795.38814000041},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"}},\"createTime\":\"2020-12-17T10:39:22.749Z\",\"updateTime\":\"2020-12-17T10:41:32.201130Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.0125866303152984},\"totalComments\":{\"doubleValue\":317.38923273348394},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":30010.73589575345},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:11.855Z\"},\"name\":{\"stringValue\":\"elit pariatur culpa\"},\"description\":{\"stringValue\":\"Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor\"},\"discount\":{\"doubleValue\":62795.38814000041},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"3\"},\"id\":{\"stringValue\":\"lMfmsCTXr2TTjvo8foiE\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:39:22.749Z\",\"updateTime\":\"2020-12-17T10:41:32.200960Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"54e8e298-eab5-4ba3-8e45-d2329d851a85\",\"timestamp\":\"2020-12-17T10:41:32.201Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/lMfmsCTXr2TTjvo8foiE\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 3.0125866303152984, {"user":"    averageReview: 3.0125866303152984,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 3.0125866303152984,"}}
[info] >      totalComments: 317.38923273348394, {"user":"    totalComments: 317.38923273348394,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 317.38923273348394,"}}
[info] >      color: '#e7e7e7', {"user":"    color: '#e7e7e7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#e7e7e7',"}}
[info] >      price: 30010.73589575345, {"user":"    price: 30010.73589575345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 30010.73589575345,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608201551, _nanoseconds: 855000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608201551, _nanoseconds: 855000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608201551, _nanoseconds: 855000000 },"}}
[info] >      name: 'elit pariatur culpa', {"user":"    name: 'elit pariatur culpa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'elit pariatur culpa',"}}
[info] >      description: 'Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor', {"user":"    description: 'Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt nostrud elit , excepteur tempor Adipisicing Ad Lorem velit excepteur et est , velit officia laborum . labore proident . tempor , laborum do cupidatat elit , , commodo , consectetur amet tempor labore , Lorem aute velit non ullamco tempor non sunt ullamco labore qui ullamco excepteur velit . do veniam , ullamco consectetur elit in cillum commodo commodo elit . Sunt excepteur tempor',"}}
[info] >      discount: 62795.38814000041, {"user":"    discount: 62795.38814000041,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 62795.38814000041,"}}
[info] >      id: 'lMfmsCTXr2TTjvo8foiE', {"user":"    id: 'lMfmsCTXr2TTjvo8foiE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: 'lMfmsCTXr2TTjvo8foiE',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 3, {"user":"  quantity: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 3,"}}
[info] >    id: 'lMfmsCTXr2TTjvo8foiE', {"user":"  id: 'lMfmsCTXr2TTjvo8foiE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: 'lMfmsCTXr2TTjvo8foiE',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalItems: 42 } } {"user":" { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalItems: 42 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalItems: 42 } }"}}
[debug] [2020-12-17T09:48:37.509Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:48:37.510Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:48:37.510Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:48:39.731Z] Dec 17, 2020 9:48:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:39.856Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:48:39.856Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:48:39.856Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:48:39.856Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:48:39.856Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:48:39.857Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:48:39.860Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:48:39.861Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:48:39.862Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:48:39.862Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"}},"createTime":"2020-12-17T10:41:32.199813Z","updateTime":"2020-12-17T10:41:32.201300Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:41:32.199813Z","updateTime":"2020-12-17T10:41:32.200674Z"},"updateMask":{}},"context":{"eventId":"7f04d599-f39f-4124-9818-2b864c7f0c08","timestamp":"2020-12-17T10:41:32.201Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"}},\"createTime\":\"2020-12-17T10:41:32.199813Z\",\"updateTime\":\"2020-12-17T10:41:32.201300Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:41:32.199813Z\",\"updateTime\":\"2020-12-17T10:41:32.200674Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"7f04d599-f39f-4124-9818-2b864c7f0c08\",\"timestamp\":\"2020-12-17T10:41:32.201Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:48:39.863Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:48:39.863Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"}},"createTime":"2020-12-17T10:41:32.199813Z","updateTime":"2020-12-17T10:41:32.201300Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.331411451519492},"totalComments":{"doubleValue":31.115676382190905},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":28482.09476404109},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.588Z"},"name":{"stringValue":"non proident ,"},"description":{"stringValue":"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud"},"discount":{"doubleValue":88289.66225962341},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"4"},"id":{"stringValue":"4HdGBrTO9w9jZ3Y6gS4Y"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:41:32.199813Z","updateTime":"2020-12-17T10:41:32.200674Z"},"updateMask":{}},"context":{"eventId":"7f04d599-f39f-4124-9818-2b864c7f0c08","timestamp":"2020-12-17T10:41:32.201Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"}},\"createTime\":\"2020-12-17T10:41:32.199813Z\",\"updateTime\":\"2020-12-17T10:41:32.201300Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.331411451519492},\"totalComments\":{\"doubleValue\":31.115676382190905},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":28482.09476404109},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.588Z\"},\"name\":{\"stringValue\":\"non proident ,\"},\"description\":{\"stringValue\":\"et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud\"},\"discount\":{\"doubleValue\":88289.66225962341},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"4\"},\"id\":{\"stringValue\":\"4HdGBrTO9w9jZ3Y6gS4Y\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:41:32.199813Z\",\"updateTime\":\"2020-12-17T10:41:32.200674Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"7f04d599-f39f-4124-9818-2b864c7f0c08\",\"timestamp\":\"2020-12-17T10:41:32.201Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/4HdGBrTO9w9jZ3Y6gS4Y\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 1.331411451519492, {"user":"    averageReview: 1.331411451519492,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 1.331411451519492,"}}
[info] >      totalComments: 31.115676382190905, {"user":"    totalComments: 31.115676382190905,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 31.115676382190905,"}}
[info] >      color: '#176ba3', {"user":"    color: '#176ba3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#176ba3',"}}
[info] >      price: 28482.09476404109, {"user":"    price: 28482.09476404109,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 28482.09476404109,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 588000000 },"}}
[info] >      name: 'non proident ,', {"user":"    name: 'non proident ,',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'non proident ,',"}}
[info] >      description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud', {"user":"    description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'et tempor pariatur do velit , irure aute labore sunt in , consectetur Proident aliqua irure non culpa magna , consectetur labore Ad . Officia commodo culpa qui consectetur Officia proident consectetur incididunt est qui Ad veniam consectetur , do tempor aute non non laborum dolor reprehenderit pariatur aute . nostrud',"}}
[info] >      discount: 88289.66225962341, {"user":"    discount: 88289.66225962341,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 88289.66225962341,"}}
[info] >      id: '4HdGBrTO9w9jZ3Y6gS4Y', {"user":"    id: '4HdGBrTO9w9jZ3Y6gS4Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '4HdGBrTO9w9jZ3Y6gS4Y',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 4, {"user":"  quantity: 4,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 4,"}}
[info] >    id: '4HdGBrTO9w9jZ3Y6gS4Y', {"user":"  id: '4HdGBrTO9w9jZ3Y6gS4Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '4HdGBrTO9w9jZ3Y6gS4Y',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalItems: 42 } } {"user":" { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalItems: 42 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 0 } { currentBasket: { totalPrice: 0, totalItems: 42 } }"}}
[debug] [2020-12-17T09:48:39.899Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:48:39.900Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:48:39.901Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:48:53.274Z] Dec 17, 2020 9:48:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:53 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:53.355Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:48:53.355Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:48:53.355Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:48:53.355Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:48:53.356Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:48:53.356Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:48:53.358Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:48:53.359Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:48:53.360Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:48:53.360Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"3"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.201472Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"8"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.200321Z"},"updateMask":{}},"context":{"eventId":"d0c2cef3-6a2c-45d8-bfc5-3b986219ec68","timestamp":"2020-12-17T10:41:32.201Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"3\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.201472Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"8\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.200321Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"d0c2cef3-6a2c-45d8-bfc5-3b986219ec68\",\"timestamp\":\"2020-12-17T10:41:32.201Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:48:53.360Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:48:53.361Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"3"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.201472Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"8"},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.200321Z"},"updateMask":{}},"context":{"eventId":"d0c2cef3-6a2c-45d8-bfc5-3b986219ec68","timestamp":"2020-12-17T10:41:32.201Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"3\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.201472Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"8\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.200321Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"d0c2cef3-6a2c-45d8-bfc5-3b986219ec68\",\"timestamp\":\"2020-12-17T10:41:32.201Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    id: '2urzBawDSOxMX5xRYm0H', {"user":"  id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >    quantity: 3, {"user":"  quantity: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 3,"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -5 } { currentBasket: { totalPrice: 0, totalItems: 37 } } {"user":" { quantityIncrement: -5 } { currentBasket: { totalPrice: 0, totalItems: 37 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -5 } { currentBasket: { totalPrice: 0, totalItems: 37 } }"}}
[debug] [2020-12-17T09:48:53.393Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:48:53.393Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:48:53.394Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:48:59.499Z] Dec 17, 2020 9:48:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:48:59 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:48:59.624Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:48:59.625Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:48:59.625Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:48:59.625Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:48:59.625Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:48:59.625Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:48:59.629Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:48:59.631Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:48:59.631Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:48:59.632Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"quantity":{"integerValue":"2"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.201642Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"5"},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.200151Z"},"updateMask":{}},"context":{"eventId":"8e9e42bd-d76d-41e2-aec4-f8e1d0afeaa2","timestamp":"2020-12-17T10:41:32.201Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"quantity\":{\"integerValue\":\"2\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.201642Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"5\"},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.200151Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"8e9e42bd-d76d-41e2-aec4-f8e1d0afeaa2\",\"timestamp\":\"2020-12-17T10:41:32.201Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:48:59.632Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:48:59.633Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"quantity":{"integerValue":"2"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.201642Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"5"},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.200151Z"},"updateMask":{}},"context":{"eventId":"8e9e42bd-d76d-41e2-aec4-f8e1d0afeaa2","timestamp":"2020-12-17T10:41:32.201Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"quantity\":{\"integerValue\":\"2\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.201642Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"5\"},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.200151Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"8e9e42bd-d76d-41e2-aec4-f8e1d0afeaa2\",\"timestamp\":\"2020-12-17T10:41:32.201Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.281701603162404, {"user":"    averageReview: 4.281701603162404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.281701603162404,"}}
[info] >      totalComments: 197.1859592060629, {"user":"    totalComments: 197.1859592060629,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 197.1859592060629,"}}
[info] >      color: '#176ba3', {"user":"    color: '#176ba3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#176ba3',"}}
[info] >      price: 24441.847323494057, {"user":"    price: 24441.847323494057,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 24441.847323494057,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 192000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 192000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 192000000 },"}}
[info] >      name: '', {"user":"    name: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: '',"}}
[info] >      description: 'ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum', {"user":"    description: 'ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum',"}}
[info] >      discount: 29714.64542041591, {"user":"    discount: 29714.64542041591,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 29714.64542041591,"}}
[info] >      id: '04TpE0f2s83U1O12htll', {"user":"    id: '04TpE0f2s83U1O12htll',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '04TpE0f2s83U1O12htll',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    id: '04TpE0f2s83U1O12htll', {"user":"  id: '04TpE0f2s83U1O12htll',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '04TpE0f2s83U1O12htll',"}}
[info] >    quantity: 2, {"user":"  quantity: 2,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 2,"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -3 } { currentBasket: { totalPrice: 0, totalItems: 34 } } {"user":" { quantityIncrement: -3 } { currentBasket: { totalPrice: 0, totalItems: 34 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -3 } { currentBasket: { totalPrice: 0, totalItems: 34 } }"}}
[debug] [2020-12-17T09:48:59.664Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:48:59.665Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:48:59.666Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:49:14.481Z] Dec 17, 2020 9:49:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:49:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:49:14.810Z] Dec 17, 2020 9:49:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:49:14 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:49:15.199Z] Dec 17, 2020 9:49:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:49:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:49:29.950Z] Dec 17, 2020 9:49:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:49:29 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:49:51.283Z] Dec 17, 2020 9:49:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:49:51 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:49:56.856Z] Dec 17, 2020 9:49:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:49:56 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:49:56.994Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:49:56.994Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:49:56.995Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:49:56.995Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:49:56.995Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:49:56.995Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:49:56.998Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:49:57.001Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:49:57.001Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:49:57.001Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"},"quantity":{"integerValue":"50"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.201820Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"quantity":{"integerValue":"2"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.201642Z"},"updateMask":{}},"context":{"eventId":"f8953dda-1e07-4765-906a-33748f54a2a0","timestamp":"2020-12-17T10:41:32.201Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"},\"quantity\":{\"integerValue\":\"50\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.201820Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"quantity\":{\"integerValue\":\"2\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.201642Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"f8953dda-1e07-4765-906a-33748f54a2a0\",\"timestamp\":\"2020-12-17T10:41:32.201Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:49:57.003Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:49:57.003Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"},"quantity":{"integerValue":"50"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.201820Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"quantity":{"integerValue":"2"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.201642Z"},"updateMask":{}},"context":{"eventId":"f8953dda-1e07-4765-906a-33748f54a2a0","timestamp":"2020-12-17T10:41:32.201Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"},\"quantity\":{\"integerValue\":\"50\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.201820Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"quantity\":{\"integerValue\":\"2\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.201642Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"f8953dda-1e07-4765-906a-33748f54a2a0\",\"timestamp\":\"2020-12-17T10:41:32.201Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 4.281701603162404, {"user":"    averageReview: 4.281701603162404,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 4.281701603162404,"}}
[info] >      totalComments: 197.1859592060629, {"user":"    totalComments: 197.1859592060629,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 197.1859592060629,"}}
[info] >      color: '#176ba3', {"user":"    color: '#176ba3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#176ba3',"}}
[info] >      price: 24441.847323494057, {"user":"    price: 24441.847323494057,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 24441.847323494057,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 192000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 192000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608201552, _nanoseconds: 192000000 },"}}
[info] >      name: '', {"user":"    name: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: '',"}}
[info] >      description: 'ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum', {"user":"    description: 'ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum',"}}
[info] >      discount: 29714.64542041591, {"user":"    discount: 29714.64542041591,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 29714.64542041591,"}}
[info] >      id: '04TpE0f2s83U1O12htll', {"user":"    id: '04TpE0f2s83U1O12htll',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '04TpE0f2s83U1O12htll',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    id: '04TpE0f2s83U1O12htll', {"user":"  id: '04TpE0f2s83U1O12htll',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '04TpE0f2s83U1O12htll',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 }, {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 },"}}
[info] >    quantity: 50 {"user":"  quantity: 50","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 50"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 48 } { currentBasket: { totalPrice: 0, totalItems: 82 } } {"user":" { quantityIncrement: 48 } { currentBasket: { totalPrice: 0, totalItems: 82 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 48 } { currentBasket: { totalPrice: 0, totalItems: 82 } }"}}
[debug] [2020-12-17T09:49:57.040Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:49:57.041Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:49:57.042Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:50:03.038Z] Dec 17, 2020 9:50:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:50:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:50:03.129Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:50:03.129Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:50:03.129Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:50:03.130Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:50:03.130Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:50:03.130Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:50:03.134Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:50:03.149Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:50:03.149Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:50:03.149Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"},"quantity":{"integerValue":"20"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.201990Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"3"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.201472Z"},"updateMask":{}},"context":{"eventId":"c1ff6808-fc3b-441d-a89b-77954ecb223b","timestamp":"2020-12-17T10:41:32.201Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"},\"quantity\":{\"integerValue\":\"20\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.201990Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"3\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.201472Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"c1ff6808-fc3b-441d-a89b-77954ecb223b\",\"timestamp\":\"2020-12-17T10:41:32.201Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:50:03.149Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:50:03.151Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"},"quantity":{"integerValue":"20"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.201990Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"quantity":{"integerValue":"3"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.201472Z"},"updateMask":{}},"context":{"eventId":"c1ff6808-fc3b-441d-a89b-77954ecb223b","timestamp":"2020-12-17T10:41:32.201Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"},\"quantity\":{\"integerValue\":\"20\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.201990Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"quantity\":{\"integerValue\":\"3\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.201472Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"c1ff6808-fc3b-441d-a89b-77954ecb223b\",\"timestamp\":\"2020-12-17T10:41:32.201Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 2.9885136098568177, {"user":"    averageReview: 2.9885136098568177,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 2.9885136098568177,"}}
[info] >      totalComments: 6.21613767423566, {"user":"    totalComments: 6.21613767423566,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 6.21613767423566,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 52991.68892664263, {"user":"    price: 52991.68892664263,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 52991.68892664263,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 613000000 },"}}
[info] >      name: 'amet', {"user":"    name: 'amet',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'amet',"}}
[info] >      description: 'Sunt , Ad Ad excepteur dolor', {"user":"    description: 'Sunt , Ad Ad excepteur dolor',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'Sunt , Ad Ad excepteur dolor',"}}
[info] >      discount: 72160.0680950161, {"user":"    discount: 72160.0680950161,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 72160.0680950161,"}}
[info] >      id: '2urzBawDSOxMX5xRYm0H', {"user":"    id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    id: '2urzBawDSOxMX5xRYm0H', {"user":"  id: '2urzBawDSOxMX5xRYm0H',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '2urzBawDSOxMX5xRYm0H',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 }, {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 201000000 },"}}
[info] >    quantity: 20 {"user":"  quantity: 20","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 20"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T09:50:03.178Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:50:03.178Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:50:03.179Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 17 } { currentBasket: { totalPrice: 0, totalItems: 99 } } {"user":" { quantityIncrement: 17 } { currentBasket: { totalPrice: 0, totalItems: 99 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 17 } { currentBasket: { totalPrice: 0, totalItems: 99 } }"}}
[debug] [2020-12-17T09:50:10.426Z] Dec 17, 2020 9:50:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:50:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:50:10.511Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:50:10.511Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:50:10.511Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:50:10.511Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:50:10.511Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:50:10.511Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:50:10.516Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:50:10.517Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:50:10.518Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:50:10.518Z] [runtime-status] [8072] ProcessBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"50"},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.202Z"}},"createTime":"2020-12-17T10:37:54.161001Z","updateTime":"2020-12-17T10:41:32.202160Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:37:54.161001Z","updateTime":"2020-12-17T10:41:32.199207Z"},"updateMask":{}},"context":{"eventId":"29c75b29-f773-43f4-bbeb-7327ead36680","timestamp":"2020-12-17T10:41:32.202Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"50\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.202Z\"}},\"createTime\":\"2020-12-17T10:37:54.161001Z\",\"updateTime\":\"2020-12-17T10:41:32.202160Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:37:54.161001Z\",\"updateTime\":\"2020-12-17T10:41:32.199207Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"29c75b29-f773-43f4-bbeb-7327ead36680\",\"timestamp\":\"2020-12-17T10:41:32.202Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:50:10.519Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:50:10.519Z] [runtime-status] [8072] RunBackground {"data":{"value":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"50"},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.202Z"}},"createTime":"2020-12-17T10:37:54.161001Z","updateTime":"2020-12-17T10:41:32.202160Z"},"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"quantity":{"integerValue":"1"},"details":{"stringValue":""},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.199Z"}},"createTime":"2020-12-17T10:37:54.161001Z","updateTime":"2020-12-17T10:41:32.199207Z"},"updateMask":{}},"context":{"eventId":"29c75b29-f773-43f4-bbeb-7327ead36680","timestamp":"2020-12-17T10:41:32.202Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"value\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"50\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.202Z\"}},\"createTime\":\"2020-12-17T10:37:54.161001Z\",\"updateTime\":\"2020-12-17T10:41:32.202160Z\"},\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"quantity\":{\"integerValue\":\"1\"},\"details\":{\"stringValue\":\"\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.199Z\"}},\"createTime\":\"2020-12-17T10:37:54.161001Z\",\"updateTime\":\"2020-12-17T10:41:32.199207Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"29c75b29-f773-43f4-bbeb-7327ead36680\",\"timestamp\":\"2020-12-17T10:41:32.202Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\"}}"}}
[info] >  Adding { {"user":"Adding {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding {"}}
[info] >    product: { {"user":"  product: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   product: {"}}
[info] >      averageReview: 3.798561446297073, {"user":"    averageReview: 3.798561446297073,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     averageReview: 3.798561446297073,"}}
[info] >      totalComments: 94.37736414553208, {"user":"    totalComments: 94.37736414553208,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     totalComments: 94.37736414553208,"}}
[info] >      color: '#ffa1a1b2', {"user":"    color: '#ffa1a1b2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     color: '#ffa1a1b2',"}}
[info] >      price: 6584.2385718533515, {"user":"    price: 6584.2385718533515,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     price: 6584.2385718533515,"}}
[info] >      imageUrl: 'https://placehold.it/100x100?text=user%20avatar', {"user":"    imageUrl: 'https://placehold.it/100x100?text=user%20avatar',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     imageUrl: 'https://placehold.it/100x100?text=user%20avatar',"}}
[info] >      lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 }, {"user":"    lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     lastUpdate: Timestamp { _seconds: 1608200511, _nanoseconds: 604000000 },"}}
[info] >      name: 'consectetur', {"user":"    name: 'consectetur',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     name: 'consectetur',"}}
[info] >      description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore', {"user":"    description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     description: 'non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore',"}}
[info] >      discount: 70766.22364740193, {"user":"    discount: 70766.22364740193,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     discount: 70766.22364740193,"}}
[info] >      id: '3gj4w3j5HAAonN4GDEXt', {"user":"    id: '3gj4w3j5HAAonN4GDEXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     id: '3gj4w3j5HAAonN4GDEXt',"}}
[info] >      category: 'products', {"user":"    category: 'products',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     category: 'products',"}}
[info] >      tags: [ '', '', '' ] {"user":"    tags: [ '', '', '' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m     tags: [ '', '', '' ]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    details: '', {"user":"  details: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   details: '',"}}
[info] >    quantity: 50, {"user":"  quantity: 50,","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   quantity: 50,"}}
[info] >    id: '3gj4w3j5HAAonN4GDEXt', {"user":"  id: '3gj4w3j5HAAonN4GDEXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   id: '3gj4w3j5HAAonN4GDEXt',"}}
[info] >    lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 202000000 } {"user":"  lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 202000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m   lastUpdate: Timestamp { _seconds: 1608201692, _nanoseconds: 202000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2020-12-17T09:50:10.556Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:50:10.557Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:50:10.557Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: 49 } { currentBasket: { totalPrice: 0, totalItems: 148 } } {"user":" { quantityIncrement: 49 } { currentBasket: { totalPrice: 0, totalItems: 148 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: 49 } { currentBasket: { totalPrice: 0, totalItems: 148 } }"}}
[debug] [2020-12-17T09:50:22.694Z] Dec 17, 2020 9:50:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:50:22 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:50:23.037Z] Dec 17, 2020 9:50:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:50:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:50:23.429Z] Dec 17, 2020 9:50:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:50:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:50:27.830Z] Dec 17, 2020 9:50:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:50:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:50:28.207Z] Dec 17, 2020 9:50:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:50:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:50:40.832Z] Dec 17, 2020 9:50:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:50:40 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:02.906Z] Dec 17, 2020 9:51:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:02 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:03.237Z] Dec 17, 2020 9:51:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:03 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:09.500Z] Dec 17, 2020 9:51:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:09 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:10.849Z] Dec 17, 2020 9:51:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:10 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:10.854Z] Dec 17, 2020 9:51:10 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:10 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T09:51:12.125Z] Dec 17, 2020 9:51:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:12.676Z] Dec 17, 2020 9:51:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:12 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:13.018Z] Dec 17, 2020 9:51:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:13.106Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:51:13.106Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:51:13.106Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:51:13.106Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:51:13.107Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:51:13.107Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:51:13.109Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:51:13.112Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:51:13.112Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:51:13.112Z] [runtime-status] [8072] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"},"quantity":{"integerValue":"50"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.201820Z"},"updateMask":{}},"context":{"eventId":"0046d0f2-1acb-4b95-8d0b-d0939a1dc40d","timestamp":"2020-12-17T10:41:32.202Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"},\"quantity\":{\"integerValue\":\"50\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.201820Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0046d0f2-1acb-4b95-8d0b-d0939a1dc40d\",\"timestamp\":\"2020-12-17T10:41:32.202Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:51:13.113Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:51:13.113Z] [runtime-status] [8072] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":4.281701603162404},"totalComments":{"doubleValue":197.1859592060629},"color":{"stringValue":"#176ba3"},"price":{"doubleValue":24441.847323494057},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.192Z"},"name":{"stringValue":""},"description":{"stringValue":"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum"},"discount":{"doubleValue":29714.64542041591},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"04TpE0f2s83U1O12htll"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"},"quantity":{"integerValue":"50"}},"createTime":"2020-12-17T10:41:32.199648Z","updateTime":"2020-12-17T10:41:32.201820Z"},"updateMask":{}},"context":{"eventId":"0046d0f2-1acb-4b95-8d0b-d0939a1dc40d","timestamp":"2020-12-17T10:41:32.202Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":4.281701603162404},\"totalComments\":{\"doubleValue\":197.1859592060629},\"color\":{\"stringValue\":\"#176ba3\"},\"price\":{\"doubleValue\":24441.847323494057},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.192Z\"},\"name\":{\"stringValue\":\"\"},\"description\":{\"stringValue\":\"ullamco Adipisicing officia qui in dolor tempor consectetur , qui , in do incididunt anim anim consectetur non , minim minim et sunt Ad . cupidatat cupidatat . aliqua cillum\"},\"discount\":{\"doubleValue\":29714.64542041591},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"04TpE0f2s83U1O12htll\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"},\"quantity\":{\"integerValue\":\"50\"}},\"createTime\":\"2020-12-17T10:41:32.199648Z\",\"updateTime\":\"2020-12-17T10:41:32.201820Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0046d0f2-1acb-4b95-8d0b-d0939a1dc40d\",\"timestamp\":\"2020-12-17T10:41:32.202Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/04TpE0f2s83U1O12htll\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -50 } { currentBasket: { totalPrice: 0, totalItems: 98 } } {"user":" { quantityIncrement: -50 } { currentBasket: { totalPrice: 0, totalItems: 98 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -50 } { currentBasket: { totalPrice: 0, totalItems: 98 } }"}}
[debug] [2020-12-17T09:51:13.146Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:51:13.147Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:51:13.147Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:51:13.472Z] Dec 17, 2020 9:51:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:13.801Z] Dec 17, 2020 9:51:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:13.833Z] Dec 17, 2020 9:51:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:13 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:13.909Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:51:13.909Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:51:13.909Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:51:13.909Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:51:13.909Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:51:13.909Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:51:13.912Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:51:13.915Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:51:13.915Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:51:13.916Z] [runtime-status] [8072] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"50"},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.202Z"}},"createTime":"2020-12-17T10:37:54.161001Z","updateTime":"2020-12-17T10:41:32.202160Z"},"updateMask":{}},"context":{"eventId":"8e1e900f-0552-47fb-9504-dd50de2ce0a8","timestamp":"2020-12-17T10:41:32.202Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"50\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.202Z\"}},\"createTime\":\"2020-12-17T10:37:54.161001Z\",\"updateTime\":\"2020-12-17T10:41:32.202160Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"8e1e900f-0552-47fb-9504-dd50de2ce0a8\",\"timestamp\":\"2020-12-17T10:41:32.202Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:51:13.916Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:51:13.916Z] [runtime-status] [8072] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":3.798561446297073},"totalComments":{"doubleValue":94.37736414553208},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":6584.2385718533515},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.604Z"},"name":{"stringValue":"consectetur"},"description":{"stringValue":"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore"},"discount":{"doubleValue":70766.22364740193},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"50"},"id":{"stringValue":"3gj4w3j5HAAonN4GDEXt"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.202Z"}},"createTime":"2020-12-17T10:37:54.161001Z","updateTime":"2020-12-17T10:41:32.202160Z"},"updateMask":{}},"context":{"eventId":"8e1e900f-0552-47fb-9504-dd50de2ce0a8","timestamp":"2020-12-17T10:41:32.202Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":3.798561446297073},\"totalComments\":{\"doubleValue\":94.37736414553208},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":6584.2385718533515},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.604Z\"},\"name\":{\"stringValue\":\"consectetur\"},\"description\":{\"stringValue\":\"non Officia . est non Officia do consectetur commodo duis tempor ullamco do est Officia ullamco qui est velit ullamco proident veniam ullamco qui commodo ex sunt qui . laborum excepteur ut est culpa officia proident in amet nostrud do ut nostrud elit consectetur labore dolor dolor et . aute , est non Sunt voluptate ullamco , officia ullamco velit officia aute consectetur dolore\"},\"discount\":{\"doubleValue\":70766.22364740193},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"50\"},\"id\":{\"stringValue\":\"3gj4w3j5HAAonN4GDEXt\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.202Z\"}},\"createTime\":\"2020-12-17T10:37:54.161001Z\",\"updateTime\":\"2020-12-17T10:41:32.202160Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"8e1e900f-0552-47fb-9504-dd50de2ce0a8\",\"timestamp\":\"2020-12-17T10:41:32.202Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/3gj4w3j5HAAonN4GDEXt\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -50 } { currentBasket: { totalPrice: 0, totalItems: 48 } } {"user":" { quantityIncrement: -50 } { currentBasket: { totalPrice: 0, totalItems: 48 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -50 } { currentBasket: { totalPrice: 0, totalItems: 48 } }"}}
[debug] [2020-12-17T09:51:13.940Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:51:13.941Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:51:13.943Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:51:15.476Z] Dec 17, 2020 9:51:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:15.539Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:51:15.539Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:51:15.539Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:51:15.540Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:51:15.540Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:51:15.540Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:51:15.543Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:51:15.547Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:51:15.548Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:51:15.548Z] [runtime-status] [8072] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"},"quantity":{"integerValue":"20"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.201990Z"},"updateMask":{}},"context":{"eventId":"42c55860-5275-4f9d-8f24-60f9d451e294","timestamp":"2020-12-17T10:41:32.202Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"},\"quantity\":{\"integerValue\":\"20\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.201990Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"42c55860-5275-4f9d-8f24-60f9d451e294\",\"timestamp\":\"2020-12-17T10:41:32.202Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:51:15.548Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:51:15.548Z] [runtime-status] [8072] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":2.9885136098568177},"totalComments":{"doubleValue":6.21613767423566},"color":{"stringValue":"#ffa1a1b2"},"price":{"doubleValue":52991.68892664263},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:21:51.613Z"},"name":{"stringValue":"amet"},"description":{"stringValue":"Sunt , Ad Ad excepteur dolor"},"discount":{"doubleValue":72160.0680950161},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"id":{"stringValue":"2urzBawDSOxMX5xRYm0H"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.201Z"},"quantity":{"integerValue":"20"}},"createTime":"2020-12-17T10:41:32.199483Z","updateTime":"2020-12-17T10:41:32.201990Z"},"updateMask":{}},"context":{"eventId":"42c55860-5275-4f9d-8f24-60f9d451e294","timestamp":"2020-12-17T10:41:32.202Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":2.9885136098568177},\"totalComments\":{\"doubleValue\":6.21613767423566},\"color\":{\"stringValue\":\"#ffa1a1b2\"},\"price\":{\"doubleValue\":52991.68892664263},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:21:51.613Z\"},\"name\":{\"stringValue\":\"amet\"},\"description\":{\"stringValue\":\"Sunt , Ad Ad excepteur dolor\"},\"discount\":{\"doubleValue\":72160.0680950161},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"id\":{\"stringValue\":\"2urzBawDSOxMX5xRYm0H\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.201Z\"},\"quantity\":{\"integerValue\":\"20\"}},\"createTime\":\"2020-12-17T10:41:32.199483Z\",\"updateTime\":\"2020-12-17T10:41:32.201990Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"42c55860-5275-4f9d-8f24-60f9d451e294\",\"timestamp\":\"2020-12-17T10:41:32.202Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/2urzBawDSOxMX5xRYm0H\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -20 } { currentBasket: { totalPrice: 0, totalItems: 28 } } {"user":" { quantityIncrement: -20 } { currentBasket: { totalPrice: 0, totalItems: 28 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -20 } { currentBasket: { totalPrice: 0, totalItems: 28 } }"}}
[debug] [2020-12-17T09:51:15.593Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:51:15.595Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:51:15.595Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:51:15.928Z] Dec 17, 2020 9:51:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:51:16.255Z] Dec 17, 2020 9:51:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:51:16 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:15.866Z] Dec 17, 2020 9:52:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:15 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:15.870Z] Dec 17, 2020 9:52:15 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:15 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T09:52:20.044Z] Dec 17, 2020 9:52:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:20.429Z] Dec 17, 2020 9:52:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:20.866Z] Dec 17, 2020 9:52:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:20 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:23.674Z] Dec 17, 2020 9:52:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:23 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:26.860Z] Dec 17, 2020 9:52:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:26 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:27.232Z] Dec 17, 2020 9:52:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:27.558Z] Dec 17, 2020 9:52:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:27.613Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-17T09:52:27.613Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-17T09:52:27.613Z] Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0 {"metadata":{"emulator":{"name":"functions"},"message":"Accepted request POST /functions/projects/pedacinhos-de-amor/triggers/countBasketTotals-0 --> countBasketTotals-0"}}
[debug] [2020-12-17T09:52:27.613Z] [worker-pool] submitWork(triggerId=countBasketTotals) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=countBasketTotals)"}}
[debug] [2020-12-17T09:52:27.613Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\?\pipe\C:\Users\joset\Documents\work\web_dev\pda\pedacinhos-de-amor\functions\8072 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\joset\\Documents\\work\\web_dev\\pda\\pedacinhos-de-amor\\functions\\8072"}}
[debug] [2020-12-17T09:52:27.613Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: BUSY"}}
[debug] [2020-12-17T09:52:27.616Z] [runtime-status] [8072] Trigger "countBasketTotals" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Trigger \"countBasketTotals\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "countBasketTotals" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Beginning execution of \"countBasketTotals\""}}
[debug] [2020-12-17T09:52:27.627Z] [runtime-status] [8072] triggerDefinition {"eventTrigger":{"resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"},"name":"countBasketTotals","entryPoint":"countBasketTotals"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] triggerDefinition {\"eventTrigger\":{\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/{usetId}/content/basket/items/{itemId}\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"service\":\"firestore.googleapis.com\"},\"name\":\"countBasketTotals\",\"entryPoint\":\"countBasketTotals\"}"}}
[debug] [2020-12-17T09:52:27.627Z] [runtime-status] [8072] Running countBasketTotals in mode BACKGROUND {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Running countBasketTotals in mode BACKGROUND"}}
[debug] [2020-12-17T09:52:27.627Z] [runtime-status] [8072] ProcessBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.3148399889636075},"totalComments":{"doubleValue":77.41021967902324},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":54620.00635557211},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.186Z"},"name":{"stringValue":"consectetur proident"},"description":{"stringValue":"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia"},"discount":{"doubleValue":75505.18281993753},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"20"},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:39:21.685003Z","updateTime":"2020-12-17T10:41:32.200491Z"},"updateMask":{}},"context":{"eventId":"0d7a5b87-d2c8-4bb3-b714-b7ab1574124f","timestamp":"2020-12-17T10:41:32.202Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","service":"firestore.googleapis.com"}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.3148399889636075},\"totalComments\":{\"doubleValue\":77.41021967902324},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":54620.00635557211},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.186Z\"},\"name\":{\"stringValue\":\"consectetur proident\"},\"description\":{\"stringValue\":\"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia\"},\"discount\":{\"doubleValue\":75505.18281993753},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"20\"},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:39:21.685003Z\",\"updateTime\":\"2020-12-17T10:41:32.200491Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0d7a5b87-d2c8-4bb3-b714-b7ab1574124f\",\"timestamp\":\"2020-12-17T10:41:32.202Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"service\":\"firestore.googleapis.com\"}}}"}}
[debug] [2020-12-17T09:52:27.627Z] [runtime-status] [8072] ProcessBackground: lifting resource.name from resource {"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2020-12-17T09:52:27.628Z] [runtime-status] [8072] RunBackground {"data":{"oldValue":{"name":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK","fields":{"product":{"mapValue":{"fields":{"averageReview":{"doubleValue":1.3148399889636075},"totalComments":{"doubleValue":77.41021967902324},"color":{"stringValue":"#e7e7e7"},"price":{"doubleValue":54620.00635557211},"imageUrl":{"stringValue":"https://placehold.it/100x100?text=user%20avatar"},"lastUpdate":{"timestampValue":"2020-12-17T10:39:12.186Z"},"name":{"stringValue":"consectetur proident"},"description":{"stringValue":"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia"},"discount":{"doubleValue":75505.18281993753},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"category":{"stringValue":"products"},"tags":{"arrayValue":{"values":[{"stringValue":""},{"stringValue":""},{"stringValue":""}]}}}}},"details":{"stringValue":""},"quantity":{"integerValue":"20"},"id":{"stringValue":"K7kAM43emS4RXBWf4MhK"},"lastUpdate":{"timestampValue":"2020-12-17T10:41:32.200Z"}},"createTime":"2020-12-17T10:39:21.685003Z","updateTime":"2020-12-17T10:41:32.200491Z"},"updateMask":{}},"context":{"eventId":"0d7a5b87-d2c8-4bb3-b714-b7ab1574124f","timestamp":"2020-12-17T10:41:32.202Z","eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] RunBackground {\"data\":{\"oldValue\":{\"name\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\",\"fields\":{\"product\":{\"mapValue\":{\"fields\":{\"averageReview\":{\"doubleValue\":1.3148399889636075},\"totalComments\":{\"doubleValue\":77.41021967902324},\"color\":{\"stringValue\":\"#e7e7e7\"},\"price\":{\"doubleValue\":54620.00635557211},\"imageUrl\":{\"stringValue\":\"https://placehold.it/100x100?text=user%20avatar\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:39:12.186Z\"},\"name\":{\"stringValue\":\"consectetur proident\"},\"description\":{\"stringValue\":\"tempor elit tempor tempor excepteur proident in aliqua consectetur est Adipisicing deserunt ut velit cupidatat do , Sunt qui est proident officia Proident dolore cupidatat Ad velit non cupidatat ullamco consectetur . excepteur labore , ut Proident Ex Officia pariatur do cupidatat non do velit magna elit culpa . officia est reprehenderit veniam est do consectetur tempor elit voluptate velit elit tempor cupidatat aute elit . , elit non consectetur minim cupidatat non nostrud . . do dolore non proident qui minim excepteur aute est in et aliqua cillum anim qui Proident Proident Officia\"},\"discount\":{\"doubleValue\":75505.18281993753},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"category\":{\"stringValue\":\"products\"},\"tags\":{\"arrayValue\":{\"values\":[{\"stringValue\":\"\"},{\"stringValue\":\"\"},{\"stringValue\":\"\"}]}}}}},\"details\":{\"stringValue\":\"\"},\"quantity\":{\"integerValue\":\"20\"},\"id\":{\"stringValue\":\"K7kAM43emS4RXBWf4MhK\"},\"lastUpdate\":{\"timestampValue\":\"2020-12-17T10:41:32.200Z\"}},\"createTime\":\"2020-12-17T10:39:21.685003Z\",\"updateTime\":\"2020-12-17T10:41:32.200491Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"0d7a5b87-d2c8-4bb3-b714-b7ab1574124f\",\"timestamp\":\"2020-12-17T10:41:32.202Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.write\",\"resource\":\"projects/pedacinhos-de-amor/databases/(default)/documents/users/GtDGLeONa4S38qWWI2If/content/basket/items/K7kAM43emS4RXBWf4MhK\"}}"}}
[info] >  Adding undefined {"user":"Adding undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Adding undefined"}}
[info] >  Counters updated. added => {"user":"Counters updated. added =>","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m Counters updated. added =>"}}
[info] >   { quantityIncrement: -20 } { currentBasket: { totalPrice: 0, totalItems: 8 } } {"user":" { quantityIncrement: -20 } { currentBasket: { totalPrice: 0, totalItems: 8 } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"\u001b[90m> \u001b[39m  { quantityIncrement: -20 } { currentBasket: { totalPrice: 0, totalItems: 8 } }"}}
[debug] [2020-12-17T09:52:27.664Z] [runtime-status] [8072] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"[runtime-status] [8072] Ephemeral server survived."}}
[info] i  functions: Finished "countBasketTotals" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"countBasketTotals"},"message":"Finished \"countBasketTotals\" in ~1s"}}
[debug] [2020-12-17T09:52:27.665Z] [worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-countBasketTotals-eba5ead3-a97f-4a4b-9129-d6550cc028c0]: IDLE"}}
[debug] [2020-12-17T09:52:27.666Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-17T09:52:28.010Z] Dec 17, 2020 9:52:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:28.389Z] Dec 17, 2020 9:52:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:38.868Z] Dec 17, 2020 9:52:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:38 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:39.198Z] Dec 17, 2020 9:52:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:52:39.588Z] Dec 17, 2020 9:52:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:52:39 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:53:25.230Z] Dec 17, 2020 9:53:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:25 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:53:27.486Z] Dec 17, 2020 9:53:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:53:27.812Z] Dec 17, 2020 9:53:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:53:27.953Z] Dec 17, 2020 9:53:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:27 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:53:28.142Z] Dec 17, 2020 9:53:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:28 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:53:28.147Z] Dec 17, 2020 9:53:28 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:28 AM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\r\nINFO: channel closed\r\n"}}
[debug] [2020-12-17T09:53:42.874Z] Dec 17, 2020 9:53:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:42 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:53:43.282Z] Dec 17, 2020 9:53:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:53:43.892Z] Dec 17, 2020 9:53:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:53:43 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:00.526Z] Dec 17, 2020 9:54:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:00.871Z] Dec 17, 2020 9:54:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:00 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:07.670Z] Dec 17, 2020 9:54:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 9:54:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 17, 2020 9:54:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 9:54:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\nDec 17, 2020 9:54:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:07.670Z] Dec 17, 2020 9:54:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:07.676Z] Dec 17, 2020 9:54:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:07.693Z] Dec 17, 2020 9:54:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:07 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
[debug] [2020-12-17T09:54:44.243Z] Dec 17, 2020 9:54:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Dec 17, 2020 9:54:44 AM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\r\nINFO: Detected non-HTTP/2 connection.\r\n"}}
